/*! For license information please see 2.21829c22.chunk.js.LICENSE.txt */
(this["webpackJsonpknn-for-ml"]=this["webpackJsonpknn-for-ml"]||[]).push([[2],[function(t,e,i){"use strict";t.exports=i(41)},function(t,e,i){"use strict";t.exports=i(42)},,function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return P})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return E}));var n=i(10),o=i(1),r=i.n(o),a=(i(14),i(13)),s=i(30),l=i(11),u=i(4),h=i(31),p=i.n(h),c=(i(35),i(16)),d=(i(40),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),f=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),g=function(t){function e(e){var i;return(i=t.call(this,e)||this).state={location:e.history.location},i._isMounted=!1,i._pendingLocation=null,e.staticContext||(i.unlisten=e.history.listen((function(t){i._isMounted?i.setState({location:t}):i._pendingLocation=t}))),i}Object(n.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var i=e.prototype;return i.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&this.unlisten()},i.render=function(){return r.a.createElement(f.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},e}(r.a.Component);r.a.Component;var m=function(t){function e(){return t.apply(this,arguments)||this}Object(n.a)(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(r.a.Component);var y={},v=0;function C(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(y[t])return y[t];var e=p.a.compile(t);return v<1e4&&(y[t]=e,v++),e}(t)(e,{pretty:!0})}function x(t){var e=t.computedMatch,i=t.to,n=t.push,o=void 0!==n&&n;return r.a.createElement(f.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,s=t.staticContext,h=o?n.push:n.replace,p=Object(a.c)(e?"string"===typeof i?C(i,e.params):Object(u.a)({},i,{pathname:C(i.pathname,e.params)}):i);return s?(h(p),null):r.a.createElement(m,{onMount:function(){h(p)},onUpdate:function(t,e){var i=Object(a.c)(e.to);Object(a.f)(i,Object(u.a)({},p,{key:i.key}))||h(p)},to:i})}))}var b={},w=0;function E(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var i=e,n=i.path,o=i.exact,r=void 0!==o&&o,a=i.strict,s=void 0!==a&&a,l=i.sensitive,u=void 0!==l&&l;return[].concat(n).reduce((function(e,i){if(!i&&""!==i)return null;if(e)return e;var n=function(t,e){var i=""+e.end+e.strict+e.sensitive,n=b[i]||(b[i]={});if(n[t])return n[t];var o=[],r={regexp:p()(t,o,e),keys:o};return w<1e4&&(n[t]=r,w++),r}(i,{end:r,strict:s,sensitive:u}),o=n.regexp,a=n.keys,l=o.exec(t);if(!l)return null;var h=l[0],c=l.slice(1),d=t===h;return r&&!d?null:{path:i,url:"/"===i&&""===h?"/":h,isExact:d,params:a.reduce((function(t,e,i){return t[e.name]=c[i],t}),{})}}),null)}var P=function(t){function e(){return t.apply(this,arguments)||this}return Object(n.a)(e,t),e.prototype.render=function(){var t=this;return r.a.createElement(f.Consumer,null,(function(e){e||Object(l.a)(!1);var i=t.props.location||e.location,n=t.props.computedMatch?t.props.computedMatch:t.props.path?E(i.pathname,t.props):e.match,o=Object(u.a)({},e,{location:i,match:n}),a=t.props,s=a.children,h=a.component,p=a.render;return Array.isArray(s)&&0===s.length&&(s=null),r.a.createElement(f.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:h?r.a.createElement(h,o):p?p(o):null:"function"===typeof s?s(o):null)}))},e}(r.a.Component);function S(t){return"/"===t.charAt(0)?t:"/"+t}function T(t,e){if(!t)return e;var i=S(t);return 0!==e.pathname.indexOf(i)?e:Object(u.a)({},e,{pathname:e.pathname.substr(i.length)})}function _(t){return"string"===typeof t?t:Object(a.e)(t)}function M(t){return function(){Object(l.a)(!1)}}function R(){}r.a.Component;r.a.Component;r.a.useContext},function(t,e,i){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}i.d(e,"a",(function(){return n}))},function(t,e,i){var n;!function(i){"use strict";var o=function(t){return.5*(Math.exp(t)+Math.exp(-t))},r=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function s(t,e){var i=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(i):i<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function l(t,e){if(!(this instanceof l))return new l(t,e);var i=function(t,e){var i={re:0,im:0};if(void 0===t||null===t)i.re=i.im=0;else if(void 0!==e)i.re=t,i.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)i.re=t.re,i.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return l.INFINITY;i.re=t.abs*Math.cos(t.arg),i.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return l.INFINITY;i.re=t.r*Math.cos(t.phi),i.im=t.r*Math.sin(t.phi)}else 2===t.length?(i.re=t[0],i.im=t[1]):a();break;case"string":i.im=i.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,r=0;null===n&&a();for(var s=0;s<n.length;s++){var u=n[s];" "===u||"\t"===u||"\n"===u||("+"===u?o++:"-"===u?r++:"i"===u||"I"===u?(o+r===0&&a()," "===n[s+1]||isNaN(n[s+1])?i.im+=parseFloat((r%2?"-":"")+"1"):(i.im+=parseFloat((r%2?"-":"")+n[s+1]),s++),o=r=0):((o+r===0||isNaN(u))&&a(),"i"===n[s+1]||"I"===n[s+1]?(i.im+=parseFloat((r%2?"-":"")+u),s++):i.re+=parseFloat((r%2?"-":"")+u),o=r=0))}o+r>0&&a();break;case"number":i.im=0,i.re=t;break;default:a()}return isNaN(i.re)||isNaN(i.im),i}(t,e);this.re=i.re,this.im=i.im}l.prototype={re:0,im:0,sign:function(){var t=this.abs();return new l(this.re/t,this.im/t)},add:function(t,e){var i=new l(t,e);return this.isInfinite()&&i.isInfinite()?l.NAN:this.isInfinite()||i.isInfinite()?l.INFINITY:new l(this.re+i.re,this.im+i.im)},sub:function(t,e){var i=new l(t,e);return this.isInfinite()&&i.isInfinite()?l.NAN:this.isInfinite()||i.isInfinite()?l.INFINITY:new l(this.re-i.re,this.im-i.im)},mul:function(t,e){var i=new l(t,e);return this.isInfinite()&&i.isZero()||this.isZero()&&i.isInfinite()?l.NAN:this.isInfinite()||i.isInfinite()?l.INFINITY:0===i.im&&0===this.im?new l(this.re*i.re,0):new l(this.re*i.re-this.im*i.im,this.re*i.im+this.im*i.re)},div:function(t,e){var i=new l(t,e);if(this.isZero()&&i.isZero()||this.isInfinite()&&i.isInfinite())return l.NAN;if(this.isInfinite()||i.isZero())return l.INFINITY;if(this.isZero()||i.isInfinite())return l.ZERO;t=this.re,e=this.im;var n,o,r=i.re,a=i.im;return 0===a?new l(t/r,e/r):Math.abs(r)<Math.abs(a)?new l((t*(o=r/a)+e)/(n=r*o+a),(e*o-t)/n):new l((t+e*(o=a/r))/(n=a*o+r),(e-t*o)/n)},pow:function(t,e){var i=new l(t,e);if(t=this.re,e=this.im,i.isZero())return l.ONE;if(0===i.im){if(0===e&&t>=0)return new l(Math.pow(t,i.re),0);if(0===t)switch((i.re%4+4)%4){case 0:return new l(Math.pow(e,i.re),0);case 1:return new l(0,Math.pow(e,i.re));case 2:return new l(-Math.pow(e,i.re),0);case 3:return new l(0,-Math.pow(e,i.re))}}if(0===t&&0===e&&i.re>0&&i.im>=0)return l.ZERO;var n=Math.atan2(e,t),o=s(t,e);return t=Math.exp(i.re*o-i.im*n),e=i.im*o+i.re*n,new l(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,i=this.re,n=this.im,o=this.abs();if(i>=0){if(0===n)return new l(Math.sqrt(i),0);t=.5*Math.sqrt(2*(o+i))}else t=Math.abs(n)/Math.sqrt(2*(o-i));return e=i<=0?.5*Math.sqrt(2*(o-i)):Math.abs(n)/Math.sqrt(2*(o+i)),new l(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new l(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new l(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var i=t*t;return i*(i*(1/24+i*(-1/720+i*(1/40320+i*(-1/3628800+i*(1/4790014600+i*(-1/87178291200+i*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new l(s(t,e),Math.atan2(e,t))},abs:function(){return function(t,e){var i=Math.abs(t),n=Math.abs(e);return i<3e3&&n<3e3?Math.sqrt(i*i+n*n):(i<n?(i=n,n=t/e):n=e/t,i*Math.sqrt(1+n*n))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new l(Math.sin(t)*o(e),Math.cos(t)*r(e))},cos:function(){var t=this.re,e=this.im;return new l(Math.cos(t)*o(e),-Math.sin(t)*r(e))},tan:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)+o(e);return new l(Math.sin(t)/i,r(e)/i)},cot:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)-o(e);return new l(-Math.sin(t)/i,r(e)/i)},sec:function(){var t=this.re,e=this.im,i=.5*o(2*e)+.5*Math.cos(2*t);return new l(Math.cos(t)*o(e)/i,Math.sin(t)*r(e)/i)},csc:function(){var t=this.re,e=this.im,i=.5*o(2*e)-.5*Math.cos(2*t);return new l(Math.sin(t)*o(e)/i,-Math.cos(t)*r(e)/i)},asin:function(){var t=this.re,e=this.im,i=new l(e*e-t*t+1,-2*t*e).sqrt(),n=new l(i.re-e,i.im+t).log();return new l(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,i=new l(e*e-t*t+1,-2*t*e).sqrt(),n=new l(i.re-e,i.im+t).log();return new l(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new l(0,1/0);if(-1===e)return new l(0,-1/0)}var i=t*t+(1-e)*(1-e),n=new l((1-e*e-t*t)/i,-2*t/i).log();return new l(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new l(Math.atan2(1,t),0);var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).atan():new l(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new l(0,1/0);var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).acos():new l(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new l(Math.PI/2,1/0);var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).asin():new l(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new l(r(t)*Math.cos(e),o(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new l(o(t)*Math.cos(e),r(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,i=o(t)+Math.cos(e);return new l(r(t)/i,Math.sin(e)/i)},coth:function(){var t=2*this.re,e=2*this.im,i=o(t)-Math.cos(e);return new l(r(t)/i,-Math.sin(e)/i)},csch:function(){var t=this.re,e=this.im,i=Math.cos(2*e)-o(2*t);return new l(-2*r(t)*Math.cos(e)/i,2*o(t)*Math.sin(e)/i)},sech:function(){var t=this.re,e=this.im,i=Math.cos(2*e)+o(2*t);return new l(2*o(t)*Math.cos(e)/i,-2*r(t)*Math.sin(e)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,i=t>1&&0===e,n=1-t,o=1+t,r=n*n+e*e,a=0!==r?new l((o*n-e*e)/r,(e*n+o*e)/r):new l(-1!==t?t/0:0,0!==e?e/0:0),u=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,u)/2,i&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new l(0,Math.PI/2);var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).atanh():new l(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new l(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).asinh():new l(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return l.INFINITY;var i=t*t+e*e;return 0!==i?new l(t/i,-e/i).acosh():new l(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var t=this.re,e=this.im,i=t*t+e*e;return new l(t/i,-e/i)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new l(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new l(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new l(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var i=new l(t,e);return Math.abs(i.re-this.re)<=l.EPSILON&&Math.abs(i.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var t=this.re,e=this.im,i="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(i+=t),0!==e&&(0!==t?i+=e<0?" - ":" + ":e<0&&(i+="-"),1!==(e=Math.abs(e))&&(i+=e),i+="i"),i||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return(0===this.re||-0===this.re)&&(0===this.im||-0===this.im)},isFinite:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-16,void 0===(n=function(){return l}.apply(e,[]))||(t.exports=n)}()},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return n}))},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}i.d(e,"a",(function(){return o}))},function(t,e,i){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=n(t);if(e){var a=n(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return r(this,i)}}i.d(e,"a",(function(){return a}))},function(t,e,i){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}i.d(e,"a",(function(){return o}))},function(t,e,i){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}i.d(e,"a",(function(){return n}))},function(t,e,i){"use strict";var n="Invariant failed";e.a=function(t,e){if(!t)throw new Error(n)}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){"use strict";i.d(e,"a",(function(){return E})),i.d(e,"b",(function(){return R})),i.d(e,"d",(function(){return A})),i.d(e,"c",(function(){return g})),i.d(e,"f",(function(){return m})),i.d(e,"e",(function(){return f}));var n=i(4);function o(t){return"/"===t.charAt(0)}function r(t,e){for(var i=e,n=i+1,o=t.length;n<o;i+=1,n+=1)t[i]=t[n];t.pop()}var a=function(t,e){void 0===e&&(e="");var i,n=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&o(t),l=e&&o(e),u=s||l;if(t&&o(t)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var h=a[a.length-1];i="."===h||".."===h||""===h}else i=!1;for(var p=0,c=a.length;c>=0;c--){var d=a[c];"."===d?r(a,c):".."===d?(r(a,c),p++):p&&(r(a,c),p--)}if(!u)for(;p--;p)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var f=a.join("/");return i&&"/"!==f.substr(-1)&&(f+="/"),f};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var l=function t(e,i){if(e===i)return!0;if(null==e||null==i)return!1;if(Array.isArray(e))return Array.isArray(i)&&e.length===i.length&&e.every((function(e,n){return t(e,i[n])}));if("object"===typeof e||"object"===typeof i){var n=s(e),o=s(i);return n!==e||o!==i?t(n,o):Object.keys(Object.assign({},e,i)).every((function(n){return t(e[n],i[n])}))}return!1},u=i(11);function h(t){return"/"===t.charAt(0)?t:"/"+t}function p(t){return"/"===t.charAt(0)?t.substr(1):t}function c(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function d(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function f(t){var e=t.pathname,i=t.search,n=t.hash,o=e||"/";return i&&"?"!==i&&(o+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function g(t,e,i,o){var r;"string"===typeof t?(r=function(t){var e=t||"/",i="",n="",o=e.indexOf("#");-1!==o&&(n=e.substr(o),e=e.substr(0,o));var r=e.indexOf("?");return-1!==r&&(i=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===i?"":i,hash:"#"===n?"":n}}(t)).state=e:(void 0===(r=Object(n.a)({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return i&&(r.key=i),o?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=a(r.pathname,o.pathname)):r.pathname=o.pathname:r.pathname||(r.pathname="/"),r}function m(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&l(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,i,n,o){if(null!=t){var r="function"===typeof t?t(e,i):t;"string"===typeof r?"function"===typeof n?n(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(t){var i=!0;function n(){i&&t.apply(void 0,arguments)}return e.push(n),function(){i=!1,e=e.filter((function(t){return t!==n}))}},notifyListeners:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.forEach((function(t){return t.apply(void 0,i)}))}}}var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function C(t,e){e(window.confirm(t))}var x="popstate",b="hashchange";function w(){try{return window.history.state||{}}catch(t){return{}}}function E(t){void 0===t&&(t={}),v||Object(u.a)(!1);var e=window.history,i=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),r=t,a=r.forceRefresh,s=void 0!==a&&a,l=r.getUserConfirmation,p=void 0===l?C:l,m=r.keyLength,E=void 0===m?6:m,P=t.basename?d(h(t.basename)):"";function S(t){var e=t||{},i=e.key,n=e.state,o=window.location,r=o.pathname+o.search+o.hash;return P&&(r=c(r,P)),g(r,n,i)}function T(){return Math.random().toString(36).substr(2,E)}var _=y();function M(t){Object(n.a)(W,t),W.length=e.length,_.notifyListeners(W.location,W.action)}function R(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||D(S(t.state))}function O(){D(S(w()))}var A=!1;function D(t){if(A)A=!1,M();else{_.confirmTransitionTo(t,"POP",p,(function(e){e?M({action:"POP",location:t}):function(t){var e=W.location,i=F.indexOf(e.key);-1===i&&(i=0);var n=F.indexOf(t.key);-1===n&&(n=0);var o=i-n;o&&(A=!0,L(o))}(t)}))}}var k=S(w()),F=[k.key];function I(t){return P+f(t)}function L(t){e.go(t)}var N=0;function V(t){1===(N+=t)&&1===t?(window.addEventListener(x,R),o&&window.addEventListener(b,O)):0===N&&(window.removeEventListener(x,R),o&&window.removeEventListener(b,O))}var B=!1;var W={length:e.length,action:"POP",location:k,createHref:I,push:function(t,n){var o="PUSH",r=g(t,n,T(),W.location);_.confirmTransitionTo(r,o,p,(function(t){if(t){var n=I(r),a=r.key,l=r.state;if(i)if(e.pushState({key:a,state:l},null,n),s)window.location.href=n;else{var u=F.indexOf(W.location.key),h=F.slice(0,u+1);h.push(r.key),F=h,M({action:o,location:r})}else window.location.href=n}}))},replace:function(t,n){var o="REPLACE",r=g(t,n,T(),W.location);_.confirmTransitionTo(r,o,p,(function(t){if(t){var n=I(r),a=r.key,l=r.state;if(i)if(e.replaceState({key:a,state:l},null,n),s)window.location.replace(n);else{var u=F.indexOf(W.location.key);-1!==u&&(F[u]=r.key),M({action:o,location:r})}else window.location.replace(n)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=_.setPrompt(t);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),e()}},listen:function(t){var e=_.appendListener(t);return V(1),function(){V(-1),e()}}};return W}var P="hashchange",S={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+p(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:p,decodePath:h},slash:{encodePath:h,decodePath:h}};function T(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function _(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function M(t){window.location.replace(T(window.location.href)+"#"+t)}function R(t){void 0===t&&(t={}),v||Object(u.a)(!1);var e=window.history,i=(window.navigator.userAgent.indexOf("Firefox"),t),o=i.getUserConfirmation,r=void 0===o?C:o,a=i.hashType,s=void 0===a?"slash":a,l=t.basename?d(h(t.basename)):"",p=S[s],m=p.encodePath,x=p.decodePath;function b(){var t=x(_());return l&&(t=c(t,l)),g(t)}var w=y();function E(t){Object(n.a)(W,t),W.length=e.length,w.notifyListeners(W.location,W.action)}var R=!1,O=null;function A(){var t,e,i=_(),n=m(i);if(i!==n)M(n);else{var o=b(),a=W.location;if(!R&&(e=o,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(O===f(o))return;O=null,function(t){if(R)R=!1,E();else{var e="POP";w.confirmTransitionTo(t,e,r,(function(i){i?E({action:e,location:t}):function(t){var e=W.location,i=I.lastIndexOf(f(e));-1===i&&(i=0);var n=I.lastIndexOf(f(t));-1===n&&(n=0);var o=i-n;o&&(R=!0,L(o))}(t)}))}}(o)}}var D=_(),k=m(D);D!==k&&M(k);var F=b(),I=[f(F)];function L(t){e.go(t)}var N=0;function V(t){1===(N+=t)&&1===t?window.addEventListener(P,A):0===N&&window.removeEventListener(P,A)}var B=!1;var W={length:e.length,action:"POP",location:F,createHref:function(t){var e=document.querySelector("base"),i="";return e&&e.getAttribute("href")&&(i=T(window.location.href)),i+"#"+m(l+f(t))},push:function(t,e){var i="PUSH",n=g(t,void 0,void 0,W.location);w.confirmTransitionTo(n,i,r,(function(t){if(t){var e=f(n),o=m(l+e);if(_()!==o){O=e,function(t){window.location.hash=t}(o);var r=I.lastIndexOf(f(W.location)),a=I.slice(0,r+1);a.push(e),I=a,E({action:i,location:n})}else E()}}))},replace:function(t,e){var i="REPLACE",n=g(t,void 0,void 0,W.location);w.confirmTransitionTo(n,i,r,(function(t){if(t){var e=f(n),o=m(l+e);_()!==o&&(O=e,M(o));var r=I.indexOf(f(W.location));-1!==r&&(I[r]=e),E({action:i,location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=w.setPrompt(t);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),e()}},listen:function(t){var e=w.appendListener(t);return V(1),function(){V(-1),e()}}};return W}function O(t,e,i){return Math.min(Math.max(t,e),i)}function A(t){void 0===t&&(t={});var e=t,i=e.getUserConfirmation,o=e.initialEntries,r=void 0===o?["/"]:o,a=e.initialIndex,s=void 0===a?0:a,l=e.keyLength,u=void 0===l?6:l,h=y();function p(t){Object(n.a)(x,t),x.length=x.entries.length,h.notifyListeners(x.location,x.action)}function c(){return Math.random().toString(36).substr(2,u)}var d=O(s,0,r.length-1),m=r.map((function(t){return g(t,void 0,"string"===typeof t?c():t.key||c())})),v=f;function C(t){var e=O(x.index+t,0,x.entries.length-1),n=x.entries[e];h.confirmTransitionTo(n,"POP",i,(function(t){t?p({action:"POP",location:n,index:e}):p()}))}var x={length:m.length,action:"POP",location:m[d],index:d,entries:m,createHref:v,push:function(t,e){var n="PUSH",o=g(t,e,c(),x.location);h.confirmTransitionTo(o,n,i,(function(t){if(t){var e=x.index+1,i=x.entries.slice(0);i.length>e?i.splice(e,i.length-e,o):i.push(o),p({action:n,location:o,index:e,entries:i})}}))},replace:function(t,e){var n="REPLACE",o=g(t,e,c(),x.location);h.confirmTransitionTo(o,n,i,(function(t){t&&(x.entries[x.index]=o,p({action:n,location:o}))}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},canGo:function(t){var e=x.index+t;return e>=0&&e<x.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return x}},function(t,e,i){t.exports=i(60)()},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(21);function o(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Object(n.a)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}},function(t,e,i){"use strict";function n(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}i.d(e,"a",(function(){return n}))},function(t,e,i){var n;!function(i){"use strict";var o={s:1,n:0,d:1};function r(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function i(){}return i.prototype=Error.prototype,e.prototype=new i,e}var a=c.DivisionByZero=r("DivisionByZero"),s=c.InvalidParameter=r("InvalidParameter");function l(t,e){return isNaN(t=parseInt(t,10))&&u(),t*e}function u(){throw new s}var h=function(t,e){var i,n=0,r=1,s=1,h=0,p=0,c=0,d=1,f=1,g=0,m=1,y=1,v=1,C=1e7;if(void 0===t||null===t);else if(void 0!==e)s=(n=t)*(r=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(n=t.n,r=t.d,"s"in t&&(n*=t.s)):0 in t?(n=t[0],1 in t&&(r=t[1])):u(),s=n*r;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(t/=f=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));m<=C&&v<=C;){if(t===(i=(g+y)/(m+v))){m+v<=C?(n=g+y,r=m+v):v>m?(n=y,r=v):(n=g,r=m);break}t>i?(g+=y,m+=v):(y+=g,v+=m),m>C?(n=y,r=v):(n=g,r=m)}n*=f}else(isNaN(t)||isNaN(e))&&(r=n=NaN);break;case"string":if(null===(m=t.match(/\d+|./g))&&u(),"-"===m[g]?(s=-1,g++):"+"===m[g]&&g++,m.length===g+1?p=l(m[g++],s):"."===m[g+1]||"."===m[g]?("."!==m[g]&&(h=l(m[g++],s)),(++g+1===m.length||"("===m[g+1]&&")"===m[g+3]||"'"===m[g+1]&&"'"===m[g+3])&&(p=l(m[g],s),d=Math.pow(10,m[g].length),g++),("("===m[g]&&")"===m[g+2]||"'"===m[g]&&"'"===m[g+2])&&(c=l(m[g+1],s),f=Math.pow(10,m[g+1].length)-1,g+=3)):"/"===m[g+1]||":"===m[g+1]?(p=l(m[g],s),d=l(m[g+2],1),g+=3):"/"===m[g+3]&&" "===m[g+1]&&(h=l(m[g],s),p=l(m[g+2],s),d=l(m[g+4],1),g+=5),m.length<=g){s=n=c+(r=d*f)*h+f*p;break}default:u()}if(0===r)throw new a;o.s=s<0?-1:1,o.n=Math.abs(n),o.d=Math.abs(r)};function p(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function c(t,e){if(!(this instanceof c))return new c(t,e);h(t,e),t=c.REDUCE?p(o.d,o.n):1,this.s=o.s,this.n=o.n/t,this.d=o.d/t}c.REDUCE=1,c.prototype={s:1,n:0,d:1,abs:function(){return new c(this.n,this.d)},neg:function(){return new c(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new c(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function(t,e){return h(t,e),new c(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function(t,e){return h(t,e),new c(this.s*o.s*this.n*o.n,this.d*o.d)},div:function(t,e){return h(t,e),new c(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function(){return new c(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new c(NaN):void 0===t?new c(this.s*this.n%this.d,1):(h(t,e),0===o.n&&0===this.d&&c(0,0),new c(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function(t,e){return h(t,e),new c(p(o.n,this.n)*p(o.d,this.d),o.d*this.d)},lcm:function(t,e){return h(t,e),0===o.n&&0===this.n?new c:new c(o.n*this.n,p(o.n,this.n)*p(o.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new c(this.s*this.d,this.n)},pow:function(t){return t<0?new c(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new c(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return h(t,e),this.s*this.n*o.d===o.s*o.n*this.d},compare:function(t,e){h(t,e);var i=this.s*this.n*o.d-o.s*o.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function i(t){return 1===t.length?new c(t[0]):i(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var o=i(e.slice(0,n+1));if(o.sub(this.abs()).abs().valueOf()<t)return o.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,i="",n=this.n,o=this.d;return this.s<0&&(i+="-"),1===o?i+=n:(t&&(e=Math.floor(n/o))>0&&(i+=e,i+=" ",n%=o),i+=n,i+="/",i+=o),i},toLatex:function(t){var e,i="",n=this.n,o=this.d;return this.s<0&&(i+="-"),1===o?i+=n:(t&&(e=Math.floor(n/o))>0&&(i+=e,n%=o),i+="\\frac{",i+=n,i+="}{",i+=o,i+="}"),i},toContinued:function(){var t,e=this.n,i=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(e/i)),t=e%i,e=i,i=t}while(1!==e);return n},toString:function(t){var e,i=this.n,n=this.d;if(isNaN(i)||isNaN(n))return"NaN";c.REDUCE||(i/=e=p(i,n),n/=e),t=t||15;var o=function(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var i=10%e,n=1;1!==i;n++)if(i=10*i%e,n>2e3)return 0;return n}(0,n),r=function(t,e,i){for(var n=1,o=function(t,e,i){for(var n=1;e>0;t=t*t%i,e>>=1)1&e&&(n=n*t%i);return n}(10,i,e),r=0;r<300;r++){if(n===o)return r;n=10*n%e,o=10*o%e}return 0}(0,n,o),a=-1===this.s?"-":"";if(a+=i/n|0,i%=n,(i*=10)&&(a+="."),o){for(var s=r;s--;)a+=i/n|0,i%=n,i*=10;a+="(";for(s=o;s--;)a+=i/n|0,i%=n,i*=10;a+=")"}else for(s=t;i&&s--;)a+=i/n|0,i%=n,i*=10;return a}},void 0===(n=function(){return c}.apply(e,[]))||(t.exports=n)}()},function(t,e){t.exports=function t(e,i){"use strict";var n,o,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,h=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},p=h(e).replace(a,"")||"",c=h(i).replace(a,"")||"",d=p.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(p.match(l),16)||1!==d.length&&p.match(s)&&Date.parse(p),m=parseInt(c.match(l),16)||g&&c.match(s)&&Date.parse(c)||null;if(m){if(g<m)return-1;if(g>m)return 1}for(var y=0,v=Math.max(d.length,f.length);y<v;y++){if(n=!(d[y]||"").match(u)&&parseFloat(d[y])||d[y]||0,o=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,isNaN(n)!==isNaN(o))return isNaN(n)?1:-1;if(typeof n!==typeof o&&(n+="",o+=""),n<o)return-1;if(n>o)return 1}return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(23);function o(t,e){if(t){if("string"===typeof t)return Object(n.a)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n.a)(t,e):void 0}}},function(t,e,i){var n;!function(o){"use strict";var r,a,s,l=9e15,u=1e9,h="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-l,maxE:l,crypto:!1},f=!0,g="[DecimalError] ",m=g+"Invalid argument: ",y=g+"Precision limit exceeded",v=g+"crypto unavailable",C=Math.floor,x=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,E=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,P=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,T=p.length-1,_=c.length-1,M={name:"[object Decimal]"};function R(t){var e,i,n,o=t.length-1,r="",a=t[0];if(o>0){for(r+=a,e=1;e<o;e++)(i=7-(n=t[e]+"").length)&&(r+=W(i)),r+=n;(i=7-(n=(a=t[e])+"").length)&&(r+=W(i))}else if(0===a)return"0";for(;a%10===0;)a/=10;return r+a}function O(t,e,i){if(t!==~~t||t<e||t>i)throw Error(m+t)}function A(t,e,i,n){var o,r,a,s;for(r=t[0];r>=10;r/=10)--e;return--e<0?(e+=7,o=0):(o=Math.ceil((e+1)/7),e%=7),r=x(10,7-e),s=t[o]%r|0,null==n?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=i<4&&99999==s||i>3&&49999==s||5e4==s||0==s):a=(i<4&&s+1==r||i>3&&s+1==r/2)&&(t[o+1]/r/100|0)==x(10,e-2)-1||(s==r/2||0==s)&&0==(t[o+1]/r/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(n||i<4)&&9999==s||!n&&i>3&&4999==s):a=((n||i<4)&&s+1==r||!n&&i>3&&s+1==r/2)&&(t[o+1]/r/1e3|0)==x(10,e-3)-1,a}function D(t,e,i){for(var n,o,r=[0],a=0,s=t.length;a<s;){for(o=r.length;o--;)r[o]*=e;for(r[0]+=h.indexOf(t.charAt(a++)),n=0;n<r.length;n++)r[n]>i-1&&(void 0===r[n+1]&&(r[n+1]=0),r[n+1]+=r[n]/i|0,r[n]%=i)}return r.reverse()}M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),F(t)},M.ceil=function(){return F(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(t){var e,i,n,o,r=this,a=r.d,s=(t=new r.constructor(t)).d,l=r.s,u=t.s;if(!a||!s)return l&&u?l!==u?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(r.e!==t.e)return r.e>t.e^l<0?1:-1;for(e=0,i=(n=a.length)<(o=s.length)?n:o;e<i;++e)if(a[e]!==s[e])return a[e]>s[e]^l<0?1:-1;return n===o?0:n>o^l<0?1:-1},M.cosine=M.cos=function(){var t,e,i=this,n=i.constructor;return i.d?i.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+7,n.rounding=1,i=function(t,e){var i,n,o=e.d.length;o<32?n=(1/Q(4,i=Math.ceil(o/3))).toString():(i=16,n="2.3283064365386962890625e-10");t.precision+=i,e=K(t,1,e.times(n),new t(1));for(var r=i;r--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=i,e}(n,$(n,i)),n.precision=t,n.rounding=e,F(2==s||3==s?i.neg():i,t,e,!0)):new n(1):new n(NaN)},M.cubeRoot=M.cbrt=function(){var t,e,i,n,o,r,a,s,l,u,h=this,p=h.constructor;if(!h.isFinite()||h.isZero())return new p(h);for(f=!1,(r=h.s*x(h.s*h,1/3))&&Math.abs(r)!=1/0?n=new p(r.toString()):(i=R(h.d),(r=((t=h.e)-i.length+1)%3)&&(i+=1==r||-2==r?"0":"00"),r=x(i,1/3),t=C((t+1)/3)-(t%3==(t<0?-1:2)),(n=new p(i=r==1/0?"5e"+t:(i=r.toExponential()).slice(0,i.indexOf("e")+1)+t)).s=h.s),a=(t=p.precision)+3;;)if(u=(l=(s=n).times(s).times(s)).plus(h),n=k(u.plus(h).times(s),u.plus(l),a+2,1),R(s.d).slice(0,a)===(i=R(n.d)).slice(0,a)){if("9999"!=(i=i.slice(a-3,a+1))&&(o||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(F(n,t+1,1),e=!n.times(n).times(n).eq(h));break}if(!o&&(F(s,t+1,0),s.times(s).times(s).eq(h))){n=s;break}a+=4,o=1}return f=!0,F(n,t,p.rounding,e)},M.decimalPlaces=M.dp=function(){var t,e=this.d,i=NaN;if(e){if(i=7*((t=e.length-1)-C(this.e/7)),t=e[t])for(;t%10==0;t/=10)i--;i<0&&(i=0)}return i},M.dividedBy=M.div=function(t){return k(this,new this.constructor(t))},M.dividedToIntegerBy=M.divToInt=function(t){var e=this.constructor;return F(k(this,new e(t),0,1,1),e.precision,e.rounding)},M.equals=M.eq=function(t){return 0===this.cmp(t)},M.floor=function(){return F(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(t){return this.cmp(t)>0},M.greaterThanOrEqualTo=M.gte=function(t){var e=this.cmp(t);return 1==e||0===e},M.hyperbolicCosine=M.cosh=function(){var t,e,i,n,o,r=this,a=r.constructor,s=new a(1);if(!r.isFinite())return new a(r.s?1/0:NaN);if(r.isZero())return s;i=a.precision,n=a.rounding,a.precision=i+Math.max(r.e,r.sd())+4,a.rounding=1,(o=r.d.length)<32?e=(1/Q(4,t=Math.ceil(o/3))).toString():(t=16,e="2.3283064365386962890625e-10"),r=K(a,1,r.times(e),new a(1),!0);for(var l,u=t,h=new a(8);u--;)l=r.times(r),r=s.minus(l.times(h.minus(l.times(h))));return F(r,a.precision=i,a.rounding=n,!0)},M.hyperbolicSine=M.sinh=function(){var t,e,i,n,o=this,r=o.constructor;if(!o.isFinite()||o.isZero())return new r(o);if(e=r.precision,i=r.rounding,r.precision=e+Math.max(o.e,o.sd())+4,r.rounding=1,(n=o.d.length)<3)o=K(r,2,o,o,!0);else{t=(t=1.4*Math.sqrt(n))>16?16:0|t,o=K(r,2,o=o.times(1/Q(5,t)),o,!0);for(var a,s=new r(5),l=new r(16),u=new r(20);t--;)a=o.times(o),o=o.times(s.plus(a.times(l.times(a).plus(u))))}return r.precision=e,r.rounding=i,F(o,e,i,!0)},M.hyperbolicTangent=M.tanh=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,k(i.sinh(),i.cosh(),n.precision=t,n.rounding=e)):new n(i.s)},M.inverseCosine=M.acos=function(){var t,e=this,i=e.constructor,n=e.abs().cmp(1),o=i.precision,r=i.rounding;return-1!==n?0===n?e.isNeg()?V(i,o,r):new i(0):new i(NaN):e.isZero()?V(i,o+4,r).times(.5):(i.precision=o+6,i.rounding=1,e=e.asin(),t=V(i,o+4,r).times(.5),i.precision=o,i.rounding=r,t.minus(e))},M.inverseHyperbolicCosine=M.acosh=function(){var t,e,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,f=!1,i=i.times(i).minus(1).sqrt().plus(i),f=!0,n.precision=t,n.rounding=e,i.ln()):new n(i)},M.inverseHyperbolicSine=M.asinh=function(){var t,e,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,f=!1,i=i.times(i).plus(1).sqrt().plus(i),f=!0,n.precision=t,n.rounding=e,i.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var t,e,i,n,o=this,r=o.constructor;return o.isFinite()?o.e>=0?new r(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(t=r.precision,e=r.rounding,n=o.sd(),Math.max(n,t)<2*-o.e-1?F(new r(o),t,e,!0):(r.precision=i=n-o.e,o=k(o.plus(1),new r(1).minus(o),i+t,1),r.precision=t+4,r.rounding=1,o=o.ln(),r.precision=t,r.rounding=e,o.times(.5))):new r(NaN)},M.inverseSine=M.asin=function(){var t,e,i,n,o=this,r=o.constructor;return o.isZero()?new r(o):(e=o.abs().cmp(1),i=r.precision,n=r.rounding,-1!==e?0===e?((t=V(r,i+4,n).times(.5)).s=o.s,t):new r(NaN):(r.precision=i+6,r.rounding=1,o=o.div(new r(1).minus(o.times(o)).sqrt().plus(1)).atan(),r.precision=i,r.rounding=n,o.times(2)))},M.inverseTangent=M.atan=function(){var t,e,i,n,o,r,a,s,l,u=this,h=u.constructor,p=h.precision,c=h.rounding;if(u.isFinite()){if(u.isZero())return new h(u);if(u.abs().eq(1)&&p+4<=_)return(a=V(h,p+4,c).times(.25)).s=u.s,a}else{if(!u.s)return new h(NaN);if(p+4<=_)return(a=V(h,p+4,c).times(.5)).s=u.s,a}for(h.precision=s=p+10,h.rounding=1,t=i=Math.min(28,s/7+2|0);t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(f=!1,e=Math.ceil(s/7),n=1,l=u.times(u),a=new h(u),o=u;-1!==t;)if(o=o.times(l),r=a.minus(o.div(n+=2)),o=o.times(l),void 0!==(a=r.plus(o.div(n+=2))).d[e])for(t=e;a.d[t]===r.d[t]&&t--;);return i&&(a=a.times(2<<i-1)),f=!0,F(a,h.precision=p,h.rounding=c,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&C(this.e/7)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(t){return this.cmp(t)<0},M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1},M.logarithm=M.log=function(t){var e,i,n,o,r,a,s,l,u=this,h=u.constructor,p=h.precision,c=h.rounding;if(null==t)t=new h(10),e=!0;else{if(i=(t=new h(t)).d,t.s<0||!i||!i[0]||t.eq(1))return new h(NaN);e=t.eq(10)}if(i=u.d,u.s<0||!i||!i[0]||u.eq(1))return new h(i&&!i[0]?-1/0:1!=u.s?NaN:i?0:1/0);if(e)if(i.length>1)r=!0;else{for(o=i[0];o%10===0;)o/=10;r=1!==o}if(f=!1,a=U(u,s=p+5),n=e?N(h,s+10):U(t,s),A((l=k(a,n,s,1)).d,o=p,c))do{if(a=U(u,s+=10),n=e?N(h,s+10):U(t,s),l=k(a,n,s,1),!r){+R(l.d).slice(o+1,o+15)+1==1e14&&(l=F(l,p+1,0));break}}while(A(l.d,o+=10,c));return f=!0,F(l,p,c)},M.minus=M.sub=function(t){var e,i,n,o,r,a,s,l,u,h,p,c,d=this,g=d.constructor;if(t=new g(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new g(t.d||d.s!==t.s?d:NaN):t=new g(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,c=t.d,s=g.precision,l=g.rounding,!u[0]||!c[0]){if(c[0])t.s=-t.s;else{if(!u[0])return new g(3===l?-0:0);t=new g(d)}return f?F(t,s,l):t}if(i=C(t.e/7),h=C(d.e/7),u=u.slice(),r=h-i){for((p=r<0)?(e=u,r=-r,a=c.length):(e=c,i=h,a=u.length),r>(n=Math.max(Math.ceil(s/7),a)+2)&&(r=n,e.length=1),e.reverse(),n=r;n--;)e.push(0);e.reverse()}else{for((p=(n=u.length)<(a=c.length))&&(a=n),n=0;n<a;n++)if(u[n]!=c[n]){p=u[n]<c[n];break}r=0}for(p&&(e=u,u=c,c=e,t.s=-t.s),a=u.length,n=c.length-a;n>0;--n)u[a++]=0;for(n=c.length;n>r;){if(u[--n]<c[n]){for(o=n;o&&0===u[--o];)u[o]=S-1;--u[o],u[n]+=S}u[n]-=c[n]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--i;return u[0]?(t.d=u,t.e=L(u,i),f?F(t,s,l):t):new g(3===l?-0:0)},M.modulo=M.mod=function(t){var e,i=this,n=i.constructor;return t=new n(t),!i.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||i.d&&!i.d[0]?F(new n(i),n.precision,n.rounding):(f=!1,9==n.modulo?(e=k(i,t.abs(),0,3,1)).s*=t.s:e=k(i,t,0,n.modulo,1),e=e.times(t),f=!0,i.minus(e))},M.naturalExponential=M.exp=function(){return j(this)},M.naturalLogarithm=M.ln=function(){return U(this)},M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s,F(t)},M.plus=M.add=function(t){var e,i,n,o,r,a,s,l,u,h,p=this,c=p.constructor;if(t=new c(t),!p.d||!t.d)return p.s&&t.s?p.d||(t=new c(t.d||p.s===t.s?p:NaN)):t=new c(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.minus(t);if(u=p.d,h=t.d,s=c.precision,l=c.rounding,!u[0]||!h[0])return h[0]||(t=new c(p)),f?F(t,s,l):t;if(r=C(p.e/7),n=C(t.e/7),u=u.slice(),o=r-n){for(o<0?(i=u,o=-o,a=h.length):(i=h,n=r,a=u.length),o>(a=(r=Math.ceil(s/7))>a?r+1:a+1)&&(o=a,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((a=u.length)-(o=h.length)<0&&(o=a,i=h,h=u,u=i),e=0;o;)e=(u[--o]=u[o]+h[o]+e)/S|0,u[o]%=S;for(e&&(u.unshift(e),++n),a=u.length;0==u[--a];)u.pop();return t.d=u,t.e=L(u,n),f?F(t,s,l):t},M.precision=M.sd=function(t){var e,i=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(m+t);return i.d?(e=B(i.d),t&&i.e+1>e&&(e=i.e+1)):e=NaN,e},M.round=function(){var t=this,e=t.constructor;return F(new e(t),t.e+1,e.rounding)},M.sine=M.sin=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+Math.max(i.e,i.sd())+7,n.rounding=1,i=function(t,e){var i,n=e.d.length;if(n<3)return K(t,2,e,e);i=(i=1.4*Math.sqrt(n))>16?16:0|i,e=e.times(1/Q(5,i)),e=K(t,2,e,e);for(var o,r=new t(5),a=new t(16),s=new t(20);i--;)o=e.times(e),e=e.times(r.plus(o.times(a.times(o).minus(s))));return e}(n,$(n,i)),n.precision=t,n.rounding=e,F(s>2?i.neg():i,t,e,!0)):new n(NaN)},M.squareRoot=M.sqrt=function(){var t,e,i,n,o,r,a=this,s=a.d,l=a.e,u=a.s,h=a.constructor;if(1!==u||!s||!s[0])return new h(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(f=!1,0==(u=Math.sqrt(+a))||u==1/0?(((e=R(s)).length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=C((l+1)/2)-(l<0||l%2),n=new h(e=u==1/0?"5e"+l:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+l)):n=new h(u.toString()),i=(l=h.precision)+3;;)if(n=(r=n).plus(k(a,r,i+2,1)).times(.5),R(r.d).slice(0,i)===(e=R(n.d)).slice(0,i)){if("9999"!=(e=e.slice(i-3,i+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(F(n,l+1,1),t=!n.times(n).eq(a));break}if(!o&&(F(r,l+1,0),r.times(r).eq(a))){n=r;break}i+=4,o=1}return f=!0,F(n,l,h.rounding,t)},M.tangent=M.tan=function(){var t,e,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(i=i.sin()).s=1,i=k(i,new n(1).minus(i.times(i)).sqrt(),t+10,0),n.precision=t,n.rounding=e,F(2==s||4==s?i.neg():i,t,e,!0)):new n(NaN)},M.times=M.mul=function(t){var e,i,n,o,r,a,s,l,u,h=this,p=h.constructor,c=h.d,d=(t=new p(t)).d;if(t.s*=h.s,!c||!c[0]||!d||!d[0])return new p(!t.s||c&&!c[0]&&!d||d&&!d[0]&&!c?NaN:c&&d?0*t.s:t.s/0);for(i=C(h.e/7)+C(t.e/7),(l=c.length)<(u=d.length)&&(r=c,c=d,d=r,a=l,l=u,u=a),r=[],n=a=l+u;n--;)r.push(0);for(n=u;--n>=0;){for(e=0,o=l+n;o>n;)s=r[o]+d[n]*c[o-n-1]+e,r[o--]=s%S|0,e=s/S|0;r[o]=(r[o]+e)%S|0}for(;!r[--a];)r.pop();return e?++i:r.shift(),t.d=r,t.e=L(r,i),f?F(t,p.precision,p.rounding):t},M.toBinary=function(t,e){return J(this,2,t,e)},M.toDecimalPlaces=M.toDP=function(t,e){var i=this,n=i.constructor;return i=new n(i),void 0===t?i:(O(t,0,u),void 0===e?e=n.rounding:O(e,0,8),F(i,t+i.e+1,e))},M.toExponential=function(t,e){var i,n=this,o=n.constructor;return void 0===t?i=I(n,!0):(O(t,0,u),void 0===e?e=o.rounding:O(e,0,8),i=I(n=F(new o(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+i:i},M.toFixed=function(t,e){var i,n,o=this,r=o.constructor;return void 0===t?i=I(o):(O(t,0,u),void 0===e?e=r.rounding:O(e,0,8),i=I(n=F(new r(o),t+o.e+1,e),!1,t+n.e+1)),o.isNeg()&&!o.isZero()?"-"+i:i},M.toFraction=function(t){var e,i,n,o,r,a,s,l,u,h,p,c,d=this,g=d.d,y=d.constructor;if(!g)return new y(d);if(u=i=new y(1),n=l=new y(0),a=(r=(e=new y(n)).e=B(g)-d.e-1)%7,e.d[0]=x(10,a<0?7+a:a),null==t)t=r>0?e:u;else{if(!(s=new y(t)).isInt()||s.lt(u))throw Error(m+s);t=s.gt(e)?r>0?e:u:s}for(f=!1,s=new y(R(g)),h=y.precision,y.precision=r=7*g.length*2;p=k(s,e,0,1,1),1!=(o=i.plus(p.times(n))).cmp(t);)i=n,n=o,o=u,u=l.plus(p.times(o)),l=o,o=e,e=s.minus(p.times(o)),s=o;return o=k(t.minus(i),n,0,1,1),l=l.plus(o.times(u)),i=i.plus(o.times(n)),l.s=u.s=d.s,c=k(u,n,r,1).minus(d).abs().cmp(k(l,i,r,1).minus(d).abs())<1?[u,n]:[l,i],y.precision=h,f=!0,c},M.toHexadecimal=M.toHex=function(t,e){return J(this,16,t,e)},M.toNearest=function(t,e){var i=this,n=i.constructor;if(i=new n(i),null==t){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),void 0===e?e=n.rounding:O(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(f=!1,i=k(i,t,0,e,1).times(t),f=!0,F(i)):(t.s=i.s,i=t),i},M.toNumber=function(){return+this},M.toOctal=function(t,e){return J(this,8,t,e)},M.toPower=M.pow=function(t){var e,i,n,o,r,a,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(x(+s,u));if((s=new l(s)).eq(1))return s;if(n=l.precision,r=l.rounding,t.eq(1))return F(s,n,r);if((e=C(t.e/7))>=t.d.length-1&&(i=u<0?-u:u)<=9007199254740991)return o=G(l,s,i,n),t.s<0?new l(1).div(o):F(o,n,r);if((a=s.s)<0){if(e<t.d.length-1)return new l(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(i=x(+s,u))&&isFinite(i)?new l(i+"").e:C(u*(Math.log("0."+R(s.d))/Math.LN10+s.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(f=!1,l.rounding=s.s=1,i=Math.min(12,(e+"").length),(o=j(t.times(U(s,n+i)),n)).d&&A((o=F(o,n+5,1)).d,n,r)&&(e=n+10,+R((o=F(j(t.times(U(s,e+i)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(o=F(o,n+1,0))),o.s=a,f=!0,l.rounding=r,F(o,n,r))},M.toPrecision=function(t,e){var i,n=this,o=n.constructor;return void 0===t?i=I(n,n.e<=o.toExpNeg||n.e>=o.toExpPos):(O(t,1,u),void 0===e?e=o.rounding:O(e,0,8),i=I(n=F(new o(n),t,e),t<=n.e||n.e<=o.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+i:i},M.toSignificantDigits=M.toSD=function(t,e){var i=this.constructor;return void 0===t?(t=i.precision,e=i.rounding):(O(t,1,u),void 0===e?e=i.rounding:O(e,0,8)),F(new i(this),t,e)},M.toString=function(){var t=this,e=t.constructor,i=I(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+i:i},M.truncated=M.trunc=function(){return F(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var t=this,e=t.constructor,i=I(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+i:i};var k=function(){function t(t,e,i){var n,o=0,r=t.length;for(t=t.slice();r--;)n=t[r]*e+o,t[r]=n%i|0,o=n/i|0;return o&&t.unshift(o),t}function e(t,e,i,n){var o,r;if(i!=n)r=i>n?1:-1;else for(o=r=0;o<i;o++)if(t[o]!=e[o]){r=t[o]>e[o]?1:-1;break}return r}function i(t,e,i,n){for(var o=0;i--;)t[i]-=o,o=t[i]<e[i]?1:0,t[i]=o*n+t[i]-e[i];for(;!t[0]&&t.length>1;)t.shift()}return function(n,o,r,s,l,u){var h,p,c,d,f,g,m,y,v,x,b,w,E,P,T,_,M,R,O,A,D=n.constructor,k=n.s==o.s?1:-1,I=n.d,L=o.d;if(!I||!I[0]||!L||!L[0])return new D(n.s&&o.s&&(I?!L||I[0]!=L[0]:L)?I&&0==I[0]||!L?0*k:k/0:NaN);for(u?(f=1,p=n.e-o.e):(u=S,f=7,p=C(n.e/f)-C(o.e/f)),O=L.length,M=I.length,x=(v=new D(k)).d=[],c=0;L[c]==(I[c]||0);c++);if(L[c]>(I[c]||0)&&p--,null==r?(P=r=D.precision,s=D.rounding):P=l?r+(n.e-o.e)+1:r,P<0)x.push(1),g=!0;else{if(P=P/f+2|0,c=0,1==O){for(d=0,L=L[0],P++;(c<M||d)&&P--;c++)T=d*u+(I[c]||0),x[c]=T/L|0,d=T%L|0;g=d||c<M}else{for((d=u/(L[0]+1)|0)>1&&(L=t(L,d,u),I=t(I,d,u),O=L.length,M=I.length),_=O,w=(b=I.slice(0,O)).length;w<O;)b[w++]=0;(A=L.slice()).unshift(0),R=L[0],L[1]>=u/2&&++R;do{d=0,(h=e(L,b,O,w))<0?(E=b[0],O!=w&&(E=E*u+(b[1]||0)),(d=E/R|0)>1?(d>=u&&(d=u-1),1==(h=e(m=t(L,d,u),b,y=m.length,w=b.length))&&(d--,i(m,O<y?A:L,y,u))):(0==d&&(h=d=1),m=L.slice()),(y=m.length)<w&&m.unshift(0),i(b,m,w,u),-1==h&&(h=e(L,b,O,w=b.length))<1&&(d++,i(b,O<w?A:L,w,u)),w=b.length):0===h&&(d++,b=[0]),x[c++]=d,h&&b[0]?b[w++]=I[_]||0:(b=[I[_]],w=1)}while((_++<M||void 0!==b[0])&&P--);g=void 0!==b[0]}x[0]||x.shift()}if(1==f)v.e=p,a=g;else{for(c=1,d=x[0];d>=10;d/=10)c++;v.e=c+p*f-1,F(v,l?r+v.e+1:r,s,g)}return v}}();function F(t,e,i,n){var o,r,a,s,l,u,h,p,c,d=t.constructor;t:if(null!=e){if(!(p=t.d))return t;for(o=1,s=p[0];s>=10;s/=10)o++;if((r=e-o)<0)r+=7,a=e,l=(h=p[c=0])/x(10,o-a-1)%10|0;else if((c=Math.ceil((r+1)/7))>=(s=p.length)){if(!n)break t;for(;s++<=c;)p.push(0);h=l=0,o=1,a=(r%=7)-7+1}else{for(h=s=p[c],o=1;s>=10;s/=10)o++;l=(a=(r%=7)-7+o)<0?0:h/x(10,o-a-1)%10|0}if(n=n||e<0||void 0!==p[c+1]||(a<0?h:h%x(10,o-a-1)),u=i<4?(l||n)&&(0==i||i==(t.s<0?3:2)):l>5||5==l&&(4==i||n||6==i&&(r>0?a>0?h/x(10,o-a):0:p[c-1])%10&1||i==(t.s<0?8:7)),e<1||!p[0])return p.length=0,u?(e-=t.e+1,p[0]=x(10,(7-e%7)%7),t.e=-e||0):p[0]=t.e=0,t;if(0==r?(p.length=c,s=1,c--):(p.length=c+1,s=x(10,7-r),p[c]=a>0?(h/x(10,o-a)%x(10,a)|0)*s:0),u)for(;;){if(0==c){for(r=1,a=p[0];a>=10;a/=10)r++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;r!=s&&(t.e++,p[0]==S&&(p[0]=1));break}if(p[c]+=s,p[c]!=S)break;p[c--]=0,s=1}for(r=p.length;0===p[--r];)p.pop()}return f&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function I(t,e,i){if(!t.isFinite())return Y(t);var n,o=t.e,r=R(t.d),a=r.length;return e?(i&&(n=i-a)>0?r=r.charAt(0)+"."+r.slice(1)+W(n):a>1&&(r=r.charAt(0)+"."+r.slice(1)),r=r+(t.e<0?"e":"e+")+t.e):o<0?(r="0."+W(-o-1)+r,i&&(n=i-a)>0&&(r+=W(n))):o>=a?(r+=W(o+1-a),i&&(n=i-o-1)>0&&(r=r+"."+W(n))):((n=o+1)<a&&(r=r.slice(0,n)+"."+r.slice(n)),i&&(n=i-a)>0&&(o+1===a&&(r+="."),r+=W(n))),r}function L(t,e){var i=t[0];for(e*=7;i>=10;i/=10)e++;return e}function N(t,e,i){if(e>T)throw f=!0,i&&(t.precision=i),Error(y);return F(new t(p),e,1,!0)}function V(t,e,i){if(e>_)throw Error(y);return F(new t(c),e,i,!0)}function B(t){var e=t.length-1,i=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)i--;for(e=t[0];e>=10;e/=10)i++}return i}function W(t){for(var e="";t--;)e+="0";return e}function G(t,e,i,n){var o,r=new t(1),a=Math.ceil(n/7+4);for(f=!1;;){if(i%2&&Z((r=r.times(e)).d,a)&&(o=!0),0===(i=C(i/2))){i=r.d.length-1,o&&0===r.d[i]&&++r.d[i];break}Z((e=e.times(e)).d,a)}return f=!0,r}function H(t){return 1&t.d[t.d.length-1]}function z(t,e,i){for(var n,o=new t(e[0]),r=0;++r<e.length;){if(!(n=new t(e[r])).s){o=n;break}o[i](n)&&(o=n)}return o}function j(t,e){var i,n,o,r,a,s,l,u=0,h=0,p=0,c=t.constructor,d=c.rounding,g=c.precision;if(!t.d||!t.d[0]||t.e>17)return new c(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(f=!1,l=g):l=e,s=new c(.03125);t.e>-2;)t=t.times(s),p+=5;for(l+=n=Math.log(x(2,p))/Math.LN10*2+5|0,i=r=a=new c(1),c.precision=l;;){if(r=F(r.times(t),l,1),i=i.times(++h),R((s=a.plus(k(r,i,l,1))).d).slice(0,l)===R(a.d).slice(0,l)){for(o=p;o--;)a=F(a.times(a),l,1);if(null!=e)return c.precision=g,a;if(!(u<3&&A(a.d,l-n,d,u)))return F(a,c.precision=g,d,f=!0);c.precision=l+=10,i=r=s=new c(1),h=0,u++}a=s}}function U(t,e){var i,n,o,r,a,s,l,u,h,p,c,d=1,g=t,m=g.d,y=g.constructor,v=y.rounding,C=y.precision;if(g.s<0||!m||!m[0]||!g.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=g.s?NaN:m?0:g);if(null==e?(f=!1,h=C):h=e,y.precision=h+=10,n=(i=R(m)).charAt(0),!(Math.abs(r=g.e)<15e14))return u=N(y,h+2,C).times(r+""),g=U(new y(n+"."+i.slice(1)),h-10).plus(u),y.precision=C,null==e?F(g,C,v,f=!0):g;for(;n<7&&1!=n||1==n&&i.charAt(1)>3;)n=(i=R((g=g.times(t)).d)).charAt(0),d++;for(r=g.e,n>1?(g=new y("0."+i),r++):g=new y(n+"."+i.slice(1)),p=g,l=a=g=k(g.minus(1),g.plus(1),h,1),c=F(g.times(g),h,1),o=3;;){if(a=F(a.times(c),h,1),R((u=l.plus(k(a,new y(o),h,1))).d).slice(0,h)===R(l.d).slice(0,h)){if(l=l.times(2),0!==r&&(l=l.plus(N(y,h+2,C).times(r+""))),l=k(l,new y(d),h,1),null!=e)return y.precision=C,l;if(!A(l.d,h-10,v,s))return F(l,y.precision=C,v,f=!0);y.precision=h+=10,u=a=g=k(p.minus(1),p.plus(1),h,1),c=F(g.times(g),h,1),o=s=1}l=u,o+=2}}function Y(t){return String(t.s*t.s/0)}function X(t,e){var i,n,o;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;48===e.charCodeAt(n);n++);for(o=e.length;48===e.charCodeAt(o-1);--o);if(e=e.slice(n,o)){if(o-=n,t.e=i=i-n-1,t.d=[],n=(i+1)%7,i<0&&(n+=7),n<o){for(n&&t.d.push(+e.slice(0,n)),o-=7;n<o;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length}else n-=o;for(;n--;)e+="0";t.d.push(+e),f&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function q(t,e){var i,n,o,a,s,l,u,h,p;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(w.test(e))i=16,e=e.toLowerCase();else if(b.test(e))i=2;else{if(!E.test(e))throw Error(m+e);i=8}for((a=e.search(/p/i))>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,n=t.constructor,s&&(a=(l=(e=e.replace(".","")).length)-a,o=G(n,new n(i),a,2*a)),a=p=(h=D(e,i,S)).length-1;0===h[a];--a)h.pop();return a<0?new n(0*t.s):(t.e=L(h,p),t.d=h,f=!1,s&&(t=k(t,o,4*l)),u&&(t=t.times(Math.abs(u)<54?x(2,u):r.pow(2,u))),f=!0,t)}function K(t,e,i,n,o){var r,a,s,l,u=t.precision,h=Math.ceil(u/7);for(f=!1,l=i.times(i),s=new t(n);;){if(a=k(s.times(l),new t(e++*e++),u,1),s=o?n.plus(a):n.minus(a),n=k(a.times(l),new t(e++*e++),u,1),void 0!==(a=s.plus(n)).d[h]){for(r=h;a.d[r]===s.d[r]&&r--;);if(-1==r)break}r=s,s=n,n=a,a=r}return f=!0,a.d.length=h+1,a}function Q(t,e){for(var i=t;--e;)i*=t;return i}function $(t,e){var i,n=e.s<0,o=V(t,t.precision,1),r=o.times(.5);if((e=e.abs()).lte(r))return s=n?4:1,e;if((i=e.divToInt(o)).isZero())s=n?3:2;else{if((e=e.minus(i.times(o))).lte(r))return s=H(i)?n?2:3:n?4:1,e;s=H(i)?n?1:4:n?3:2}return e.minus(o).abs()}function J(t,e,i,n){var o,r,s,l,p,c,d,f,g,m=t.constructor,y=void 0!==i;if(y?(O(i,1,u),void 0===n?n=m.rounding:O(n,0,8)):(i=m.precision,n=m.rounding),t.isFinite()){for(y?(o=2,16==e?i=4*i-3:8==e&&(i=3*i-2)):o=e,(s=(d=I(t)).indexOf("."))>=0&&(d=d.replace(".",""),(g=new m(1)).e=d.length-s,g.d=D(I(g),10,o),g.e=g.d.length),r=p=(f=D(d,10,o)).length;0==f[--p];)f.pop();if(f[0]){if(s<0?r--:((t=new m(t)).d=f,t.e=r,f=(t=k(t,g,i,n,0,o)).d,r=t.e,c=a),s=f[i],l=o/2,c=c||void 0!==f[i+1],c=n<4?(void 0!==s||c)&&(0===n||n===(t.s<0?3:2)):s>l||s===l&&(4===n||c||6===n&&1&f[i-1]||n===(t.s<0?8:7)),f.length=i,c)for(;++f[--i]>o-1;)f[i]=0,i||(++r,f.unshift(1));for(p=f.length;!f[p-1];--p);for(s=0,d="";s<p;s++)d+=h.charAt(f[s]);if(y){if(p>1)if(16==e||8==e){for(s=16==e?4:3,--p;p%s;p++)d+="0";for(p=(f=D(d,o,e)).length;!f[p-1];--p);for(s=1,d="1.";s<p;s++)d+=h.charAt(f[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(r<0?"p":"p+")+r}else if(r<0){for(;++r;)d="0"+d;d="0."+d}else if(++r>p)for(r-=p;r--;)d+="0";else r<p&&(d=d.slice(0,r)+"."+d.slice(r))}else d=y?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=Y(t);return t.s<0?"-"+d:d}function Z(t,e){if(t.length>e)return t.length=e,!0}function tt(t){return new this(t).abs()}function et(t){return new this(t).acos()}function it(t){return new this(t).acosh()}function nt(t,e){return new this(t).plus(e)}function ot(t){return new this(t).asin()}function rt(t){return new this(t).asinh()}function at(t){return new this(t).atan()}function st(t){return new this(t).atanh()}function lt(t,e){t=new this(t),e=new this(e);var i,n=this.precision,o=this.rounding,r=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(i=e.s<0?V(this,n,o):new this(0)).s=t.s:!t.d||e.isZero()?(i=V(this,r,1).times(.5)).s=t.s:e.s<0?(this.precision=r,this.rounding=1,i=this.atan(k(t,e,r,1)),e=V(this,r,1),this.precision=n,this.rounding=o,i=t.s<0?i.minus(e):i.plus(e)):i=this.atan(k(t,e,r,1)):(i=V(this,r,1).times(e.s>0?.25:.75)).s=t.s:i=new this(NaN),i}function ut(t){return new this(t).cbrt()}function ht(t){return F(t=new this(t),t.e+1,2)}function pt(t){if(!t||"object"!==typeof t)throw Error(g+"Object expected");var e,i,n,o=!0===t.defaults,r=["precision",1,u,"rounding",0,8,"toExpNeg",-l,0,"toExpPos",0,l,"maxE",0,l,"minE",-l,0,"modulo",0,9];for(e=0;e<r.length;e+=3)if(i=r[e],o&&(this[i]=d[i]),void 0!==(n=t[i])){if(!(C(n)===n&&n>=r[e+1]&&n<=r[e+2]))throw Error(m+i+": "+n);this[i]=n}if(i="crypto",o&&(this[i]=d[i]),void 0!==(n=t[i])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(m+i+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[i]=!0}else this[i]=!1}return this}function ct(t){return new this(t).cos()}function dt(t){return new this(t).cosh()}function ft(t,e){return new this(t).div(e)}function gt(t){return new this(t).exp()}function mt(t){return F(t=new this(t),t.e+1,3)}function yt(){var t,e,i=new this(0);for(f=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return f=!0,new this(1/0);i=e}return f=!0,i.sqrt()}function vt(t){return t instanceof r||t&&"[object Decimal]"===t.name||!1}function Ct(t){return new this(t).ln()}function xt(t,e){return new this(t).log(e)}function bt(t){return new this(t).log(2)}function wt(t){return new this(t).log(10)}function Et(){return z(this,arguments,"lt")}function Pt(){return z(this,arguments,"gt")}function St(t,e){return new this(t).mod(e)}function Tt(t,e){return new this(t).mul(e)}function _t(t,e){return new this(t).pow(e)}function Mt(t){var e,i,n,o,r=0,a=new this(1),s=[];if(void 0===t?t=this.precision:O(t,1,u),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));r<n;)(o=e[r])>=429e7?e[r]=crypto.getRandomValues(new Uint32Array(1))[0]:s[r++]=o%1e7;else{if(!crypto.randomBytes)throw Error(v);for(e=crypto.randomBytes(n*=4);r<n;)(o=e[r]+(e[r+1]<<8)+(e[r+2]<<16)+((127&e[r+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,r):(s.push(o%1e7),r+=4);r=n/4}else for(;r<n;)s[r++]=1e7*Math.random()|0;for(t%=7,(n=s[--r])&&t&&(o=x(10,7-t),s[r]=(n/o|0)*o);0===s[r];r--)s.pop();if(r<0)i=0,s=[0];else{for(i=-1;0===s[0];i-=7)s.shift();for(n=1,o=s[0];o>=10;o/=10)n++;n<7&&(i-=7-n)}return a.e=i,a.d=s,a}function Rt(t){return F(t=new this(t),t.e+1,this.rounding)}function Ot(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function At(t){return new this(t).sin()}function Dt(t){return new this(t).sinh()}function kt(t){return new this(t).sqrt()}function Ft(t,e){return new this(t).sub(e)}function It(t){return new this(t).tan()}function Lt(t){return new this(t).tanh()}function Nt(t){return F(t=new this(t),t.e+1,1)}(r=function t(e){var i,n,o;function r(t){var e,i,n,o=this;if(!(o instanceof r))return new r(t);if(o.constructor=r,t instanceof r)return o.s=t.s,void(f?!t.d||t.e>r.maxE?(o.e=NaN,o.d=null):t.e<r.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(e=0,i=t;i>=10;i/=10)e++;return void(f?e>r.maxE?(o.e=NaN,o.d=null):e<r.minE?(o.e=0,o.d=[0]):(o.e=e,o.d=[t]):(o.e=e,o.d=[t]))}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):X(o,t.toString())}if("string"!==n)throw Error(m+t);return 45===(i=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===i&&(t=t.slice(1)),o.s=1),P.test(t)?X(o,t):q(o,t)}if(r.prototype=M,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=pt,r.clone=t,r.isDecimal=vt,r.abs=tt,r.acos=et,r.acosh=it,r.add=nt,r.asin=ot,r.asinh=rt,r.atan=at,r.atanh=st,r.atan2=lt,r.cbrt=ut,r.ceil=ht,r.cos=ct,r.cosh=dt,r.div=ft,r.exp=gt,r.floor=mt,r.hypot=yt,r.ln=Ct,r.log=xt,r.log10=wt,r.log2=bt,r.max=Et,r.min=Pt,r.mod=St,r.mul=Tt,r.pow=_t,r.random=Mt,r.round=Rt,r.sign=Ot,r.sin=At,r.sinh=Dt,r.sqrt=kt,r.sub=Ft,r.tan=It,r.tanh=Lt,r.trunc=Nt,void 0===e&&(e={}),e&&!0!==e.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<o.length;)e.hasOwnProperty(n=o[i++])||(e[n]=this[n]);return r.config(e),r}(d)).default=r.Decimal=r,p=new r(p),c=new r(c),void 0===(n=function(){return r}.call(e,i,e,t))||(t.exports=n)}()},function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var i,s,l=a(t),u=1;u<arguments.length;u++){for(var h in i=Object(arguments[u]))o.call(i,h)&&(l[h]=i[h]);if(n){s=n(i);for(var p=0;p<s.length;p++)r.call(i,s[p])&&(l[s[p]]=i[s[p]])}}return l}},,function(t,e,i){"use strict";(function(t){function i(t){return null==t||""===t?null:t}function n(t,e){return void 0===e&&(e=!1),null!=t&&(e||""!==t)}function o(t){return!n(t)}function r(t){return!t||o(t)||0===t.length}function a(t){return n(t)&&t.toString?t.toString():null}function s(t){if(void 0!==t){if(null===t||""===t)return null;if("number"===typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function l(t){if(void 0!==t)return null!==t&&""!==t&&(!0===t||!1===t?t:/true/i.test(t))}function u(t,e,i){void 0===i&&(i=!1);var n=null==t,o=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function r(t,e){return t>e?1:t<e?-1:0}if("string"!==typeof t)return r(t,e);if(!i)return r(t,e);try{return t.localeCompare(e)}catch(a){return r(t,e)}}function h(t,e,i){if(null===t||void 0===t)return null;if(!Array.isArray(t))return h(p(t),e,i);for(var n=t,o=null,r=0;r<n.length;r++){var a=n[r];if("string"===typeof e){if(a[e]===i){o=a;break}}else if(e(a)){o=a;break}}return o}function p(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.keys(t).map((function(e){return t[e]}))}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.freeze({__proto__:null,makeNull:i,exists:n,missing:o,missingOrEmpty:r,toStringOrNull:a,attrToNumber:s,attrToBoolean:l,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&((null==t||null!=e)&&t===e)},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:u,find:h,values:p}),d=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var i=0;;){var n=void 0;if(t?(n=t,0!==i&&(n+="_"+i)):e?(n=e,0!==i&&(n+="_"+i)):n=""+i,!this.existingKeys[n])return this.existingKeys[n]=!0,n;i++}},t}();function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0;i<t.length;i++){var o=t[i];if(n(o))return o}return null}function g(t){if(t&&t.length)return t[t.length-1]}function m(t,e,i){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&S(t,(function(t,n){return i?i(t,e[n]):e[n]===t}))}function y(t){return t.sort((function(t,e){return t-e}))}function v(t,e){var i=t.indexOf(e);i>=0&&t.splice(i,1)}function C(t,e){_(e,(function(e){return v(t,e)}))}function x(t,e,i){t.splice(i,0,e)}function b(t,e,i){C(t,e),_(e.slice().reverse(),(function(e){return x(t,e,i)}))}function w(t,e){return t.indexOf(e)>-1}function E(t,e){null!=e&&null!=t&&_(e,(function(e){return t.push(e)}))}function P(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function S(t,e){if(null==t)return!0;for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0}function T(t,e){if(null==t)return!1;for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1}function _(t,e){if(null!=t)for(var i=0;i<t.length;i++)e(t[i],i)}function M(t,e){if(null==t)return null;for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}function R(t,e){if(null==t)return null;for(var i=[],n=0;n<t.length;n++)e(t[n],n)&&i.push(t[n]);return i}var O=Object.freeze({__proto__:null,firstExistingValue:f,anyExists:function(t){return t&&null!=f(t)},existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:g,areEqual:m,compareArrays:function(t,e){return m(t,e)},shallowCompare:function(t,e){return m(t,e)},sortNumerically:y,removeRepeatsFromArray:function(t,e){if(t)for(var i=t.length-2;i>=0;i--){var n=t[i]===e,o=t[i+1]===e;n&&o&&t.splice(i+1,1)}},removeFromArray:v,removeAllFromArray:C,insertIntoArray:x,insertArrayIntoArray:function(t,e,i){if(null!=t&&null!=e)for(var n=e.length-1;n>=0;n--){x(t,e[n],i)}},moveInArray:b,includes:w,flatten:function(t){return[].concat.apply([],t)},pushAll:E,toStrings:function(t){return M(t,a)},findIndex:P,every:S,some:T,forEach:_,forEachReverse:function(t,e){if(null!=t)for(var i=t.length-1;i>=0;i--)e(t[i],i)},map:M,filter:R,reduce:function(t,e,i){if(null==t||null==i)return null;for(var n=i,o=0;o<t.length;o++)n=e(n,t[o],o);return n},forEachSnapshotFirst:function(t,e){t&&t.slice(0).forEach(e)}});function A(t,e){null!=t&&(Array.isArray(t)?_(t,(function(t,i){return e(""+i,t)})):_(Object.keys(t),(function(i){return e(i,t[i])})))}function D(t){for(var e={},i=Object.keys(t),n=0;n<i.length;n++){var o=i[n],r=t[o];e[o]=r}return e}function k(t,e){if(t){var i=t,n={};return Object.keys(i).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var o=i[t],r="object"===typeof o&&o.constructor===Object;n[t]=r?k(o):o}})),n}}function F(t,e){return t[e]}function I(t,e,i){t[e]=i}function L(t,e,i,n){var o=F(t,i);void 0!==o&&I(e,i,n?n(o):o)}function N(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){_(Object.keys(t),(function(t){return e[t]=null}))})),Object.keys(e)}function V(t,e,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1),n(e)&&A(e,(function(e,n){var r=t[e];if(r!==n){if(o)if(null==r&&null!=n)"object"===typeof n&&n.constructor===Object&&(r={},t[e]=r);H(n)&&H(r)&&!Array.isArray(r)?V(r,n,i,o):(i||void 0!==n)&&(t[e]=n)}}))}function B(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return _(e,(function(e){return A(e,(function(e,i){return t[e]=i}))})),t}function W(t,e,i){if(null==t)return i;for(var n=e.split("."),o=t;n.length>1;)if(null==(o=o[n.shift()]))return i;var r=o[n[0]];return null!=r?r:i}function G(t,e,i){if(e&&t){if(!i)return t[e];for(var n=e.split("."),r=t,a=0;a<n.length;a++){if(o(r))return null;r=r[n[a]]}return r}}function H(t){return"object"===typeof t&&null!==t}var z=Object.freeze({__proto__:null,iterateObject:A,cloneObject:D,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:k,getProperty:F,setProperty:I,copyPropertiesIfPresent:function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];_(i,(function(i){return L(t,e,i)}))},copyPropertyIfPresent:L,getAllKeysInObjects:N,mergeDeep:V,assign:B,missingOrEmptyObject:function(t){return o(t)||0===Object.keys(t).length},get:W,set:function(t,e,i){if(null!=t){for(var n=e.split("."),o=t;n.length>1;)if(null==(o=o[n.shift()]))return;o[n[0]]=i}},deepFreeze:function t(e){return Object.freeze(e),_(p(e),(function(e){(H(e)||"function"===typeof e)&&t(e)})),e},getValueUsingField:G,removeAllReferences:function(t,e){Object.keys(t).forEach((function(e){"object"===typeof t[e]&&(t[e]=void 0)}));var i=Object.getPrototypeOf(t),n={};Object.keys(i).forEach((function(t){if("function"===typeof i[t]){n[t]={value:function(){console.warn("ag-Grid: "+e+" function "+t+"() cannot be called as the grid has been \ndestroyed. Please don't call grid API functions on destroyed grids - as a matter of fact you \nshouldn't be keeping the API reference, your application has a memory leak! Remove the API reference \nwhen the grid is destroyed.")},writable:!0}}})),Object.defineProperties(t,n)},isNonNullObject:H}),j=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,U=/([^\s,]+)/g,Y={};function X(t,e){Y[e]||(t(),Y[e]=!0)}function q(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function K(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Q(t){J(t,400)}function $(t){J(t,0)}function J(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function Z(t,e,i){var n;return void 0===i&&(i=!1),function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var a=this,s=i&&!n;window.clearTimeout(n),n=window.setTimeout((function(){n=null,i||t.apply(a,o)}),e),s&&t.apply(a,o)}}function tt(t){t&&t()}var et=Object.freeze({__proto__:null,doOnce:X,getFunctionName:q,getFunctionParameters:function(t){var e=t.toString().replace(j,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(U)||[]},isFunction:K,executeInAWhile:Q,executeNextVMTurn:$,executeAfter:J,debounce:Z,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:tt}),it=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return p(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),n(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),A(this.beanWrappers,(function(e,i){var n;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var o=t.getBeansForParameters(n,i.bean.name),r=function(t,e){var i=[null].concat(e);return new(t.bind.apply(t,i))}(i.bean,o);i.beanInstance=r}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i=void 0;return i=t.prototype.constructor?q(t.prototype.constructor):""+t,void console.error("Context item "+i+" is not a bean")}var n={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=n},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(i,n){var o=i.agClassAttributes;o&&o.forEach((function(i){var o=e.lookupBeanInstance(n,i.beanName,i.optional);t[i.attributeName]=o}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(i,n){A(i.autowireMethods,(function(i,o){if("agConstructor"!==i){var r=e.getBeansForParameters(o,n);t[i].apply(t,r)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var n=i.constructor;if(n.hasOwnProperty("__agBeanMetaData"))e(n.__agBeanMetaData,this.getBeanName(n));i=Object.getPrototypeOf(i)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var i=this,n=[];return t&&A(t,(function(t,o){var r=i.lookupBeanInstance(e,o);n[Number(t)]=r})),n},t.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var n=this.beanWrappers[e];return n?n.beanInstance:(i||console.error("ag-Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach((function(t){return i.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var n={};this.forEachMetaDataInHierarchy(t,(function(t){var o=t[e];o&&o.forEach((function(t){t!=i&&(n[t]=!0)}))})),Object.keys(n).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var i=t;"function"===typeof i.destroy&&i.destroy()})),[]):[]},t}();function nt(t,e,i){var n=pt(t.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function ot(t,e,i){var n=pt(t.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function rt(t,e,i){var n=pt(t.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function at(t){return function(e){pt(e).beanName=t}}function st(t){return function(e,i,n){ut(e,t,!1,e,i,null)}}function lt(t){return function(e,i,n){ut(e,t,!0,e,i,null)}}function ut(t,e,i,n,o,r){if(null!==e)if("number"!==typeof r){var a=pt(t.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:o,beanName:e,optional:i})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function ht(t){return function(e,i,n){var o,r="function"==typeof e?e:e.constructor;if("number"===typeof n){var a=void 0;i?(o=pt(r),a=i):(o=pt(r),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][n]=t}}}function pt(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var ct,dt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ft=function(t,e){return function(i,n){e(i,n,t)}},gt=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,i){if(void 0===i&&(i=null),this.logger=t.create("EventService"),i){var n=e.useAsyncEvents();this.addGlobalListener(i,n)}},t.prototype.getListeners=function(t,e){var i=e?this.allAsyncListeners:this.allSyncListeners,n=i.get(t);return n||(n=new Set,i.set(t,n)),n},t.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i).add(e)},t.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i).delete(e)},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var i=this,n=t.type;this.getListeners(n,e).forEach((function(n){e?i.dispatchAsync((function(){return n(t)})):n(t)})),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){e?i.dispatchAsync((function(){return o(n,t)})):o(n,t)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},dt([ft(0,ht("loggerFactory")),ft(1,ht("gridOptionsWrapper")),ft(2,ht("globalEventListener"))],t.prototype,"setBeans",null),t=dt([at("eventService")],t)}(),mt=function(){function t(){}return t.STEP_EVERYTHING=0,t.STEP_FILTER=1,t.STEP_SORT=2,t.STEP_MAP=3,t.STEP_AGGREGATE=4,t.STEP_PIVOT=5,t.ROW_BUFFER_SIZE=10,t.LAYOUT_INTERVAL=500,t.BATCH_WAIT_MILLIS=50,t.EXPORT_TYPE_DRAG_COPY="dragCopy",t.EXPORT_TYPE_CLIPBOARD="clipboard",t.EXPORT_TYPE_EXCEL="excel",t.EXPORT_TYPE_CSV="csv",t.ROW_MODEL_TYPE_INFINITE="infinite",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",t.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.PINNED_TOP="top",t.PINNED_BOTTOM="bottom",t.DOM_LAYOUT_NORMAL="normal",t.DOM_LAYOUT_PRINT="print",t.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",t.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",t.SOURCE_PASTE="paste",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.SORT_ASC="asc",t.SORT_DESC="desc",t}();(ct=e.ModuleNames||(e.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",ct.CommunityAllModules="@ag-grid-community/all",ct.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ct.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ct.CsvExportModule="@ag-grid-community/csv-export",ct.RowNodeCache="@ag-grid-community/row-node-cache",ct.EnterpriseCoreModule="@ag-grid-enterprise/core",ct.EnterpriseAllModules="@ag-grid-enterprise/all",ct.RowGroupingModule="@ag-grid-enterprise/row-grouping",ct.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",ct.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ct.MenuModule="@ag-grid-enterprise/menu",ct.SetFilterModule="@ag-grid-enterprise/set-filter",ct.MultiFilterModule="@ag-grid-enterprise/multi-filter",ct.StatusBarModule="@ag-grid-enterprise/status-bar",ct.SideBarModule="@ag-grid-enterprise/side-bar",ct.RangeSelectionModule="@ag-grid-enterprise/range-selection",ct.MasterDetailModule="@ag-grid-enterprise/master-detail",ct.RichSelectModule="@ag-grid-enterprise/rich-select",ct.GridChartsModule="@ag-grid-enterprise/charts",ct.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ct.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ct.ExcelExportModule="@ag-grid-enterprise/excel-export",ct.ClipboardModule="@ag-grid-enterprise/clipboard",ct.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",ct.AngularModule="@ag-grid-community/angular",ct.ReactModule="@ag-grid-community/react",ct.VueModule="@ag-grid-community/vue",ct.PolymerModule="@ag-grid-community/polymer";var yt=function(){function t(){}return t.register=function(e,i){void 0===i&&(i=!0),t.modulesMap[e.moduleName]=e,void 0===t.moduleBased?t.moduleBased=i:t.moduleBased!==i&&X((function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")}),"ModulePackageCheck")},t.registerModules=function(e,i){void 0===i&&(i=!0),e&&e.forEach((function(e){return t.register(e,i)}))},t.assertRegistered=function(t,e){if(this.isRegistered(t))return!0;var i="ag-Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return X((function(){console.warn(i)}),e+t),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return p(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),vt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ct=function(){function t(t,e,i,n){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new gt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=n,this.setState(t)}return t.prototype.setState=function(t){void 0!==t.sort?t.sort!==mt.SORT_ASC&&t.sort!==mt.SORT_DESC||(this.sort=t.sort):t.initialSort!==mt.SORT_ASC&&t.initialSort!==mt.SORT_DESC||(this.sort=t.initialSort);var e=s(t.sortIndex),i=s(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var n=l(t.hide),o=l(t.initialHide);this.visible=void 0!==n?!n:!o,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var r=s(t.flex),a=s(t.initialFlex);void 0!==r?this.flex=r:void 0!==a&&(this.flex=a)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){var t=this.gridOptionsWrapper.getMinColWidth(),e=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=t,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=e,this.resetActualWidth("gridInitializing");var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=n(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=n(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i,this.validate()},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(o(this.colDef)||o(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===t;return e||i},t.prototype.getUniqueId=function(){return this.getId()},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter||!!this.colDef.filterFramework;return this.primary&&t},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function i(t,e,i){X((function(){i?console.warn(t,i):X((function(){return console.warn(t)}),e)}),e)}if(!yt.isRegistered(e.ModuleNames.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(o){n(t[o])&&(yt.isPackageBased()?i("ag-Grid: "+o+" is only valid in ag-grid-enterprise, your column definition should not have "+o,"ColumnRowGroupingMissing"+o):i("ag-Grid: "+o+" is only valid with ag-Grid Enterprise Module "+e.ModuleNames.RowGroupingModule+" - your column definition should not have "+o,"ColumnRowGroupingMissing"+o))}))}if(yt.isRegistered(e.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(yt.isPackageBased()?i("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):i("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+e.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),yt.isRegistered(e.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(yt.isPackageBased()?i("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):i("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+e.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(e){n(t[e])&&i("ag-Grid: "+e+" is not possible when doing tree data, your column definition should not have "+e,"TreeDataCannotRowGroup")}))}n(this.colDef.width)&&"number"!==typeof this.colDef.width&&i("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createIsColumnFuncParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.isSuppressNavigable=function(t){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var e=this.createIsColumnFuncParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!0===this.colDef.resizable},t.prototype.isColumnFunc=function(t,e){return"boolean"===typeof e?e:"function"===typeof e&&e(this.createIsColumnFuncParams(t))},t.prototype.setMoving=function(e,i){void 0===i&&(i="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MOVING_CHANGED,i))},t.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e,i){void 0===i&&(i="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_SORT_CHANGED,i)))},t.prototype.setMenuVisible=function(e,i){void 0===i&&(i="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MENU_VISIBLE_CHANGED,i)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return this.sort===mt.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===mt.SORT_DESC},t.prototype.isSortNone=function(){return o(this.sort)},t.prototype.isSorting=function(){return n(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e,i){void 0===i&&(i="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LEFT_CHANGED,i)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e,i,n){void 0===i&&(i="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FILTER_ACTIVE_CHANGED,i)));var o=this.createColumnEvent(t.EVENT_FILTER_CHANGED,i);n&&V(o,n),this.eventService.dispatchEvent(o)},t.prototype.setPinned=function(t){!0===t||t===mt.PINNED_LEFT?this.pinned=mt.PINNED_LEFT:t===mt.PINNED_RIGHT?this.pinned=mt.PINNED_RIGHT:this.pinned=null},t.prototype.setFirstRightPinned=function(e,i){void 0===i&&(i="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED,i)))},t.prototype.setLastLeftPinned=function(e,i){void 0===i&&(i="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED,i)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===mt.PINNED_LEFT||this.pinned===mt.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===mt.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===mt.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e,i){void 0===i&&(i="api");var n=!0===e;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VISIBLE_CHANGED,i)))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},t.prototype.getColSpan=function(t){if(o(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},t.prototype.getRowSpan=function(t){if(o(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},t.prototype.setActualWidth=function(t,e,i){void 0===e&&(e="api"),void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_WIDTH_CHANGED,e))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(e,i){void 0===i&&(i="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_ROW_GROUP_CHANGED,i)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(e,i){void 0===i&&(i="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_PIVOT_CHANGED,i)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(e,i){void 0===i&&(i="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VALUE_CHANGED,i)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},t.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},t.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",vt([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),vt([st("columnUtils")],t.prototype,"columnUtils",void 0),vt([st("columnApi")],t.prototype,"columnApi",void 0),vt([st("gridApi")],t.prototype,"gridApi",void 0),vt([st("context")],t.prototype,"context",void 0),vt([ot],t.prototype,"initialise",null),t}(),xt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},bt=function(){function t(t,e,i,n){this.displayedChildren=[],this.localEventService=new gt,this.groupId=e,this.instanceId=i,this.originalColumnGroup=t,this.pinned=n}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.instanceId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getOriginalColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=g(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var i=!1;return this.children.forEach((function(n){e===n&&(i=!0),n instanceof t&&n.isChildInThisGroupDeepSearch(e)&&(i=!0)})),i},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.originalColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(i){i instanceof Ct?e.push(i):i instanceof t&&i.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(i){i instanceof Ct?e.push(i):i instanceof t&&i.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},t.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];var i=this;if(this.isPadding())for(;i.getParent()&&i.isPadding();)i=i.getParent();i.originalColumnGroup.isExpandable()?this.children.forEach((function(n){switch(n.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:i.originalColumnGroup.isExpanded()&&e.displayedChildren.push(n);break;case t.HEADER_GROUP_SHOW_CLOSED:i.originalColumnGroup.isExpanded()||e.displayedChildren.push(n);break;default:n instanceof t&&n.isPadding()&&!n.displayedChildren.length||e.displayedChildren.push(n)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t.HEADER_GROUP_PADDING="padding",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",xt([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),wt=function(){function t(t,e,i,n){this.localEventService=new gt,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=t&&!!t.openByDefault,this.padding=i,this.level=n}return t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var i={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(i){i instanceof Ct?e.push(i):i instanceof t&&i.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){return this.padding?bt.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach((function(e){return e.addEventListener(Ct.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))}))},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,i=!1,n=!1,o=this.findChildren(),r=0,a=o.length;r<a;r++){var s=o[r];if(s.isVisible()){var l=s.getColumnGroupShow();if(l===bt.HEADER_GROUP_SHOW_OPEN)e=!0,n=!0;else if(l===bt.HEADER_GROUP_SHOW_CLOSED)i=!0,n=!0;else{if(e=!0,i=!0,l===bt.HEADER_GROUP_PADDING)n=n||s.children.some((function(t){return void 0!==t.getColumnGroupShow()}))}}}var u=e&&i&&n;if(this.expandable!==u){this.expandable=u;var h={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(h)}}},t.prototype.findChildren=function(){var e=this.children,i=e[0];if(i&&(!i.isPadding||!i.isPadding()))return e;for(;1===e.length&&e[0]instanceof t;)e=e[0].children;return e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",t}(),Et={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Pt="__ag_Grid_Stop_Propagation",St=["touchstart","touchend","touchmove","touchcancel"],Tt=["mouseover","mouseout","mouseenter","mouseleave"],_t={};function Mt(t){t[Pt]=!0}function Rt(t){return!0===t[Pt]}var Ot=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"===typeof _t[e])return _t[e];var i=document.createElement(t[e]||"div"),n=(e="on"+e)in i;return n||(i.setAttribute(e,"return;"),n="function"==typeof i[e]),i=null,_t[e]=n}}();function At(t,e){for(var i=Dt(e);i;){var n=t.getDomData(i,"cellComp");if(n)return n;i=i.parentElement}return null}function Dt(t){var e=t;return e.target||e.srcElement}function kt(t,e){return!(!e||!t)&&It(e).indexOf(t)>=0}function Ft(t){for(var e=[],i=Dt(t);i;)e.push(i),i=i.parentElement;return e}function It(t){var e=t;return e.deepPath?e.deepPath():e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:Ft(t)}function Lt(t,e,i,n){var o=w(St,i)?{passive:!0}:void 0;w(Tt,i)?t&&t.addEventListenerOutsideAngular&&t.addEventListenerOutsideAngular(e,i,n,o):e.addEventListener(i,n,o)}var Nt=Object.freeze({__proto__:null,stopPropagationForAgGrid:Mt,isStopPropagationForAgGrid:Rt,isEventSupported:Ot,getCellCompForEvent:At,addChangeListener:function(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e),t.addEventListener("keydown",e),t.addEventListener("keyup",e)},getTarget:Dt,isElementInEventPath:kt,createEventPath:Ft,addAgGridEventPath:function(t){t.__agGridEventPath=It(t)},getEventPath:It,addSafePassiveEventListener:Lt}),Vt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Bt=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return t.context},this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new gt),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,i){var n=this;if(!this.destroyed){t instanceof HTMLElement?Lt(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var o=function o(){return t.removeEventListener(e,i),n.destroyFunctions=n.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},t.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var i=this;return t&&_(t,(function(t){return i.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Vt([st("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Vt([st("context")],t.prototype,"context",void 0),Vt([st("eventService")],t.prototype,"eventService",void 0),Vt([rt],t.prototype,"destroy",null),t}(),Wt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ht=function(t,e){return function(i,n){e(i,n,t)}},zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,i){var n=new d;if(i){var o=i.map((function(t){return t.getId()}));n.addExistingKeys(o)}var r=i?i.slice():null,a=this.recursivelyCreateColumns(t,0,e,r,n,null),s=this.findMaxDept(a,0);this.logger.log("Number of levels for grouped columns is "+s);var l=this.balanceColumnTree(a,0,s,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,(function(t,e){t instanceof wt&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:l,treeDept:s}},e.prototype.createForAutoGroups=function(t,e){var i=this,n=[];return t.forEach((function(t){var o=i.createAutoGroupTreeItem(e,t);n.push(o)})),n},e.prototype.createAutoGroupTreeItem=function(t,e){for(var i=e,n=this.findDepth(t)-1;n>=0;n--){var o=new wt(null,"FAKE_PATH_"+e.getId()+"}_"+n,!0,n);this.context.createBean(o),o.setChildren([i]),i.setOriginalParent(o),i=o}return i},e.prototype.findDepth=function(t){for(var e=0,i=t;i&&i[0]&&i[0]instanceof wt;)e++,i=i[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,i,n){for(var o=[],r=0;r<t.length;r++){var a=t[r];if(a instanceof wt){var s=a,l=this.balanceColumnTree(s.getChildren(),e+1,i,n);s.setChildren(l),o.push(s)}else{for(var u=void 0,h=void 0,p=i-1;p>=e;p--){var c=n.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new wt(d,c,!0,e);this.context.createBean(f),h&&h.setChildren([f]),h=f,u||(u=h)}if(u){if(o.push(u),t.some((function(t){return t instanceof wt}))){h.setChildren([a]);continue}h.setChildren(t);break}o.push(a)}}return o},e.prototype.findMaxDept=function(t,e){for(var i=e,n=0;n<t.length;n++){var o=t[n];if(o instanceof wt){var r=o,a=this.findMaxDept(r.getChildren(),e+1);i<a&&(i=a)}}return i},e.prototype.recursivelyCreateColumns=function(t,e,i,n,o,r){var a=this,s=[];return t?(t.forEach((function(t){var l;l=a.isColumnGroup(t)?a.createColumnGroup(i,t,e,n,o,r):a.createColumn(i,t,n,o,r),s.push(l)})),s):s},e.prototype.createColumnGroup=function(t,e,i,n,o,r){var a=this.createMergedColGroupDef(e),s=o.getUniqueKey(a.groupId,null),l=new wt(a,s,!1,i);this.context.createBean(l);var u=this.recursivelyCreateColumns(a.children,i+1,t,n,o,l);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(t){var e={};return B(e,this.gridOptionsWrapper.getDefaultColGroupDef()),B(e,t),this.checkForDeprecatedItems(e),e},e.prototype.createColumn=function(t,e,i,n,o){var r=this.mergeColDefs(e);this.checkForDeprecatedItems(r);var a=this.findExistingColumn(e,i);if(a)a.setColDef(r,e),this.applyColumnState(a,r);else{var s=n.getUniqueKey(r.colId,r.field);a=new Ct(r,e,s,t),this.context.createBean(a)}return a},e.prototype.applyColumnState=function(t,e){var i=s(e.flex);if(void 0!==i&&t.setFlex(i),t.getFlex()<=0){var n=s(e.width);null!=n&&t.setActualWidth(n)}void 0!==e.sort&&(e.sort==mt.SORT_ASC||e.sort==mt.SORT_DESC?t.setSort(e.sort):t.setSort(void 0));var o=s(e.sortIndex);void 0!==o&&t.setSortIndex(o);var r=l(e.hide);void 0!==r&&t.setVisible(!r),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){var i=h(e,(function(e){var i=e.getUserProvidedColDef();if(!i)return!1;var n=null!=t.colId,o=null!=t.field;return n?e.getId()===t.colId:o?i.field===t.field:i===t}));return i&&v(e,i),i},e.prototype.mergeColDefs=function(t){var e={},i=this.gridOptionsWrapper.getDefaultColDef();if(V(e,i,!0,!0),t.type||i&&i.type){var n=t.type?t.type:i.type;this.assignColumnTypes(n,e)}return V(e,t,!0,!0),e},e.prototype.assignColumnTypes=function(t,e){var i;if(t instanceof Array){t.some((function(t){return"string"!==typeof t}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=t}else{if("string"!==typeof t)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");i=t.split(",")}var n=B({},Et);A(this.gridOptionsWrapper.getColumnTypes()||{},(function(t,e){t in n?console.warn("ag-Grid: the column type '"+t+"' is a default column type and cannot be overridden."):n[t]=e})),i.forEach((function(t){var i=n[t.trim()];i?V(e,i,!0,!0):console.warn("ag-grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==e.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(e.suppressRowGroup||e.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),e.displayName&&(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.headerName=e.displayName)}},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Gt([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Gt([st("columnUtils")],e.prototype,"columnUtils",void 0),Gt([Ht(0,ht("loggerFactory"))],e.prototype,"setBeans",null),e=Gt([at("columnFactory")],e)}(Bt),jt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t}(),Ut=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,i=this.existingIds[t];return e="number"!==typeof i?0:i+1,this.existingIds[t]=e,e},t}(),Yt=/[&<>"']/g,Xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qt(t){return null===t||void 0===t?null:t.replace(/([A-Z])/g,(function(t){return"-"+t[0].toLowerCase()}))}function Kt(t){return null===t||void 0===t?null:t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function Qt(t){return null!=t&&t.replace?t.replace(Yt,(function(t){return Xt[t]})):t}function $t(t){if(!t||null==t)return null;return t.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}function Jt(t,e){return t===e||null!=t&&t.slice(0,e.length)===e}var Zt=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function i(t,i){return e(t>>i&63|128)}function n(t){if(0==(4294967168&t))return e(t);var n="";return 0==(4294965248&t)?n=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),n=e(t>>12&15|224),n+=i(t,6)):0==(4292870144&t)&&(n=e(t>>18&7|240),n+=i(t,12),n+=i(t,6)),n+=e(63&t|128)}for(var o=function(t){for(var e,i,n=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(i=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--):n.push(e);return n}(t),r=o.length,a=-1,s="";++a<r;)s+=n(o[a]);return s},camelCaseToHyphen:qt,hyphenToCamelCase:Kt,capitalise:function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()},escapeString:Qt,camelCaseToHumanText:$t,startsWith:Jt}),te=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ee=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ie=function(t,e){return function(i,n){e(i,n,t)}},ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.secondaryColumnsPresent=!1,e.gridHeaderRowCount=0,e.displayedLeftColumns=[],e.displayedRightColumns=[],e.displayedCenterColumns=[],e.allDisplayedColumns=[],e.allDisplayedVirtualColumns=[],e.allDisplayedCenterVirtualColumns=[],e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return te(e,t),e.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.getColDefVersion=function(){return this.colDefVersion},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var i=!!this.columnDefs;this.colDefVersion++;var n=this.compareColumnStatesAndRaiseEvents(e);this.columnDefs=t,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns,r=this.columnFactory.createColumnTree(t,!0,o);this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(e,o),this.extractPivotColumns(e,o),this.extractValueColumns(e,o),this.ready=!0,this.updateGridColumns(),i&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkDisplayedVirtualColumns();var a={type:jt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(a);var s={type:jt.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};n(),this.eventService.dispatchEvent(s)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this;this.gridColumns.sort((function(e,i){var n=t.primaryColumns.indexOf(e),o=t.primaryColumns.indexOf(i),r=n>=0,a=o>=0;return r&&a?n-o:r?1:a?-1:t.gridColumns.indexOf(e)-t.gridColumns.indexOf(i)}))},e.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},e.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},e.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,i=[];null!=e;)i.push(e),e=this.getDisplayedColAfter(e);return i},e.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var t=this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#");if(this.updateVirtualSets(),t!==this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#")){var e={type:jt.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}}},e.prototype.setVirtualViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var i={type:jt.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var i=this.getPrimaryColumn(e),n=null;return this.secondaryColumns.forEach((function(e){var o=e.getColDef().pivotKeys,r=e.getColDef().pivotValueColumn;m(o,t)&&r===i&&(n=e)})),n},e.prototype.setBeans=function(t){this.logger=t.create("ColumnController")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,i;this.gridOptionsWrapper.isEnableRtl()?(e=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,i=this.displayedRightColumns?g(this.displayedRightColumns):null):(e=this.displayedLeftColumns?g(this.displayedLeftColumns):null,i=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(n){n.setLastLeftPinned(n===e,t),n.setFirstRightPinned(n===i,t)}))},e.prototype.autoSizeColumns=function(t,e,i){var n=this;void 0===i&&(i="api"),this.animationFrameService.flushAllFrames();var o=[],r=-1;for(null==e&&(e=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==r;)r=0,this.actionOnGridColumns(t,(function(t){if(o.indexOf(t)>=0)return!1;var a=n.autoWidthCalculator.getPreferredWidthForColumn(t,e);if(a>0){var s=n.normaliseColumnWidth(t,a);t.setActualWidth(s,i),o.push(t),r++}return!0}),i);this.fireColumnResizedEvent(o,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(t,e,i,n){if(void 0===n&&(n=null),t&&t.length){var o={type:jt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:n,finished:e,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(o)}},e.prototype.autoSizeColumn=function(t,e,i){void 0===i&&(i="api"),t&&this.autoSizeColumns([t],e,i)},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var i=this.getAllDisplayedColumns();this.autoSizeColumns(i,t,e)},e.prototype.getColumnsFromTree=function(t){var e=[];return function t(i){for(var n=0;n<i.length;n++){var o=i[n];o instanceof Ct?e.push(o):o instanceof wt&&t(o.getChildren())}}(t),e},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.getDisplayedColumnGroups=function(t){switch(t){case mt.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case mt.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},e.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedLeftColumns):this.displayedLeftColumns},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedRightColumns):this.displayedRightColumns},e.prototype.getDisplayedColumnsForRow=function(t,e,i,n){for(var o,r=[],a=null,s=function(s){var l,u=e[s],h=e.length-s,p=Math.min(u.getColSpan(t),h),c=[u];if(p>1){for(var d=p-1,f=1;f<=d;f++)c.push(e[s+f]);s+=d}if(i?(l=!1,c.forEach((function(t){i(t)&&(l=!0)}))):l=!0,l){if(0===r.length&&a)!!n&&n(u)&&r.push(a);r.push(u)}a=u,o=s},l=0;l<e.length;l++)s(l),l=o;return r},e.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var i=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedCenterColumns,i,(function(t){return t.getLeft()>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInViewport=function(t){var e=t.getLeft(),i=t.getLeft()+t.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200;return!(e<n&&i<n)&&!(e>o&&i>o)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},e.prototype.updatePrimaryColumnList=function(t,e,i,n,o,a){var s=this;if(void 0===a&&(a="api"),t&&!r(t)){var l=!1;if(t.forEach((function(t){var o=s.getPrimaryColumn(t);if(o){if(i){if(e.indexOf(o)>=0)return;e.push(o)}else{if(e.indexOf(o)<0)return;v(e,o)}n(o),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var u={type:o,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:a};this.eventService.dispatchEvent(u)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||e.setVisible(!0,i))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),jt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),jt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),jt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,jt.EVENT_COLUMN_PIVOT_CHANGED,(function(t,i){i.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),jt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,i,o,r){var a=this;e.length=0,n(t)&&t.forEach((function(t){var i=a.getPrimaryColumn(t);i&&e.push(i)})),this.primaryColumns.forEach((function(t){var i=e.indexOf(t)>=0;o(i,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);var s={type:i,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(s)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,jt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(n)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),jt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),jt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){return e<t.getMinWidth()&&(e=t.getMinWidth()),t.isGreaterThanMax(e)&&(e=t.getMaxWidth()),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,i,n){var o=this;void 0===n&&(n="api");var r=[];t.forEach((function(t){var i=o.getPrimaryOrGridColumn(t.key);if(i&&(r.push({width:t.newWidth,ratios:[1],columns:[i]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(e=!e),e)){var n=o.getDisplayedColAfter(i);if(!n)return;var a=i.getActualWidth()-t.newWidth,s=n.getActualWidth()+a;r.push({width:s,ratios:[1],columns:[n]})}})),0!==r.length&&this.resizeColumnSets(r,i,n)},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,i=t.width,n=0,o=0,r=!0;return e.forEach((function(t){n+=t.getMinWidth(),t.getMaxWidth()>0?o+=t.getMaxWidth():r=!1})),i>=n&&(!r||i<=o)},e.prototype.resizeColumnSets=function(t,e,i){if(!t||t.every(this.checkMinAndMaxWidthsForSet.bind(this))){var n=[],o=[];t.forEach((function(t){var e=t.width,r=t.columns,a=t.ratios,s={},l={};r.forEach((function(t){return o.push(t)}));for(var u=!0,h=0,p=function(){if(++h>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],i=0,n=e;r.forEach((function(e,o){if(l[e.getId()])n-=s[e.getId()];else{t.push(e);var r=a[o];i+=r}}));var o=1/i;t.forEach((function(i,r){var h;r===t.length-1?h=n:(h=Math.round(a[r]*e*o),n-=h),h<i.getMinWidth()?(h=i.getMinWidth(),l[i.getId()]=!0,u=!0):i.getMaxWidth()>0&&h>i.getMaxWidth()&&(h=i.getMaxWidth(),l[i.getId()]=!0,u=!0),s[i.getId()]=h}))};u;){if("break"===p())break}r.forEach((function(t){var e=s[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,i),n.push(t))}))}));var r=n.length>0,a=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0});r&&(this.setLeftValues(i),this.updateBodyWidths(),this.checkDisplayedVirtualColumns());var s=o.concat(a);(r||e)&&this.fireColumnResizedEvent(s,e,i,a)}else if(e){var l=t&&t.length>0?t[0].columns:null;this.fireColumnResizedEvent(l,e,i)}},e.prototype.setColumnAggFunc=function(t,e,i){if(void 0===i&&(i="api"),t){var n=this.getPrimaryColumn(t);if(n){n.setAggFunc(e);var o={type:jt.EVENT_COLUMN_VALUE_CHANGED,columns:[n],column:n,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(o)}}},e.prototype.moveRowGroupColumn=function(t,e,i){void 0===i&&(i="api");var n=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,n);var o={type:jt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(o)},e.prototype.moveColumns=function(t,e,i){if(void 0===i&&(i="api"),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(t);if(!!this.doesMovePassRules(n,e)){b(this.gridColumns,n,e),this.updateDisplayedColumns(i);var o={type:jt.EVENT_COLUMN_MOVED,columns:n,column:1===n.length?n[0]:null,toIndex:e,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(o),this.columnAnimationService.finish()}},e.prototype.doesMovePassRules=function(t,e){var i=this.gridColumns.slice();return b(i,t,e),!!this.doesMovePassMarryChildren(i)&&!!this.doesMovePassLockedPositions(i)},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,i){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(i)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=!1,i=!0;return t.forEach((function(t){t.getColDef().lockPosition?e&&(i=!1):e=!0})),i},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(i){if(i instanceof wt){var n=i;if(n.getColGroupDef()&&n.getColGroupDef().marryChildren){var o=[];n.getLeafColumns().forEach((function(e){var i=t.indexOf(e);o.push(i)})),Math.max.apply(Math,o)-Math.min.apply(Math,o)>n.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,i){void 0===i&&(i="api"),this.moveColumns([t],e,i)},e.prototype.moveColumnByIndex=function(t,e,i){void 0===i&&(i="api");var n=this.gridColumns[t];this.moveColumn(n,e,i)},e.prototype.getColumnDefs=function(){var t=this,e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,i){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(i)})):this.lastPrimaryOrder&&e.sort((function(e,i){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(i)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case mt.PINNED_LEFT:return this.leftWidth;case mt.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedCenterColumns),e=this.getWidthOfColsInList(this.displayedLeftColumns),i=this.getWidthOfColsInList(this.displayedRightColumns);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i;var n={type:jt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getDisplayedColumns=function(t){switch(t){case mt.PINNED_LEFT:return this.getDisplayedLeftColumns();case mt.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return r(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return r(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,i){void 0===i&&(i="api"),this.setColumnsVisible([t],e,i)},e.prototype.setColumnsVisible=function(t,e,i){var n=this;void 0===i&&(i="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,(function(t){return t.isVisible()!==e&&(t.setVisible(e,i),!0)}),i,(function(){return{type:jt.EVENT_COLUMN_VISIBLE,visible:e,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:i}})),this.columnAnimationService.finish()},e.prototype.setColumnPinned=function(t,e,i){void 0===i&&(i="api"),t&&this.setColumnsPinned([t],e,i)},e.prototype.setColumnsPinned=function(t,e,i){var n,o=this;(void 0===i&&(i="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),n=!0===e||e===mt.PINNED_LEFT?mt.PINNED_LEFT:e===mt.PINNED_RIGHT?mt.PINNED_RIGHT:null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==n&&(t.setPinned(n),!0)}),i,(function(){return{type:jt.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:i}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},e.prototype.actionOnGridColumns=function(t,e,i,o){var a=this;if(!r(t)){var s=[];if(t.forEach((function(t){var i=a.getGridColumn(t);i&&(!1!==e(i)&&s.push(i))})),s.length&&(this.updateDisplayedColumns(i),n(o)&&o)){var l=o();l.columns=s,l.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i>0?e[i-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var i=t.getOriginalColumnGroup().getLevel()+t.getPaddingLevel(),n=t.getDisplayedLeafColumns(),o="After"===e?g(n):n[0],r="getDisplayedCol"+e;;){var a=this[r](o);if(!a)return null;var s=this.getColumnGroupAtLevel(a,i);if(s!==t)return s}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var i=t.getParent();;){if(i.getOriginalColumnGroup().getLevel()+i.getPaddingLevel()<=e)break;i=i.getParent()}return i},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&n(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(e){return t.push(e)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(e){return t.push(e)})),t},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,n=t.isValueActive()?t.getAggFunc():null,o=null!=t.getSort()?t.getSort():null,r=null!=t.getSortIndex()?t.getSortIndex():null,a=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:r,aggFunc:n,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:i,flex:a}},e.prototype.getColumnState=function(){if(o(this.primaryColumns)||!this.isAlive())return[];var t=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),e=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(t);return this.pivotMode||this.orderColumnStateList(e),e},e.prototype.orderColumnStateList=function(t){var e=this.gridColumns.map((function(t){return t.getColId()}));t.sort((function(t,i){return e.indexOf(t.colId)-e.indexOf(i.colId)}))},e.prototype.resetColumnState=function(t,e){void 0===e&&(e="api");var i=this.getColumnsFromTree(this.primaryColumnTree),n=[],r=1e3,a=1e3;i&&i.forEach((function(t){var e=t.getColDef(),i=null!=e.sort?e.sort:null,s=e.sortIndex,l=!!e.hide,u=e.pinned?e.pinned:null,h=e.width,p=null!=e.flex?e.flex:null,c=e.rowGroupIndex,d=e.rowGroup;null!=c||null!=d&&0!=d||(c=null,d=null);var f=e.pivotIndex,g=e.pivot;null!=f||null!=g&&0!=g||(f=null,g=null);var m=null!=e.aggFunc?e.aggFunc:null,y={colId:t.getColId(),sort:i,sortIndex:s,hide:l,pinned:u,width:h,flex:p,rowGroup:d,rowGroupIndex:c,pivot:g,pivotIndex:f,aggFunc:m};o(c)&&d&&(y.rowGroupIndex=r++),o(f)&&g&&(y.pivotIndex=a++),n.push(y)})),this.applyColumnState({state:n,applyOrder:!0},e)},e.prototype.applyColumnState=function(t,e){var i=this;if(void 0===e&&(e="api"),r(this.primaryColumns))return!1;if(!t||!t.state||t.state.forEach){this.columnAnimationService.start();var n=this.compareColumnStatesAndRaiseEvents(e);this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns.slice(),a=!0,s={},l={},u=[],h=this.rowGroupColumns.slice(),p=this.pivotColumns.slice();t.state&&t.state.forEach((function(n){var r=mt.GROUP_AUTO_COLUMN_ID,h=n.colId;if(Jt(h,r))u.push(n);else{var p=i.getPrimaryColumn(h);p?(i.syncColumnWithStateItem(p,n,t.defaultState,s,l,!1,e),v(o,p)):a=!1}})),o.forEach((function(n){i.syncColumnWithStateItem(n,null,t.defaultState,s,l,!1,e)}));var c=function(t,e,i,n){var o=t[i.getId()],r=t[n.getId()],a=null!=o,s=null!=r;if(a&&s)return o-r;if(a)return-1;if(s)return 1;var l=e.indexOf(i),u=e.indexOf(n),h=l>=0,p=u>=0;return h&&p?l-u:h?-1:1};if(this.rowGroupColumns.sort(c.bind(this,s,h)),this.pivotColumns.sort(c.bind(this,l,p)),this.updateGridColumns(),u.forEach((function(n){var o=i.getAutoColumn(n.colId);i.syncColumnWithStateItem(o,n,t.defaultState,null,null,!0,e)})),this.gridColsArePrimary&&t.applyOrder&&t.state){var d=t.state.map((function(t){return t.colId}));this.gridColumns.sort((function(t,e){return d.indexOf(t.getId())-d.indexOf(e.getId())})),this.putFixedColumnsFirst()}this.updateDisplayedColumns(e);var f={type:jt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};return this.eventService.dispatchEvent(f),n(),this.columnAnimationService.finish(),a}console.warn("ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.")},e.prototype.compareColumnStatesAndRaiseEvents=function(t){var e=this;if(!!!this.columnDefs)return function(){};var i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),o={};return n.forEach((function(t){o[t.colId]=t})),function(){if(!e.gridOptionsWrapper.isSuppressColumnStateEvents()){var r=function(i,n,o,r){if(!m(n.map(r).sort(),o.map(r).sort())){var a={type:i,columns:o,column:1===o.length?o[0]:null,api:e.gridApi,columnApi:e.columnApi,source:t};e.eventService.dispatchEvent(a)}},a=function(t){var i=[];return e.gridColumns.forEach((function(e){var n=o[e.getColId()];n&&t(n,e)&&i.push(e)})),i},s=function(t){return t.getColId()};r(jt.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,e.rowGroupColumns,s),r(jt.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,e.pivotColumns,s),r(jt.EVENT_COLUMN_VALUE_CHANGED,i.valueColumns,e.valueColumns,s);e.fireColumnResizedEvent(a((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.raiseColumnPinnedEvent(a((function(t,e){return t.pinned!=e.getPinned()})),t);e.raiseColumnVisibleEvent(a((function(t,e){return t.hide==e.isVisible()})),t);a((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(),e.raiseColumnMovedEvent(n,t)}}},e.prototype.raiseColumnPinnedEvent=function(t,e){if(t.length){var i={type:jt.EVENT_COLUMN_PINNED,pinned:null,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(i)}},e.prototype.raiseColumnVisibleEvent=function(t,e){if(t.length){var i={type:jt.EVENT_COLUMN_VISIBLE,visible:void 0,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(i)}},e.prototype.raiseColumnMovedEvent=function(t,e){var i=this,n=this.getColumnState(),o={};n.forEach((function(t){return o[t.colId]=t}));var r={};t.forEach((function(t){o[t.colId]&&(r[t.colId]=!0)}));var a=R(t,(function(t){return r[t.colId]})),s=R(n,(function(t){return r[t.colId]})),l=[];if(s.forEach((function(t,e){var n=a[e];n.colId!==t.colId&&l.push(i.getGridColumn(n.colId))})),l.length){var u={type:jt.EVENT_COLUMN_MOVED,columns:l,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(u)}},e.prototype.syncColumnWithStateItem=function(t,e,i,o,r,a,s){if(t){var l=function(t,n){var o=e,r=i;return!o||void 0===o[t]&&void 0===o[n]?!r||void 0===r[t]&&void 0===r[n]?{value1:void 0,value2:void 0}:{value1:r[t],value2:r[n]}:{value1:o[t],value2:o[n]}},u=l("hide").value1;void 0!==u&&t.setVisible(!u,s);var h=l("pinned").value1;void 0!==h&&t.setPinned(h);var p=this.gridOptionsWrapper.getMinColWidth(),c=l("flex").value1;if(void 0!==c&&t.setFlex(c),t.getFlex()<=0){var d=l("width").value1;null!=d&&p&&d>=p&&t.setActualWidth(d,s)}var f=l("sort").value1;void 0!==f&&(f===mt.SORT_DESC||f===mt.SORT_ASC?t.setSort(f):t.setSort(void 0));var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!a){var m=l("aggFunc").value1;void 0!==m&&("string"===typeof m?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,s),this.valueColumns.push(t))):(n(m)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.setAggFunc(null),t.isValueActive()&&(t.setValueActive(!1,s),v(this.valueColumns,t))));var y=l("rowGroup","rowGroupIndex"),C=y.value1,x=y.value2;void 0===C&&void 0===x||("number"===typeof x||C?(t.isRowGroupActive()||(t.setRowGroupActive(!0,s),this.rowGroupColumns.push(t)),"number"===typeof x&&(o[t.getId()]=x)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,s),v(this.rowGroupColumns,t)));var b=l("pivot","pivotIndex"),w=b.value1,E=b.value2;void 0===w&&void 0===E||("number"===typeof E||w?(t.isPivotActive()||(t.setPivotActive(!0,s),this.pivotColumns.push(t)),"number"===typeof E&&(r[t.getId()]=E)):t.isPivotActive()&&(t.setPivotActive(!1,s),v(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var i=[];return t&&t.forEach((function(t){var n=e(t);n&&i.push(n)})),i},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("ag-Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.getColumn(t,this.primaryColumns)},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns)},e.prototype.getColumn=function(t,e){if(!t)return null;for(var i=0;i<e.length;i++)if(this.columnsMatch(e[i],t))return e[i];return this.getAutoColumn(t)},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&n(this.groupAutoColumns)&&!o(this.groupAutoColumns)?h(this.groupAutoColumns,(function(i){return e.columnsMatch(i,t)})):null},e.prototype.columnsMatch=function(t,e){var i=t===e,n=t.getColDef()===e,o=t.getColId()==e;return i||n||o},e.prototype.getDisplayNameForColumn=function(t,e,i){if(void 0===i&&(i=!1),!t)return null;var n=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,n):n},e.prototype.getDisplayNameForOriginalColumnGroup=function(t,e,i){var n=e?e.getColGroupDef():null;return n?this.getHeaderName(n,null,t,e,i):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForOriginalColumnGroup(t,t.getOriginalColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,i,n,o){var r=t.headerValueGetter;if(r){var a={colDef:t,column:e,columnGroup:i,originalColumnGroup:n,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof r?r(a):"string"===typeof r?this.expressionService.evaluate(r,a):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?$t(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return e;var i,o=t.getColDef().pivotValueColumn,r=null;if(n(o))r=o?o.getAggFunc():null,i=!0;else{var a=t.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();a&&s?(r=t.getAggFunc(),i=!0):i=!1}if(i){var l="string"===typeof r?r:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(l,l)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof bt)return t;var i=this.getAllDisplayedColumnGroups(),n="number"===typeof e,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,(function(i){if(i instanceof bt){var r=i;(n?t===r.getGroupId()&&e===r.getInstanceId():t===r.getGroupId())&&(o=r)}})),o},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,i){return e.setValueActive(i,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0===e?void 0:""!=e}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,i){return e.setRowGroupActive(i,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,i,n,o,r,a){void 0===t&&(t=[]),void 0===e&&(e=[]);var u=[],h=[];this.primaryColumns.forEach((function(i){var p,c=t.indexOf(i)<0,d=i.getColDef(),f=l(r(d)),g=l(a(d)),m=s(n(d)),y=s(o(d));c?p=void 0!==f||void 0!==m?void 0!==f?f:m>=0:1==g||y>=0:p=void 0!==f?f:void 0!==m?null!==m&&m>=0:e.indexOf(i)>=0;p&&((c?null!=m||null!=y:null!=m)?u.push(i):h.push(i))}));var p=function(t){var e=n(t.getColDef()),i=o(t.getColDef());return null!=e?e:i};u.sort((function(t,e){var i=p(t),n=p(e);return i===n?0:i<n?-1:1}));var c=[].concat(u);return e.forEach((function(t){h.indexOf(t)>=0&&c.push(t)})),h.forEach((function(t){c.indexOf(t)<0&&c.push(t)})),e.forEach((function(t){c.indexOf(t)<0&&i(t,!1)})),c.forEach((function(t){e.indexOf(t)<0&&i(t,!0)})),c},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,i){return e.setPivotActive(i,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof wt){var i={groupId:t.getGroupId(),open:t.getColGroupDef().openByDefault};e.push(i)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){if(e instanceof wt){var i=e;t.push({groupId:i.getGroupId(),open:i.isExpanded()})}})),t},e.prototype.setColumnGroupState=function(t,e){var i=this;void 0===e&&(e="api"),this.columnAnimationService.start();var n=[];t.forEach((function(t){var e=t.groupId,o=t.open,r=i.getOriginalColumnGroup(e);r&&r.isExpanded()!==o&&(i.logger.log("columnGroupOpened("+r.getGroupId()+","+o+")"),r.setExpanded(o),n.push(r))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),n.forEach((function(t){var e={type:jt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t,api:i.gridApi,columnApi:i.columnApi};i.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,i){var n;void 0===i&&(i="api"),n=t instanceof wt?t.getId():t,this.setColumnGroupState([{groupId:n,open:e}],i)},e.prototype.getOriginalColumnGroup=function(t){if(t instanceof wt)return t;"string"!==typeof t&&console.error("ag-Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(i){if(i instanceof wt){var n=i;n.getId()===t&&(e=n)}})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&!this.secondaryColumnsPresent?this.gridColumns.filter((function(e){var i=t.groupAutoColumns&&w(t.groupAutoColumns,e),n=t.valueColumns&&w(t.valueColumns,e);return i||n})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&w(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){n(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[];var e=function(e){var i=e.getColDef();i&&n(i.showRowGroup)&&t.groupDisplayColumns.push(e)};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},e.prototype.setSecondaryColumns=function(t,e){void 0===e&&(e="api");var i=t&&t.length>0;if(i||this.secondaryColumnsPresent){if(i){this.processSecondaryColumnDefinitions(t);var n=this.columnFactory.createColumnTree(t,!1);this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),i=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(e||i){t&&function t(o){o.forEach((function(o){if(n(o.children)){var r=o;i&&i(r),t(r.children)}else e&&e(o)}))}(t)}},e.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(t){return t.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns);var t={type:jt.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.orderGridColsLikeLastPrimary=function(){var t=this;if(!o(this.lastPrimaryOrder)){var e=!0;if(this.gridColumns.forEach((function(i){t.lastPrimaryOrder.indexOf(i)>=0&&(e=!1)})),!e){var i=this.lastPrimaryOrder.filter((function(e){return t.gridColumns.indexOf(e)>=0})),n=this.gridColumns.filter((function(t){return i.indexOf(t)<0})),r=i.slice();n.forEach((function(t){var e=t.getOriginalParent();if(e){for(var i=[];!i.length&&e;){e.getLeafColumns().forEach((function(t){var e=r.indexOf(t)>=0,n=i.indexOf(t)<0;e&&n&&i.push(t)})),e=e.getOriginalParent()}if(i.length){var n=i.map((function(t){return r.indexOf(t)})),o=Math.max.apply(Math,n);x(r,t,o+1)}else r.push(t)}else r.push(t)})),this.gridColumns=r}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=this.primaryColumns.concat(this.groupAutoColumns):this.columnsForQuickFilter=this.primaryColumns},e.prototype.putFixedColumnsFirst=function(){var t=this.gridColumns.filter((function(t){return t.getColDef().lockPosition})),e=this.gridColumns.filter((function(t){return!t.getColDef().lockPosition}));this.gridColumns=t.concat(e)},e.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!o(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(t),this.refreshFlexedColumns(),this.updateVirtualSets(),this.updateBodyWidths();var e={type:jt.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.updateDisplayedColumnsFromTrees=function(t){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(t)},e.prototype.setupAllDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.allDisplayedColumns=this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.allDisplayedColumns=this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this,i=this.primaryColumns.slice(0),n=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(o){if(n){var r=e.getWidthOfColsInList(o);o.forEach((function(e){r-=e.getActualWidth(),e.setLeft(r,t)}))}else{var a=0;o.forEach((function(e){e.setLeft(a,t),a+=e.getActualWidth()}))}C(i,o)})),i.forEach((function(e){e.setLeft(null,t)}))},e.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(t){t.forEach((function(t){t instanceof bt&&t.checkLeft()}))}))},e.prototype.addToDisplayedColumns=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof Ct&&e.push(t)}))},e.prototype.updateDisplayedCenterVirtualColumns=function(){this.suppressColumnVirtualisation?this.allDisplayedCenterVirtualColumns=this.displayedCenterColumns:this.allDisplayedCenterVirtualColumns=this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var t={};return this.allDisplayedVirtualColumns.forEach((function(e){t[e.getId()]=!0})),t},e.prototype.getVirtualHeaderGroupRow=function(t,e){var i;switch(t){case mt.PINNED_LEFT:i=this.displayedLeftHeaderRows[e];break;case mt.PINNED_RIGHT:i=this.displayedRightHeaderRows[e];break;default:i=this.displayedCentreHeaderRows[e]}return o(i)&&(i=[]),i},e.prototype.updateDisplayedVirtualGroups=function(t){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var e=function e(i,n,o){for(var r=!1,a=0;a<i.length;a++){var s=i[a],l=void 0;if(s instanceof Ct)l=!0===t[s.getId()];else l=e(s.getDisplayedChildren(),n,o+1);l&&(r=!0,n[o]||(n[o]=[]),n[o].push(s))}return r};e(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),e(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),e(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},e.prototype.updateVirtualSets=function(){var t=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(t)},e.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var i=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),this.flexViewportWidth){var n=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var i=e.displayedCenterColumns.indexOf(t);n<i&&(n=i)}));var o=function(t){var i=e.displayedCenterColumns.indexOf(t)>n;return t.getFlex()&&i},r=this.displayedCenterColumns.filter((function(t){return!o(t)})),a=this.displayedCenterColumns.filter((function(t){return o(t)})),s=[];if(!a.length)return[];var l,u=[];t:for(;;){var h=a.reduce((function(t,e){return t+e.getFlex()}),0);l=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var p=0;p<a.length;p++){var c=a[p],d=l*c.getFlex()/h,f=void 0;if(d<c.getMinWidth()?f=c.getMinWidth():null!=c.getMaxWidth()&&d>c.getMaxWidth()&&(f=c.getMaxWidth()),f){c.setActualWidth(f,i),v(a,c),s.push(c),r.push(c);continue t}u[p]=Math.round(d)}break}var g=l;return a.forEach((function(t,e){t.setActualWidth(Math.min(u[e],g),i),s.push(t),g-=u[e]})),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(s,!0,i,a),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),a}},e.prototype.sizeColumnsToFit=function(t,e,i){void 0===e&&(e="sizeColumnsToFit");var n=this.getAllDisplayedColumns();if(!(t<=0)&&n.length){var o=[],r=[];n.forEach((function(t){!0===t.getColDef().suppressSizeToFit?r.push(t):o.push(t)}));var a=o.slice(0),s=!1,l=function(t){v(o,t),r.push(t)};for(o.forEach((function(t){return t.resetActualWidth(e)}));!s;){s=!0;var u=t-this.getWidthOfColsInList(r);if(u<=0)o.forEach((function(t){t.setMinimum(e)}));else for(var h=u/this.getWidthOfColsInList(o),p=u,c=o.length-1;c>=0;c--){var d=o[c],f=d.getMinWidth(),g=d.getMaxWidth(),m=Math.round(d.getActualWidth()*h);m<f?(m=d.getMinWidth(),l(d),s=!1):d.isGreaterThanMax(m)?(m=g,l(d),s=!1):0===c&&(m=p),d.setActualWidth(m,e,!0),p-=m}}a.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),i||this.fireColumnResizedEvent(a,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],i=[],n=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":i.push(t);break;default:n.push(t)}}));var o=new Ut;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,o,mt.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,o,mt.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,null,this.displayedCentreColumnTree)},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof bt&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t){var i=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(i,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=i)}else this.groupAutoColumns=null}},e.prototype.autoColsEqual=function(t,e){return m(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){var t=this.gridOptionsWrapper.getDefaultColDef();return null!=t&&!0===t.floatingFilter||null!=this.columnDefs&&this.columnDefs.some((function(t){return!0===t.floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var i=0;i<e.length;i++){var n=this[e[i]]();if(n.length)return t?g(n):n[0]}return null},ee([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ee([st("expressionService")],e.prototype,"expressionService",void 0),ee([st("columnFactory")],e.prototype,"columnFactory",void 0),ee([st("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),ee([st("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),ee([st("columnUtils")],e.prototype,"columnUtils",void 0),ee([st("columnAnimationService")],e.prototype,"columnAnimationService",void 0),ee([st("autoGroupColService")],e.prototype,"autoGroupColService",void 0),ee([lt("aggFuncService")],e.prototype,"aggFuncService",void 0),ee([lt("valueCache")],e.prototype,"valueCache",void 0),ee([lt("animationFrameService")],e.prototype,"animationFrameService",void 0),ee([st("rowModel")],e.prototype,"rowModel",void 0),ee([st("columnApi")],e.prototype,"columnApi",void 0),ee([st("gridApi")],e.prototype,"gridApi",void 0),ee([st("sortController")],e.prototype,"sortController",void 0),ee([st("columnDefFactory")],e.prototype,"columnDefFactory",void 0),ee([ot],e.prototype,"init",null),ee([ie(0,ht("loggerFactory"))],e.prototype,"setBeans",null),e=ee([at("columnController")],e)}(Bt);function oe(t,e){for(var i=""+t;i.length<e;)i="0"+i;return i}function re(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i}function ae(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function se(){return Number.MAX_SAFE_INTEGER||9007199254740991}function le(t){return"string"===typeof t&&(t=parseInt(t,10)),"number"===typeof t?Math.floor(t):null}function ue(t){return"number"!==typeof t?"":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var he=Object.freeze({__proto__:null,padStart:oe,createArrayOfNumbers:re,isNumeric:ae,getMaxSafeInteger:se,cleanNumber:le,decToHex:function(t,e){for(var i="",n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},formatNumberTwoDecimalPlacesAndCommas:function(t){return"number"!==typeof t?"":ue(Math.round(100*t)/100)},formatNumberCommas:ue,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)}}),pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ce=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.calculateColInitialWidth=function(t){var e,i=this.gridOptionsWrapper,n=null!=t.minWidth?t.minWidth:i.getMinColWidth(),o=null!=t.maxWidth?t.maxWidth:i.getMaxColWidth()||se(),r=s(t.width),a=s(t.initialWidth);return e=null!=r?r:null!=a?a:i.getColWidth(),Math.max(Math.min(e,o),n)},e.prototype.getOriginalPathForColumn=function(t,e){var i=[],n=!1;return function e(o,r){for(var a=0;a<o.length;a++){if(n)return;var s=o[a];if(s instanceof wt)e(s.getChildren(),r+1),i[r]=s;else s===t&&(n=!0)}}(e,0),n?i:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,i){var n=this;e&&e.forEach((function(e){e instanceof wt&&n.depthFirstOriginalTreeSearch(e,e.getChildren(),i),i(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var i=this;t&&t.forEach((function(t){t instanceof bt&&i.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var i=this;t&&t.forEach((function(t){t instanceof bt&&i.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},ce([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=ce([at("columnUtils")],e)}(Bt),fe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ge=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fe(e,t),e.prototype.createDisplayedGroups=function(t,e,i,n,o){var r,a,s=this,l=[],u=this.mapOldGroupsById(o);return t.forEach((function(t){for(var o=s.getOriginalPathForColumn(e,t),h=[],p=!a,c=0;c<o.length;c++)if(p||o[c]!==a[c]){var d=s.createColumnGroup(o[c],i,u,n);h[c]=d,0==c?l.push(d):h[c-1].addChild(d)}else h[c]=r[c];0===h.length?l.push(t):g(h).addChild(t);r=h,a=o})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,i,o){var r=t.getGroupId(),a=e.getInstanceIdForKey(r),s=i[bt.createUniqueId(r,a)];return s&&s.getOriginalColumnGroup()!==t&&(s=null),n(s)?s.reset():(s=new bt(t,r,a,o),this.context.createBean(s)),s},e.prototype.mapOldGroupsById=function(t){var e={};return t&&function t(i){i.forEach((function(i){if(i instanceof bt){var n=i;e[i.getUniqueId()]=n,t(n.getChildren())}}))}(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var i=this;t.forEach((function(t){if(t.setParent(e),t instanceof bt){var n=t;i.setupParentsIntoColumns(n.getChildren(),n)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var i=[],n=!1;return function t(o,r){for(var a=0;a<o.length;a++){if(n)return;var s=o[a];if(s instanceof wt)t(s.getChildren(),r+1),i[r]=s;else s===e&&(n=!0)}}(t,0),n?i:(console.warn("could not get path"),null)},ge([st("columnUtils")],e.prototype,"columnUtils",void 0),e=ge([at("displayedGroupCreator")],e)}(Bt),ye=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},ve=function(){function t(){}return t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],t.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight"],t.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],t.ALL_PROPERTIES=ye(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),Ce=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},xe=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)}))),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,i,n){"object"!==typeof e&&(e={});var o=e,r=function(t){return"undefined"!==typeof i[t]};return Ce(t.ARRAY_PROPERTIES,t.STRING_PROPERTIES,t.OBJECT_PROPERTIES,t.FUNCTION_PROPERTIES,t.getEventCallbacks()).filter(r).forEach((function(t){return o[t]=i[t]})),t.BOOLEAN_PROPERTIES.filter(r).forEach((function(e){return o[e]=t.toBoolean(i[e])})),t.NUMBER_PROPERTIES.filter(r).forEach((function(e){return o[e]=t.toNumber(i[e])})),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,i,n,o){if(e){var r=i,a=function(t){return e[t]};Ce(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.getEventCallbacks()).filter(a).forEach((function(t){return r[t]=e[t].currentValue})),t.BOOLEAN_PROPERTIES.filter(a).forEach((function(i){return r[i]=t.toBoolean(e[i].currentValue)})),t.NUMBER_PROPERTIES.filter(a).forEach((function(i){return r[i]=t.toNumber(e[i].currentValue)})),e.enableCellTextSelection&&n.setEnableCellTextSelection(t.toBoolean(e.enableCellTextSelection.currentValue)),e.quickFilterText&&n.setQuickFilter(e.quickFilterText.currentValue),e.rowData&&n.setRowData(e.rowData.currentValue),e.pinnedTopRowData&&n.setPinnedTopRowData(e.pinnedTopRowData.currentValue),e.pinnedBottomRowData&&n.setPinnedBottomRowData(e.pinnedBottomRowData.currentValue),e.autoGroupColumnDef&&n.setAutoGroupColumnDef(e.autoGroupColumnDef.currentValue,"gridOptionsChanged"),e.columnDefs&&n.setColumnDefs(e.columnDefs.currentValue,"gridOptionsChanged"),e.datasource&&n.setDatasource(e.datasource.currentValue),e.headerHeight&&n.setHeaderHeight(t.toNumber(e.headerHeight.currentValue)),e.paginationPageSize&&n.paginationSetPageSize(t.toNumber(e.paginationPageSize.currentValue)),e.pivotMode&&o.setPivotMode(t.toBoolean(e.pivotMode.currentValue)),e.groupRemoveSingleChildren&&n.setGroupRemoveSingleChildren(t.toBoolean(e.groupRemoveSingleChildren.currentValue)),e.suppressRowDrag&&n.setSuppressRowDrag(t.toBoolean(e.suppressRowDrag.currentValue)),e.suppressMoveWhenRowDragging&&n.setSuppressMoveWhenRowDragging(t.toBoolean(e.suppressMoveWhenRowDragging.currentValue)),e.suppressRowClickSelection&&n.setSuppressRowClickSelection(t.toBoolean(e.suppressRowClickSelection.currentValue)),e.suppressClipboardPaste&&n.setSuppressClipboardPaste(t.toBoolean(e.suppressClipboardPaste.currentValue)),e.sideBar&&n.setSideBar(e.sideBar.currentValue);var s={type:jt.EVENT_COMPONENT_STATE_CHANGED,api:i.api,columnApi:i.columnApi};A(e,(function(t,e){s[t]=e})),n.dispatchEvent(s)}},t.toBoolean=function(t){return"boolean"===typeof t?t:"string"===typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"===typeof t?t:"string"===typeof t?Number(t):void 0},t.EVENTS=[],t.STRING_PROPERTIES=ve.STRING_PROPERTIES,t.OBJECT_PROPERTIES=ve.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=ve.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=ve.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=ve.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=ve.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=ve.ALL_PROPERTIES,t}();xe.EVENTS=p(jt);var be=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},we=function(){function t(){}return t.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],t.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],t.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],t.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],t.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],t.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],t.ALL_PROPERTIES=be(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),Ee=function(){function t(t,e,i,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,n||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var i=t.nameToHex[e];if(i)return t.fromHexString(i);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.fromHexString=function(e){var i=e.match(t.hexRe);if(i)return new t((n=parseInt(i[1],16))/255,(o=parseInt(i[2],16))/255,(r=parseInt(i[3],16))/255,(a=void 0!==i[4]?parseInt(i[4],16):255)/255);if(i=e.match(t.shortHexRe)){var n=parseInt(i[1],16),o=parseInt(i[2],16),r=parseInt(i[3],16),a=void 0!==i[4]?parseInt(i[4],16):15;return new t((n+=16*n)/255,(o+=16*o)/255,(r+=16*r)/255,(a+=16*a)/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.fromRgbaString=function(e){var i=e.match(t.rgbRe);if(i)return new t(+i[1]/255,+i[2]/255,+i[3]/255);if(i=e.match(t.rgbaRe))return new t(+i[1]/255,+i[2]/255,+i[3]/255,+i[4]);throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,i,n,o){void 0===o&&(o=1);var r=t.HSBtoRGB(e,i,n);return new t(r[0],r[1],r[2],o)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,i){var n=Math.min(t,e,i),o=Math.max(t,e,i),r=NaN;if(n!==o){var a=o-n,s=(o-t)/a,l=(o-e)/a,u=(o-i)/a;r=t===o?u-l:e===o?2+s-u:4+l-s,(r/=6)<0&&(r+=1)}return[360*r,0!==o?(o-n)/o:0,o]},t.HSBtoRGB=function(t,e,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var n=0,o=0,r=0;if(0===e)n=o=r=i;else{var a=6*(t-Math.floor(t)),s=a-Math.floor(a),l=i*(1-e),u=i*(1-e*s),h=i*(1-e*(1-s));switch(a>>0){case 0:n=i,o=h,r=l;break;case 1:n=u,o=i,r=l;break;case 2:n=l,o=i,r=h;break;case 3:n=l,o=u,r=i;break;case 4:n=h,o=l,r=i;break;case 5:n=i,o=l,r=u}}return[n,o,r]},t.prototype.derive=function(e,i,n,o){var r=t.RGBtoHSB(this.r,this.g,this.b),a=r[2];0==a&&n>1&&(a=.05);var s=((r[0]+e)%360+360)%360,l=Math.max(Math.min(r[1]*i,1),0);a=Math.max(Math.min(a*n,1),0);var u=Math.max(Math.min(this.a*o,1),0),h=t.HSBtoRGB(s,l,a);return h.push(u),t.fromArray(h)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,t.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,t.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,t.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function Pe(t,e){void 0===e&&(e=",");for(var i,n,o,r=[],a=function(t){return"\r"===t||"\n"===t},s=!1,l=function(l,u,h){var p=t[h-1],c=t[h],d=t[h+1],f=function(){r[l]||(r[l]=[]),r[l][u]||(r[l][u]="")};if(f(),'"'===c){if(s)return'"'===d?(r[l][u]+='"',h++):s=!1,i=l,n=u,o=h,"continue";if(void 0===p||p===e||a(p))return s=!0,i=l,n=u,o=h,"continue"}if(!s){if(c===e)return u++,f(),i=l,n=u,o=h,"continue";if(a(c))return u=0,l++,f(),"\r"===c&&"\n"===d&&h++,i=l,n=u,o=h,"continue"}r[l][u]+=c,i=l,n=u,o=h},u=0,h=0,p=0;p<t.length;p++)l(u,h,p),u=i,h=n,p=o;return r}var Se,Te,_e,Me,Re,Oe,Ae=Object.freeze({__proto__:null,stringToArray:Pe});function De(){return void 0===Te&&(Te=!!document.documentMode),Te}function ke(){return void 0===_e&&(_e=!De()&&!!window.StyleMedia),_e}function Fe(){if(void 0===Se){var t=window;Se=Object.prototype.toString.call(t.HTMLElement).indexOf("Constructor")>0||(e=t.safari&&t.safari.pushNotification)&&"[object SafariRemoteNotification]"===e.toString()}var e;return Se}function Ie(){if(void 0===Me){var t=window;Me=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Me}function Le(){if(void 0===Re){var t=window;Re="undefined"!==typeof t.InstallTrigger}return Re}function Ne(){return void 0===Oe&&(Oe=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Oe}function Ve(t){if(!t)return null;var e=t.tabIndex,i=t.getAttribute("tabIndex");if(De()&&0===e&&null===i){return!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[t.nodeName.toLowerCase()]?"0":null}return-1!==e||null!==i&&(""!==i||Le())?e.toString():null}function Be(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){var n=2*t;if(i.style.height=n+"px",n>e||i.clientHeight!==n)break;t=n}return document.body.removeChild(i),t}function We(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var i=e.offsetWidth-e.clientWidth;return 0===i&&0===e.clientWidth?null:(e.parentNode&&e.parentNode.removeChild(e),i)}function Ge(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function He(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var ze,je=Object.freeze({__proto__:null,isBrowserIE:De,isBrowserEdge:ke,isBrowserSafari:Fe,isBrowserChrome:Ie,isBrowserFirefox:Le,isIOSUserAgent:Ne,getTabIndex:Ve,getMaxDivHeight:Be,getScrollbarWidth:We,hasOverflowScrolling:function(){var t=["webkit","moz","o","ms"],e=document.createElement("div"),i=!1;document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("style",t.map((function(t){return"-"+t+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var n=window.getComputedStyle(e);if("touch"===n.overflowScrolling&&(i=!0),!i)for(var o=0,r=t;o<r.length;o++)if("touch"===n[r[o]+"OverflowScrolling"]){i=!0;break}return e.parentNode&&e.parentNode.removeChild(e),i},getBodyWidth:Ge,getBodyHeight:He});function Ue(t,e){if(t&&e&&0!==e.length){if(!(e.indexOf(" ")>=0)){if(t.classList)t.classList.add(e);else if(t.className&&t.className.length>0){var i=t.className.split(" ");i.indexOf(e)<0&&(i.push(e),t.setAttribute("class",i.join(" ")))}else t.setAttribute("class",e);return t}e.split(" ").forEach((function(e){return Ue(t,e)}))}}function Ye(t,e){if(t&&e&&0!==e.length)if(e.indexOf(" ")>=0)e.split(" ").forEach((function(e){return Ye(t,e)}));else if(t.classList)t.classList.remove(e);else if(t.className&&t.className.length>0){var i=t.className.split(" ").filter((function(t){return t!==e})).join(" ");t.setAttribute("class",i)}}function Xe(t,e,i){i?Ue(t,e):Ye(t,e)}function qe(t,e){if(t.classList)return t.classList.contains(e);if(t.className){var i=t.className===e,n=t.className.indexOf(" "+e+" ")>=0,o=0===t.className.indexOf(e+" "),r=t.className.lastIndexOf(" "+e)===t.className.length-e.length-1;return i||n||o||r}return!1}function Ke(t,e){Xe(t,"ag-hidden",!e)}function Qe(t,e){Xe(t,"ag-invisible",!e)}function $e(t,e){var i="disabled",n=e?function(t){return t.setAttribute(i,"")}:function(t){return t.removeAttribute(i)};n(t),Oi(t.querySelectorAll("input"),(function(t){return n(t)}))}function Je(t,e,i){for(var n=0;t;){if(qe(t,e))return!0;if(t=t.parentElement,i&&++n>i)break}return!1}function Ze(t){var e=window.getComputedStyle(t),i=e.height,n=e.width,o=e.paddingTop,r=e.paddingRight,a=e.paddingBottom,s=e.paddingLeft,l=e.marginTop,u=e.marginRight,h=e.marginBottom,p=e.marginLeft,c=e.boxSizing;return{height:parseFloat(i),width:parseFloat(n),paddingTop:parseFloat(o),paddingRight:parseFloat(r),paddingBottom:parseFloat(a),paddingLeft:parseFloat(s),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(h),marginLeft:parseFloat(p),boxSizing:c}}function ti(t){var e=Ze(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function ei(t){var e=Ze(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function ii(t){var e=Ze(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function ni(t){var e=Ze(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function oi(){if("boolean"===typeof ze)return ze;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,ze=0===t.scrollLeft,document.body.removeChild(t),ze}function ri(t,e){var i=t.scrollLeft;return e&&(i=Math.abs(i),Ie()&&!oi()&&(i=t.scrollWidth-t.clientWidth-i)),i}function ai(t,e,i){i&&(oi()?e*=-1:(Fe()||Ie())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function si(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function li(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ui(t){return null!==t.offsetParent}function hi(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function pi(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e}function ci(t){return t&&t.clientHeight?t.clientHeight:0}function di(t){return t&&t.clientWidth?t.clientWidth:0}function fi(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function gi(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=t.children[i];o!==n&&t.insertBefore(n,o)}}function mi(t,e,i){var n;return i?(i.insertAdjacentHTML("afterend",e),n=i.nextSibling):(t.firstChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e,n=t.firstChild),n}function yi(t,e){e&&Object.keys(e).forEach((function(i){var n=Kt(i);n&&(t.style[n]=e[i])}))}function vi(t){return t.clientWidth<t.scrollWidth}function Ci(t){return t.clientHeight<t.scrollHeight}function xi(t,e){"flex"===e?(t.style.width=null,t.style.minWidth=null,t.style.maxWidth=null,t.style.flex="1 1 auto"):bi(t,e)}function bi(t,e){e=Ei(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function wi(t,e){e=Ei(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function Ei(t){return"number"===typeof t?t+"px":t}function Pi(t){return"function"===typeof Node?t instanceof Node:t&&"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName}function Si(t){return"function"===typeof HTMLElement?t instanceof HTMLElement:t&&H(t)&&1===t.nodeType&&"string"===typeof t.nodeName}function Ti(t){return Pi(t)||Si(t)}function _i(t){if(null==t)return[];var e=[];return Oi(t,(function(t){return e.push(t)})),e}function Mi(t,e){if(t)for(var i=0;i<t.length;i++){var n=t[i];e(n.name,n.value)}}function Ri(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i.toString())}function Oi(t,e){if(null!=t)for(var i=0;i<t.length;i++)e(t[i])}var Ai=Object.freeze({__proto__:null,addCssClass:Ue,removeCssClass:Ye,addOrRemoveCssClass:Xe,radioCssClass:function(t,e,i){for(var n=t.parentElement.firstChild;n;)e&&Xe(n,e,n===t),i&&Xe(n,i,n!==t),n=n.nextSibling},containsClass:qe,setDisplayed:Ke,setVisible:Qe,setDisabled:$e,isElementChildOfClass:Je,getElementSize:Ze,getInnerHeight:ti,getInnerWidth:ei,getAbsoluteHeight:ii,getAbsoluteWidth:ni,isRtlNegativeScroll:oi,getScrollLeft:ri,setScrollLeft:ai,clearElement:si,removeElement:function(t,e){li(t.querySelector(e))},removeFromParent:li,isVisible:ui,loadTemplate:hi,appendHtml:pi,getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:ci,offsetWidth:di,ensureDomOrder:fi,setDomChildOrder:gi,insertTemplateWithDomOrder:mi,prependDC:function(t,e){n(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:yi,isHorizontalScrollShowing:vi,isVerticalScrollShowing:Ci,setElementWidth:xi,setFixedWidth:bi,setElementHeight:function(t,e){"flex"===e?(t.style.height=null,t.style.minHeight=null,t.style.maxHeight=null,t.style.flex="1 1 auto"):wi(t,e)},setFixedHeight:wi,formatSize:Ei,isNode:Pi,isElement:Si,isNodeOrElement:Ti,copyNodeList:_i,iterateNamedNodeMap:Mi,setCheckboxState:function(t,e){"boolean"===typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0},addOrRemoveAttribute:Ri,nodeListForEach:Oi});function Di(t){if(!t)return"";var e=[];return A(t,(function(t,i){var n=qt(t);e.push(n+": "+i+";")})),e.join(" ")}function ki(t,e){t.then((function(t){var i=t.getGui();null!=i&&("object"===typeof i?e.appendChild(i):e.innerHTML=i)}))}var Fi=Object.freeze({__proto__:null,getNameOfClass:function(t){var e=t.toString(),i=/function (.{1,})\(/.exec(e);return i&&i.length>1?i[1]:""},findLineByLeastSquares:function(t){var e=t.length,i=0;if(e<=1)return t;for(var n=0;n<t.length;n++){var o=t[n];Math.floor(o)!==o&&(i=Math.max(i,o.toString().split(".")[1].length))}for(var r=0,a=0,s=0,l=0,u=0,h=0;h<e;h++)r+=h,a+=u=t[h],l+=h*h,s+=h*u;var p=(e*s-r*a)/(e*l-r*r),c=a/e-p*r/e,d=[];for(h=0;h<=e;h++)d.push(parseFloat((h*p+c).toFixed(i)));return d},cssStyleObjectToMarkup:Di,message:function(t){var e=document.createElement("div"),i=document.querySelector("#__ag__message");if(e.innerHTML=t,!i){i=hi('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(i)}i.insertBefore(e,i.children[0])},bindCellRendererToHtmlElement:ki});function Ii(t,e,i){t.setAttribute(Ni(e),i.toString())}function Li(t,e){t.removeAttribute(Ni(e))}function Ni(t){return"aria-"+t}function Vi(t){return t.isSortAscending()?"ascending":t.isSortDescending()?"descending":"none"}function Bi(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Wi(t,e){Ii(t,"label",e)}function Gi(t,e){Ii(t,"labelledby",e)}function Hi(t,e){Ii(t,"describedby",e)}function zi(t,e){Ii(t,"disabled",e)}function ji(t,e){Ii(t,"expanded",e)}function Ui(t){Li(t,"expanded")}function Yi(t,e){Ii(t,"setsize",e)}function Xi(t,e){Ii(t,"posinset",e)}function qi(t,e){Ii(t,"multiselectable",e)}function Ki(t,e){Ii(t,"rowcount",e)}function Qi(t,e){Ii(t,"rowindex",e)}function $i(t,e){Ii(t,"colcount",e)}function Ji(t,e){Ii(t,"colindex",e)}function Zi(t,e){Ii(t,"colspan",e)}function tn(t,e){Ii(t,"sort",e)}function en(t){Li(t,"sort")}function nn(t,e){var i="selected";e?Ii(t,i,e):Li(t,i)}function on(t,e){Ii(t,"checked",void 0===e?"mixed":e)}var rn=Object.freeze({__proto__:null,getAriaSortState:Vi,getAriaLevel:function(t){return parseInt(t.getAttribute("aria-level"),10)},getAriaPosInSet:Bi,setAriaLabel:Wi,setAriaLabelledBy:Gi,setAriaDescribedBy:Hi,setAriaLevel:function(t,e){Ii(t,"level",e)},setAriaDisabled:zi,setAriaExpanded:ji,removeAriaExpanded:Ui,setAriaSetSize:Yi,setAriaPosInSet:Xi,setAriaMultiSelectable:qi,setAriaRowCount:Ki,setAriaRowIndex:Qi,setAriaColCount:$i,setAriaColIndex:Ji,setAriaColSpan:Zi,setAriaSort:tn,removeAriaSort:en,setAriaSelected:nn,setAriaChecked:on});function an(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i="-"),!t)return null;var n=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return oe(t,2)})).join(i);return e&&(n+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return oe(t,2)})).join(":")),n}function sn(t){if(!t)return null;var e=t.split(" "),i=e[0],n=e[1];if(!i)return null;var o=i.split("-").map((function(t){return parseInt(t,10)}));if(3!==o.filter((function(t){return!isNaN(t)})).length)return null;var r=o[0],a=o[1],s=o[2],l=new Date(r,a-1,s);if(l.getFullYear()!==r||l.getMonth()!==a-1||l.getDate()!==s)return null;if(!n||"00:00:00"===n)return l;var u=n.split(":").map((function(t){return parseInt(t,10)})),h=u[0],p=u[1],c=u[2];return h>=0&&h<24&&l.setHours(h),p>=0&&p<60&&l.setMinutes(p),c>=0&&c<60&&l.setSeconds(c),l}var ln=Object.freeze({__proto__:null,serialiseDate:an,parseDateTimeFromString:sn});function un(t,e,i){var n={},o=t.filter((function(t){return!e.some((function(e){return e===t}))}));return o.length>0&&o.forEach((function(t){return n[t]=hn(t,i)})),n}function hn(t,e,i,n){var o=n?dn:cn,r=e.map((function(e){return{value:e,relevance:o(t.toLowerCase(),e.toLocaleLowerCase())}}));return r.sort((function(t,e){return e.relevance-t.relevance})),i&&(r=r.filter((function(t){return 0!==t.relevance}))),r.map((function(t){return t.value}))}function pn(t){var e,i,n,o=t.toLowerCase(),r=new Array(o.length-1);for(e=i=0,n=r.length;i<=n;e=i+=1)r[e]=o.slice(e,e+2);return r}function cn(t,e){if(0===t.length&&0===e.length)return 0;var i,n,o=pn(t),r=pn(e),a=o.length+r.length,s=0;for(i=0,n=o.length;i<n;i++){var l,u=o[i],h=void 0;for(h=0,l=r.length;h<l;h++){u===r[h]&&s++}}return s>0?2*s/a:0}function dn(t,e){for(var i=t.replace(/\s/g,""),n=e.replace(/\s/g,""),o=0,r=0,a=0;a<i.length;a++){var s=n.indexOf(i[a]);-1!==s&&(r=s,o+=100*(n.length-r)/n.length,o*=o)}return o}var fn=Object.freeze({__proto__:null,fuzzyCheckStrings:un,fuzzySuggestions:hn,get_bigrams:pn,string_distances:cn,string_weighted_distances:dn}),gn={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function mn(t,e,i){var n=yn(t,e,i);if(n.className.indexOf("ag-icon")>-1)return n;var o=document.createElement("span");return o.appendChild(n),o}function yn(t,e,i,n){var o=null,r=i&&i.getColDef().icons;if(r&&(o=r[t]),e&&!o){var a=e.getIcons();a&&(o=a[t])}if(!o){var s=document.createElement("span"),l=gn[t];return l||(n?l=t:(console.warn("ag-Grid: Did not find icon "+t),l="")),s.setAttribute("class","ag-icon ag-icon-"+l),s.setAttribute("unselectable","on"),s.setAttribute("role","presentation"),s}var u=void 0;if("function"===typeof o)u=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");u=o}return"string"===typeof u?hi(u):Ti(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}var vn=Object.freeze({__proto__:null,iconNameClassMap:gn,createIcon:mn,createIconNoSpan:yn});function Cn(t,e){return(t.which||t.keyCode)===e}function xn(t){if(t.altKey||t.ctrlKey||t.metaKey)return!1;var e=1===t.key.length,i=function(t){return(ke()||De())&&"Del"===t.key&&46===t.charCode}(t);return e||i}function bn(t,e,i,n,o){var r=t.getSuppressKeyboardEventFunc(),a=n.getColDef().suppressKeyboardEvent;if(!r&&!a)return!1;var s={event:e,editing:o,column:n,api:t.getApi(),node:i,data:i.data,colDef:n.getColDef(),context:t.getContext(),columnApi:t.getColumnApi()};if(a&&a(s))return!0;return!!r&&r(s)}function wn(t,e,i,o){var r=o.getDefinition(),a=r.suppressHeaderKeyboardEvent;return!!n(a)&&!!a({api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext(),colDef:r,column:o,headerRowIndex:i,event:e})}var En=Object.freeze({__proto__:null,isKeyPressed:Cn,isEventFromPrintableCharacter:xn,isUserSuppressingKeyboardEvent:bn,isUserSuppressingHeaderKeyboardEvent:wn});var Pn=Object.freeze({__proto__:null,keys:function(t){var e=[];return t.forEach((function(t,i){return e.push(i)})),e}});function Sn(t,e,i){if(0===i)return!1;var n=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY);return Math.max(n,o)<=i}var Tn=Object.freeze({__proto__:null,normalizeWheel:function(t){var e=0,i=0,n=0,o=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=10*e,o=10*i,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||o)&&t.deltaMode&&(1==t.deltaMode?(n*=40,o*=40):(n*=800,o*=800)),n&&!e&&(e=n<1?-1:1),o&&!i&&(i=o<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:o}},isLeftClick:function(t){return"buttons"in t?1==t.buttons:1==(t.which||t.button)},areEventsNear:Sn});var _n=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(t){for(var i=function(t,i){var n=e[t.id],o=e[i.id],r=void 0!==n,a=void 0!==o;return r&&a?n-o:!r&&!a?t.__objectId-i.__objectId:r?1:-1},n=!1,o=0;o<t.length-1;o++)if(i(t[o],t[o+1])>0){n=!0;break}n&&t.sort(i)}},traverseNodesWithKey:function(t,e){var i=[];!function t(n){n.forEach((function(n){if(n.group||n.hasChildren()){i.push(n.key);var o=i.join("|");e(n,o),t(n.childrenAfterGroup),i.pop()}}))}(t)}});function Mn(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var Rn,On=Object.freeze({__proto__:null,convertToSet:Mn}),An=function(){return(An=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dn=An(An(An(An(An(An(An(An(An(An(An(An(An(An(An(An(An(An(An(An({},Fi),rn),O),je),Ae),ln),Ai),Nt),et),fn),c),vn),En),Pn),Tn),he),z),_n),On),Zt),kn=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();(Rn=e.PromiseStatus||(e.PromiseStatus={}))[Rn.IN_PROGRESS=0]="IN_PROGRESS",Rn[Rn.RESOLVED=1]="RESOLVED";var Fn=function(){function t(t){var i=this;this.status=e.PromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return i.onDone(t)}),(function(t){return i.onReject(t)}))}return t.all=function(e){return new t((function(t){var i=e.length,n=new Array(i);_(e,(function(e,o){e.then((function(e){n[o]=e,0===--i&&t(n)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(i){var n=this;return new t((function(t){n.status===e.PromiseStatus.RESOLVED?t(i(n.resolution)):n.waiters.push((function(e){return t(i(e))}))}))},t.prototype.resolveNow=function(t,i){return this.status===e.PromiseStatus.RESOLVED?i(this.resolution):t},t.prototype.onDone=function(t){this.status=e.PromiseStatus.RESOLVED,this.resolution=t,_(this.waiters,(function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),In=function(){function t(){this.timestamp=(new Date).getTime()}return t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()},t}(),Ln=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nn=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Vn=new kn,Bn=function(t){function e(e){var i=t.call(this)||this;return i.annotatedGuiListeners=[],i.displayed=!0,i.visible=!0,i.compId=Vn.next(),i.cssClassStates={},e&&i.setTemplate(e),i}return Ln(e,t),e.prototype.getCompId=function(){return this.compId},e.prototype.createChildComponentsFromTags=function(t,e){var i=this;_(_i(t.childNodes),(function(n){if(n instanceof HTMLElement){var o=i.createComponentFromElement(n,(function(t){i.copyAttributesFromNode(n,t.getGui())}),e);if(o){if(o.addItems&&n.children.length){i.createChildComponentsFromTags(n,e);var r=Array.prototype.slice.call(n.children);o.addItems(r)}i.swapComponentForNode(o,t,n)}else n.childNodes&&i.createChildComponentsFromTags(n,e)}}))},e.prototype.createComponentFromElement=function(t,e,i){var n=t.nodeName,o=i?i[t.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(n);if(r){var a=new r(o);return this.createBean(a,null,e),a}return null},e.prototype.copyAttributesFromNode=function(t,e){Mi(t.attributes,(function(t,i){return e.setAttribute(t,i)}))},e.prototype.swapComponentForNode=function(t,e,i){var n=t.getGui();e.replaceChild(n,i),e.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var i=this;this.iterateOverQuerySelectors((function(n){i[n.attributeName]===e&&(i[n.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var i=e.__agComponentMetaData,n=q(e.constructor);i&&i[n]&&i[n].querySelectors&&_(i[n].querySelectors,(function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var i=hi(t);this.setTemplateFromElement(i,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(i){var n=t.eGui.querySelector(i.querySelector);n&&(e[i.attributeName]=n.__agComponent||n)}))}},e.prototype.addAnnotatedGuiEventListeners=function(){var t=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var e=this.getAgComponentMetaData("guiListenerMethods");e&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),e.forEach((function(e){var i=t.getRefElement(e.ref);if(i){var n=t[e.methodName].bind(t);i.addEventListener(e.eventName,n),t.annotatedGuiListeners.push({eventName:e.eventName,listener:n,element:i})}})))}},e.prototype.addAnnotatedGridEventListeners=function(){var t=this,e=this.getAgComponentMetaData("gridListenerMethods");e&&e.forEach((function(e){var i=t[e.methodName].bind(t);t.addManagedListener(t.eventService,e.eventName,i)}))},e.prototype.getAgComponentMetaData=function(t){for(var e=[],i=Object.getPrototypeOf(this);null!=i;){var n=i.__agComponentMetaData,o=q(i.constructor);n&&n[o]&&n[o][t]&&(e=e.concat(n[o][t])),i=Object.getPrototypeOf(i)}return e},e.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(_(this.annotatedGuiListeners,(function(t){t.element.removeEventListener(t.eventName,t.listener)})),this.annotatedGuiListeners=[])},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(e||(e=this.eGui),null!=t)if(Ti(t))e.appendChild(t);else{var i=t;e.appendChild(i.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,i))}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Qe(this.eGui,t))},e.prototype.setDisplayed=function(t){if(t!==this.displayed){this.displayed=t,Ke(this.eGui,t);var i={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}},e.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e){var i=this;this.eGui.addEventListener(t,e),this.addDestroyFunc((function(){return i.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){!0!==this.cssClassStates[t]&&(Ue(this.eGui,t),this.cssClassStates[t]=!0)},e.prototype.removeCssClass=function(t){!1!==this.cssClassStates[t]&&(Ye(this.eGui,t),this.cssClassStates[t]=!1)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassStates[t]!==e&&(Xe(this.eGui,t,e),this.cssClassStates[t]=e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",Nn([st("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Nn([nt],e.prototype,"createChildComponentsPreConstruct",null),Nn([ot],e.prototype,"addAnnotatedGridEventListeners",null),e}(Bt),Wn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wn(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){Ue(e.getGui(),"ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&Ye(e.getGui(),"ag-has-popup"),t.prototype.destroy.call(this)},e}(Bn);function Hn(t){return zn.bind(this,"[ref="+t+"]")}function zn(t,e,i,n){null!==t?"number"!==typeof n?Yn(e,"querySelectors",{attributeName:i,querySelector:t}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function jn(t,e,i){null!=t?Yn(e,"gridListenerMethods",{methodName:i,eventName:t}):console.error("ag-Grid: GridListener eventName is missing")}function Un(t,e,i,n){null!=e?Yn(i,"guiListenerMethods",{methodName:n,eventName:e,ref:t}):console.error("ag-Grid: GuiListener eventName is missing")}function Yn(t,e,i){var n=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,q(t.constructor));n[e]||(n[e]=[]),n[e].push(i)}var Xn,qn=function(){function t(){}return t.BACKSPACE=8,t.TAB=9,t.ENTER=13,t.SHIFT=16,t.ESCAPE=27,t.SPACE=32,t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.DELETE=46,t.A=65,t.C=67,t.V=86,t.D=68,t.Z=90,t.Y=89,t.F2=113,t.PAGE_UP=33,t.PAGE_DOWN=34,t.PAGE_HOME=36,t.PAGE_END=35,t}(),Kn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qn=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},$n=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Kn(e,t),e.prototype.init=function(t){this.params=t;var e,i=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.keyPress===qn.BACKSPACE||t.keyPress===qn.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.keyPress!==qn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),n(e)&&i.setValue(e,!0),this.addManagedListener(i.getGui(),"keydown",(function(t){var e=t.keyCode;e!==qn.PAGE_UP&&e!==qn.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.eInput;if(t.setInputAriaLabel("Input Editor"),this.focusAfterAttached){Fe()||t.getFocusableElement().focus();var e=t.getInputElement();if(this.highlightAllOnFocus)e.select();else{var i=t.getValue(),o=n(i)&&i.length||0;o&&e.setSelectionRange(o,o)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()},e.prototype.focusOut=function(){var t=this.eInput.getInputElement();De()&&t.setSelectionRange(0,0)},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',Qn([Hn("eInput")],e.prototype,"eInput",void 0),e}(Gn),Jn=function(){function t(t,e,i,n){var o=this;this.alive=!0,this.context=t,e.newDateComponent(i).then((function(e){o.alive?(o.dateComp=e,n.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),o.tempValue&&e.setDate(o.tempValue)):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t}(),Zn=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!==typeof e){S(["displayKey","displayName","test"],(function(t){return!!e[t]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+t+"'"),!1)}))&&(t.customFilterOptions[e.displayKey]=e)}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),to={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},eo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),io=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},no=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this,e)||this;return n.isFocusableContainer=i,n.skipTabGuardFocus=!1,n}return eo(e,t),e.prototype.postConstruct=function(){var t=this,i=this.getFocusableElement();i&&(Ue(i,e.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))),this.addKeyDownListeners(i),this.addManagedListener(i,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(i,"focusout",this.onFocusOut.bind(this)))},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus()},e.prototype.onTabKeyDown=function(t){var e=this;if(!t.defaultPrevented){var i=this.tabGuardsAreActive();this.isFocusableContainer&&i&&this.deactivateTabGuards();var n=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,t.shiftKey);this.isFocusableContainer&&i&&setTimeout((function(){return e.activateTabGuards()}),0),n&&(n.focus(),t.preventDefault())}},e.prototype.onFocusIn=function(t){this.isFocusableContainer&&this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.isFocusableContainer&&!this.getFocusableElement().contains(t.relatedTarget)&&this.activateTabGuards()},e.prototype.forceFocusOutOfContainer=function(t){if(void 0===t&&(t=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var e=t?this.topTabGuard:this.bottomTabGuard;e&&e.focus()}},e.prototype.appendChild=function(e,i){if(this.isFocusableContainer){Ti(e)||(e=e.getGui());var n=this.bottomTabGuard;n?n.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,i)}else t.prototype.appendChild.call(this,e,i)},e.prototype.createTabGuard=function(t){var e=document.createElement("div");return e.classList.add("ag-tab-guard"),e.classList.add("ag-tab-guard-"+t),e.setAttribute("role","presentation"),e},e.prototype.addTabGuards=function(){var t=this.getFocusableElement();t.insertAdjacentElement("afterbegin",this.topTabGuard),t.insertAdjacentElement("beforeend",this.bottomTabGuard)},e.prototype.forEachTabGuard=function(t){this.topTabGuard&&t(this.topTabGuard),this.bottomTabGuard&&t(this.bottomTabGuard)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||(t.keyCode===qn.TAB?e.onTabKeyDown(t):e.handleKeyDown&&e.handleKeyDown(t))}))},e.prototype.onFocus=function(t){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(t.target===this.bottomTabGuard)},e.prototype.activateTabGuards=function(){this.forEachTabGuard((function(t){return t.setAttribute("tabIndex","0")}))},e.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(t){return t.removeAttribute("tabIndex")}))},e.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},e.prototype.clearGui=function(){var t=this.tabGuardsAreActive();si(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),t&&this.activateTabGuards())},e.FOCUS_MANAGED_CLASS="ag-focus-managed",io([st("focusController")],e.prototype,"focusController",void 0),io([ot],e.prototype,"postConstruct",null),e}(Bn),oo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ro=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ao=function(t){function e(e){var i=t.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.appliedModel=null,i}return oo(e,t),e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.postConstruct=function(){this.resetTemplate(),t.prototype.postConstruct.call(this)},e.prototype.resetTemplate=function(t){var e='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e,t)},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){if(e.checkForDeprecatedParams(t),this.providedFilterParams=t,"keep"===t.newRowsAction)this.newRowsActionKeep=!0;else if("clear"===t.newRowsAction)this.newRowsActionKeep=!1;else{var i=[mt.ROW_MODEL_TYPE_SERVER_SIDE,mt.ROW_MODEL_TYPE_INFINITE];this.newRowsActionKeep=i.indexOf(this.rowModel.getType())>=0}this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(e&&!(e.length<1)){var i=document.createElement("div");Ue(i,"ag-filter-apply-panel");Mn(e).forEach((function(e){return function(e){var n,o;switch(e){case"apply":n=t.translate("applyFilter"),o=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":n=t.translate("clearFilter"),o=function(){return t.onBtClear()};break;case"reset":n=t.translate("resetFilter"),o=function(){return t.onBtReset()};break;case"cancel":n=t.translate("cancelFilter"),o=function(e){t.onBtCancel(e)};break;default:return void console.warn("Unknown button type specified")}var r=hi('<button\n                    type="button"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+n+"</button>");i.appendChild(r),t.addManagedListener(r,"click",o)}(e)})),this.getGui().appendChild(i)}},e.checkForDeprecatedParams=function(t){var e=t.buttons||[];if(!(e.length>0)){var i=t.applyButton,n=t.resetButton;t.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),e.push("clear")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),e.push("reset")),i&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.buttons=e}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Z(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel},e.prototype.setModel=function(t){var e=this;return(t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel()}))},e.prototype.onBtCancel=function(t){var e=this;this.setModelIntoUi(this.getModel()).then((function(){e.onUiChanged(!1,"prevent"),e.providedFilterParams.closeOnApply&&e.close(t)}))},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var e=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(e,t)},e.prototype.isModelValid=function(t){return!0},e.prototype.onBtApply=function(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(i)},e.prototype.onNewRowsLoaded=function(){var t=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return t.appliedModel=null}))},e.prototype.close=function(t){if(this.hidePopup){var e,i=t,n=i&&i.key;"Enter"!==n&&"Space"!==n||(e={keyboardEvent:i}),this.hidePopup(e),this.hidePopup=null}},e.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var i=this.isModelValid(this.getModelFromUi());$e(this.getRefElement("applyFilterButton"),!i)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},e.getDebounceMs=function(t,i){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:i},e.isUseApplyButton=function(t){return e.checkForDeprecatedParams(t),t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){this.hidePopup=null,t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,to[t])},ro([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ro([st("rowModel")],e.prototype,"rowModel",void 0),ro([ot],e.prototype,"postConstruct",null),e}(no),so=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lo=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.One=0]="One",t[t.Two=1]="Two"}(Xn||(Xn={}));var uo,ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return so(e,t),e.prototype.showValueFrom=function(t){return!this.doesFilterHaveHiddenInput(t)&&t!==e.EMPTY},e.prototype.showValueTo=function(t){return t===e.IN_RANGE},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Xn.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Xn.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Xn.One),condition2:this.createCondition(Xn.Two)}:this.createCondition(Xn.One):null},e.prototype.getCondition1Type=function(){return this.eType1.getValue()},e.prototype.getCondition2Type=function(){return this.eType2.getValue()},e.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var i,n=!t.operator,o=!e.operator;if(!n&&o||n&&!o)return!1;if(n){var r=t,a=e;i=this.areSimpleModelsEqual(r,a)}else{var s=t,l=e;i=s.operator===l.operator&&this.areSimpleModelsEqual(s.condition1,l.condition1)&&this.areSimpleModelsEqual(s.condition2,l.condition2)}return i},e.prototype.setModelIntoUi=function(t){if(t.operator){var e=t,i="OR"===e.operator;this.eJoinOperatorAnd.setValue(!i),this.eJoinOperatorOr.setValue(i),this.eType1.setValue(e.condition1.type),this.eType2.setValue(e.condition2.type),this.setConditionIntoUi(e.condition1,Xn.One),this.setConditionIntoUi(e.condition2,Xn.Two)}else{var n=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,Xn.One),this.setConditionIntoUi(null,Xn.Two)}return Fn.resolve()},e.prototype.doesFilterPass=function(t){var e=this,i=this.getModel();if(null==i)return!0;var n=i.operator,o=[];if(n){var r=i;o.push(r.condition1,r.condition2)}else o.push(i);return(n&&"OR"===n?T:S)(o,(function(i){return e.individualConditionPasses(t,i)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.optionsFactory=new Zn,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(t){return w(["AND","OR"],t)?t:"AND"},e.prototype.putOptionsIntoDropdown=function(){var t=this,e=this.optionsFactory.getFilterOptions();_(e,(function(e){var i,n;if("string"===typeof e)i=e,n=t.translate(i);else{i=e.displayKey;var o=t.optionsFactory.getCustomOption(i);n=o?o.displayName:t.translate(i)}var r=function(){return{value:i,text:n}};t.eType1.addOption(r()),t.eType2.addOption(r())}));var i=e.length<=1;this.eType1.setDisabled(i),this.eType2.setDisabled(i)},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Xn.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Xn.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!t),this.eJoinOperatorOr.setDisabled(!t),this.eType2.setDisabled(!t),$e(this.eCondition2Body,!t)):(Ke(this.eJoinOperatorPanel,t),Ke(this.eType2.getGui(),t),Ke(this.eCondition2Body,t))},e.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(Xn.One)},e.prototype.resetUiToDefaults=function(t){var e="ag-simple-filter-and-or-"+this.getCompId(),i=this.optionsFactory.getDefaultOption();return this.eType1.setValue(i,t).setAriaLabel("Filtering operator"),this.eType2.setValue(i,t).setAriaLabel("Filtering operator"),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(e).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(e).setLabel(this.translate("orCondition")),Fn.resolve()},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eType1.onValueChange(e),this.eType2.onValueChange(e),this.eJoinOperatorOr.onValueChange(e),this.eJoinOperatorAnd.onValueChange(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.EMPTY="empty",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",lo([Hn("eOptions1")],e.prototype,"eType1",void 0),lo([Hn("eOptions2")],e.prototype,"eType2",void 0),lo([Hn("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),lo([Hn("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),lo([Hn("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),lo([Hn("eCondition1Body")],e.prototype,"eCondition1Body",void 0),lo([Hn("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(ao),po=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return po(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e,this.checkDeprecatedParams()},e.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},e.prototype.individualConditionPasses=function(t,i){var n=this.scalarFilterParams.valueGetter(t.node),o=this.mapRangeFromModel(i),r=o.from,a=o.to,s=i.type,l=this.optionsFactory.getCustomOption(s);if(l&&(null!=r||l.hideFilterInput))return l.test(r,n);if(null==n){switch(s){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var u=this.comparator(),h=u(r,n);switch(s){case e.EQUALS:return 0===h;case e.NOT_EQUAL:return 0!==h;case e.GREATER_THAN:return h>0;case e.GREATER_THAN_OR_EQUAL:return h>=0;case e.LESS_THAN:return h<0;case e.LESS_THAN_OR_EQUAL:return h<=0;case e.IN_RANGE:var p=u(a,n);return this.scalarFilterParams.inRangeInclusive?h>=0&&p<=0:h>0&&p<0;default:throw new Error("Unexpected type of filter: "+s)}},e}(ho),fo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),go=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},mo=function(t){function e(){return t.call(this,"dateFilter")||this}return fo(e,t),e.prototype.mapRangeFromModel=function(t){return{from:sn(t.dateFrom),to:sn(t.dateTo)}},e.prototype.setValueFromFloatingFilter=function(t){this.dateCondition1FromComp.setDate(null==t?null:sn(t)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},e.prototype.setConditionIntoUi=function(t,e){var i=t?[sn(t.dateFrom),sn(t.dateTo)]:[null,null],n=i[0],o=i[1],r=this.getFromToComponents(e),a=r[0],s=r[1];a.setDate(n),s.setDate(o)},e.prototype.resetUiToDefaults=function(e){var i=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){i.dateCondition1FromComp.setDate(null),i.dateCondition1ToComp.setDate(null),i.dateCondition2FromComp.setDate(null),i.dateCondition2ToComp.setDate(null)}))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.dateFilterParams=e,this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,e={onDateChanged:function(){return t.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new Jn(this.getContext(),this.userComponentFactory,e,this.eCondition1PanelFrom),this.dateCondition1ToComp=new Jn(this.getContext(),this.userComponentFactory,e,this.eCondition1PanelTo),this.dateCondition2FromComp=new Jn(this.getContext(),this.userComponentFactory,e,this.eCondition2PanelFrom),this.dateCondition2ToComp=new Jn(this.getContext(),this.userComponentFactory,e,this.eCondition2PanelTo),this.addDestroyFunc((function(){t.dateCondition1FromComp.destroy(),t.dateCondition1ToComp.destroy(),t.dateCondition2FromComp.destroy(),t.dateCondition2ToComp.destroy()}))},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Xn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+e+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+e+'PanelTo"></div>\n            </div>'},e.prototype.isConditionUiComplete=function(t){var e=t===Xn.One?this.getCondition1Type():this.getCondition2Type();if(e===ho.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(e))return!0;var i=this.getFromToComponents(t),n=i[0],o=i[1],r=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,a=function(t){return null!=t&&t.getUTCFullYear()>r};return a(n.getDate())&&(!this.showValueTo(e)||a(o.getDate()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=t===Xn.One?this.getCondition1Type():this.getCondition2Type(),i=this.getFromToComponents(t),n=i[0],o=i[1];return{dateFrom:an(n.getDate()),dateTo:an(o.getDate()),type:e,filterType:this.getFilterType()}},e.prototype.resetPlaceholder=function(){var t=this.translate("dateFormatOoo"),e="Filter value";this.dateCondition1FromComp.setInputPlaceholder(t),this.dateCondition1FromComp.setInputAriaLabel(e),this.dateCondition1ToComp.setInputPlaceholder(t),this.dateCondition1ToComp.setInputAriaLabel(e),this.dateCondition2FromComp.setInputPlaceholder(t),this.dateCondition2FromComp.setInputAriaLabel(e),this.dateCondition2ToComp.setInputPlaceholder(t),this.dateCondition2ToComp.setInputAriaLabel(e)},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type();Ke(this.eCondition1PanelFrom,this.showValueFrom(e)),Ke(this.eCondition1PanelTo,this.showValueTo(e));var i=this.getCondition2Type();Ke(this.eCondition2PanelFrom,this.showValueFrom(i)),Ke(this.eCondition2PanelTo,this.showValueTo(i))},e.prototype.getFromToComponents=function(t){return t===Xn.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},e.DEFAULT_FILTER_OPTIONS=[co.EQUALS,co.GREATER_THAN,co.LESS_THAN,co.NOT_EQUAL,co.IN_RANGE],go([Hn("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),go([Hn("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),go([Hn("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),go([Hn("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),go([st("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(co),yo=function(){function t(t,e){var i=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new gt,this.eElement=t,this.preventMouseClick=e;var n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((function(){i.eElement.removeEventListener("touchstart",n,{passive:!0}),i.eElement.removeEventListener("touchmove",o,{passive:!0}),i.eElement.removeEventListener("touchend",r,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var i=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout((function(){var o=i.touchStart===n;if(i.touching&&o&&!i.moved){i.moved=!0;var r={type:t.EVENT_LONG_TAP,touchStart:i.touchStart,touchEvent:e};i.eventService.dispatchEvent(r)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!Sn(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var i={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var i={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),vo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Co=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return vo(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)))},e.prototype.workOutTemplate=function(){var t=f(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Qt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,i){if(null!=e){var n=yn(t,this.gridOptionsWrapper,i);e.appendChild(n)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsWrapper;if(!e.isSuppressTouch()){var i=new yo(this.getGui(),!0),o=e.isSuppressMenuHide(),r=o&&n(this.eMenu),a=r?new yo(this.eMenu,!0):i;if(this.params.enableMenu){var s=r?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(a,yo[s],(function(i){e.getApi().showColumnMenuAfterMouseClick(t.params.column,i.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(i,yo.EVENT_TAP,(function(e){var i=e.touchStart.target;o&&t.eMenu.contains(i)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return i.destroy()})),r&&this.addDestroyFunc((function(){return a.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),e=Ne()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),Xe(this.eMenu,"ag-header-menu-always-show",e)}else li(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t)},e.prototype.removeSortIcons=function(){li(this.eSortAsc),li(this.eSortDesc),li(this.eSortNone),li(this.eSortOrder)},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var e=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Ct.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(i){var n=t.params.column.isMoving(),o=(new Date).getTime()-t.lastMovingChanged<50;if(!(n||o)){var r=e?i.ctrlKey||i.metaKey:i.shiftKey;t.params.progressSort(r)}})),this.addManagedListener(this.params.column,Ct.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,jt.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},e.prototype.onSortChanged=function(){if(Xe(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),Xe(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),Xe(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&Xe(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&Xe(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var t=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();Xe(this.eSortNone,"ag-hidden",t||!this.params.column.isSortNone())}},e.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var t=this.params.column,e=this.sortController.getColumnsWithSortingOrdered(),i=e.indexOf(t),n=e.length>1,o=t.isSorting()&&n;Ke(this.eSortOrder,o),i>=0?this.eSortOrder.innerHTML=(i+1).toString():si(this.eSortOrder)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Ct.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();Xe(this.eFilter,"ag-hidden",!t)},e.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Co([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Co([st("sortController")],e.prototype,"sortController",void 0),Co([st("menuFactory")],e.prototype,"menuFactory",void 0),Co([Hn("eFilter")],e.prototype,"eFilter",void 0),Co([Hn("eSortAsc")],e.prototype,"eSortAsc",void 0),Co([Hn("eSortDesc")],e.prototype,"eSortDesc",void 0),Co([Hn("eSortNone")],e.prototype,"eSortNone",void 0),Co([Hn("eSortOrder")],e.prototype,"eSortOrder",void 0),Co([Hn("eMenu")],e.prototype,"eMenu",void 0),Co([Hn("eLabel")],e.prototype,"eLabel",void 0),Co([Hn("eText")],e.prototype,"eText",void 0),e}(Bn),bo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wo=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Eo=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return bo(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Rt(e)){var i=!t.params.columnGroup.isExpanded();t.columnController.setColumnGroupOpened(t.params.columnGroup.getOriginalColumnGroup(),i,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var i=function(t){Mt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var n=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(n,wt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,wt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var i=new yo(t);this.addManagedListener(i,yo.EVENT_TAP,e),this.addDestroyFunc((function(){return i.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();Ke(this.eOpenIcon,t),Ke(this.eCloseIcon,!t)}else Ke(this.eOpenIcon,!1),Ke(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var i=yn(t,this.gridOptionsWrapper,null);this.getRefElement(e).appendChild(i)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Ke(this.eOpenIcon,!1),void Ke(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t=this.params.displayName;if(n(t)){var e=Qt(t);this.getRefElement("agLabel").innerHTML=e}},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',wo([st("columnController")],e.prototype,"columnController",void 0),wo([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),wo([Hn("agOpened")],e.prototype,"eOpenIcon",void 0),wo([Hn("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Bn),Po=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},So=function(){function t(){this.childrenMapped={},this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return t.prototype.setData=function(t){var e=this.data;this.data=t,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(t,e,!1);this.dispatchLocalEvent(i)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,i,n){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:n}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.updateData=function(t){var e=this.data;this.data=t,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var i=this.createDataChangedEvent(t,e,!0);this.dispatchLocalEvent(i)},t.prototype.getRowIndexString=function(){return this.rowPinned===mt.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===mt.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t;return this.context.createBean(e),e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var i=n(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.selectionController.syncInRowNode(this,i),this.checkRowSelectable();var r=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(r)},t.prototype.checkRowSelectable=function(){var t=this.gridOptionsWrapper.getIsRowSelectableFunc(),e=t&&n(this);this.setRowSelectable(!e||t(this))},t.prototype.setRowSelectable=function(e){this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)))},t.prototype.setId=function(e){var i=this.gridOptionsWrapper.getRowNodeIdFunc();i?this.data?(this.id=i(this.data),this.id&&this.id.startsWith&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=e},t.prototype.isPixelInRange=function(t){return t>=this.rowTop&&t<this.rowTop+this.rowHeight},t.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setRowHeight=function(e,i){void 0===i&&(i=!1),this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var i=B({},this.createGlobalRowEvent(jt.EVENT_ROW_GROUP_OPENED),{expanded:e});this.mainEventService.dispatchEvent(i),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e){var i=this.columnController.getPrimaryColumn(t),n=this.valueService.getValue(i,this);this.valueService.setValue(this,i,e),this.dispatchCellChangedEvent(i,e,n)},t.prototype.setGroupValue=function(t,e){var i=this.columnController.getGridColumn(t);o(this.groupData)&&(this.groupData={});var n=i.getColId(),r=this.groupData[n];r!==e&&(this.groupData[n]=e,this.dispatchCellChangedEvent(i,e,r))},t.prototype.setAggData=function(t){var e=this,i=N([this.aggData,t]),n=this.aggData;this.aggData=t,this.eventService&&i.forEach((function(t){var i=e.columnController.getGridColumn(t),o=e.aggData?e.aggData[t]:void 0,r=n?n[t]:void 0;e.dispatchCellChangedEvent(i,o,r)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&r(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,i,n){var o={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:n};this.dispatchLocalEvent(o)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,i=!1,n=!1;if(this.childrenAfterGroup)for(var o=0;o<this.childrenAfterGroup.length;o++){var r=this.childrenAfterGroup[o];if(r.selectable)switch(r.isSelected()){case!0:e=!0;break;case!1:i=!0;break;default:n=!0}}t=n?void 0:!(!e||i)||!(!e&&i)&&void 0,this.selectThisNode(t)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:i,rangeSelect:!1})},t.prototype.isRowPinned=function(){return this.rowPinned===mt.PINNED_TOP||this.rowPinned===mt.PINNED_BOTTOM},t.prototype.setSelectedParams=function(t){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),i=!0===t.newValue,n=!0===t.clearSelection,o=!0===t.suppressFinishActions,r=!0===t.rangeSelect,a=e&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(r&&this.selectionController.getLastSelectedNode()){var s=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(s&&l)return this.doRowRangeSelection()}var u=0;a&&this.group||this.selectThisNode(i)&&u++;if(e&&this.group&&(u+=this.selectChildNodes(i,a)),!o){if(i&&(n||!this.gridOptionsWrapper.isRowSelectionMulti())&&(u+=this.selectionController.clearOtherNodes(this)),u>0){this.selectionController.updateGroupsFromChildrenSelections();var h={type:jt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.mainEventService.dispatchEvent(h)}i&&this.selectionController.setLastSelectedNode(this)}return u},t.prototype.doRowRangeSelection=function(){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),e=this.selectionController.getLastSelectedNode(),i=this.rowModel.getNodesInRangeForSelection(this,e),n=0;i.forEach((function(e){e.group&&t||e.selectThisNode(!0)&&n++})),this.selectionController.updateGroupsFromChildrenSelections();var o={type:jt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};return this.mainEventService.dispatchEvent(o),n},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.selectThisNode=function(e){var i=!this.selectable&&e,n=this.selected===e;if(i||n)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(jt.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(o),!0},t.prototype.selectChildNodes=function(t,e){var i=e?this.childrenAfterFilter:this.childrenAfterGroup;if(!o(i)){for(var n=0,r=0;r<i.length;r++)n+=i[r].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return n}},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new gt),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e,i=this,o=!0,r=!1;o&&!r;){var a=i.parent;n(a)&&i.firstChild?a.rowGroupColumn===t&&(r=!0,e=a):o=!1,i=a}return r?e:null},t.prototype.isFullWidthCell=function(){var t=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t(this)},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",Po([st("eventService")],t.prototype,"mainEventService",void 0),Po([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Po([st("selectionController")],t.prototype,"selectionController",void 0),Po([st("columnController")],t.prototype,"columnController",void 0),Po([st("valueService")],t.prototype,"valueService",void 0),Po([st("rowModel")],t.prototype,"rowModel",void 0),Po([st("context")],t.prototype,"context",void 0),Po([st("valueCache")],t.prototype,"valueCache",void 0),Po([st("columnApi")],t.prototype,"columnApi",void 0),Po([st("gridApi")],t.prototype,"gridApi",void 0),t}(),To=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_o=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Mo=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return To(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected(),e=void 0===t?"indeterminate":!0===t?"checked":"unchecked";this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel("Press Space to toggle row selection ("+e+")")},e.prototype.onCheckedClicked=function(){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:t})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.init=function(t){var e=this;this.rowNode=t.rowNode,this.column=t.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(t){return Mt(t)})),this.addGuiEventListener("dblclick",(function(t){return Mt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){void 0===t.previousValue?0===e.onUncheckedClicked(t.event||{})&&e.onCheckedClicked():t.selected?e.onUncheckedClicked(t.event||{}):e.onCheckedClicked()})),this.addManagedListener(this.rowNode,So.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(t)},e.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return t&&"function"===typeof t.checkboxSelection},_o([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),_o([Hn("eCheckbox")],e.prototype,"eCheckbox",void 0),_o([ot],e.prototype,"postConstruct",null),e}(Bn),Ro={propertyName:"dateComponent",isCellRenderer:function(){return!1}},Oo={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Ao={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Do={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},ko={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},Fo={propertyName:"cellEditor",isCellRenderer:function(){return!1}},Io={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Lo={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},No={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},Vo={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},Bo={propertyName:"filter",isCellRenderer:function(){return!1}},Wo={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Go={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Ho={propertyName:"statusPanel",isCellRenderer:function(){return!1}},zo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jo=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",t[t.HARDCODED=2]="HARDCODED"}(uo||(uo={}));var Uo,Yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.newDateComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Ro,"agDateInput")},e.prototype.newHeaderComponent=function(t){return this.createAndInitUserComponent(t.column.getColDef(),t,Oo,"agColumnHeader")},e.prototype.newHeaderGroupComponent=function(t){return this.createAndInitUserComponent(t.columnGroup.getColGroupDef(),t,Ao,"agColumnGroupHeader")},e.prototype.newFullWidthGroupRowInnerCellRenderer=function(t){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,t,Io,null,!0)},e.prototype.newFullWidthCellRenderer=function(t,e,i){return this.createAndInitUserComponent(null,t,{propertyName:e,isCellRenderer:function(){return!0}},i)},e.prototype.newCellRenderer=function(t,e,i){return void 0===i&&(i=!1),this.createAndInitUserComponent(t,e,i?ko:Do,null,!0)},e.prototype.newCellEditor=function(t,e){return this.createAndInitUserComponent(t,e,Fo,"agCellEditor")},e.prototype.newInnerCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,Io,null)},e.prototype.newLoadingOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Lo,"agLoadingOverlay")},e.prototype.newNoRowsOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,No,"agNoRowsOverlay")},e.prototype.newTooltipComponent=function(t){return this.createAndInitUserComponent(t.colDef,t,Vo,"agTooltipComponent")},e.prototype.newFilterComponent=function(t,e,i){return this.createAndInitUserComponent(t,e,Bo,i,!1)},e.prototype.newSetFilterCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,Do,null,!0)},e.prototype.newFloatingFilterComponent=function(t,e,i){return this.createAndInitUserComponent(t,e,Wo,i,!0)},e.prototype.newToolPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Go)},e.prototype.newStatusPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Ho)},e.prototype.createAndInitUserComponent=function(t,e,i,n,o){void 0===o&&(o=!1),t||(t=this.gridOptions);var r=this.createComponentInstance(t,i,e,n,o);if(!r)return null;var a=r.componentInstance,s=this.createFinalParams(t,i.propertyName,e,r.paramsFromSelector);this.addReactHacks(s);var l=this.initComponent(a,s);return null==l?Fn.resolve(a):l.then((function(){return a}))},e.prototype.addReactHacks=function(t){var e=this.context.getBean("agGridReact");e&&(t.agGridReact=D(e));var i=this.context.getBean("frameworkComponentWrapper");i&&(t.frameworkComponentWrapper=i)},e.prototype.createUserComponentFromConcreteClass=function(t,e){var i=new t;return this.initComponent(i,e),i},e.prototype.lookupComponentClassDef=function(t,e,i,n){void 0===i&&(i=null);var o,r=null,a=null,s=null,l=null;if(null!=t){var u=t[e];null==u||!0===u||("string"===typeof u?r=u:"boolean"===typeof u||(this.agComponentUtils.doesImplementIComponent(u)?a=u:s=u)),l=t[e+"Framework"],o=t[e+"Selector"]}if(a&&l||r&&l||s&&l)throw Error("ag-grid: you are trying to specify: "+e+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+e);if(o&&(r||a||s||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+e);if(l)return{componentFromFramework:!0,component:l,source:uo.HARDCODED,paramsFromSelector:null};if(a)return{componentFromFramework:!1,component:a,source:uo.HARDCODED,paramsFromSelector:null};if(s)return this.agComponentUtils.adaptFunction(e,s,!1,uo.HARDCODED);var h,p=o?o(i):null;if(!(h=p&&p.component?p.component:r||n))return null;var c=this.lookupFromRegisteredComponents(e,h);return c?{componentFromFramework:c.componentFromFramework,component:c.component,source:c.source,paramsFromSelector:p?p.params:null}:null},e.prototype.lookupFromRegisteredComponents=function(t,e){var i=null!=e?e:t,n=this.userComponentRegistry.retrieve(i);return null==n?null:n.componentFromFramework?{component:n.component,componentFromFramework:!0,source:uo.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(n.component)?{component:n.component,componentFromFramework:!1,source:n.source==Uo.REGISTERED?uo.REGISTERED_BY_NAME:uo.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(t,n.component,n.componentFromFramework,n.source==Uo.REGISTERED?uo.REGISTERED_BY_NAME:uo.DEFAULT)},e.prototype.createFinalParams=function(t,e,i,n){void 0===n&&(n=null);var o={};V(o,i);var r=t?t[e+"Params"]:null;null!=r&&("function"===typeof r?V(o,r(i)):"object"===typeof r&&V(o,r));return V(o,n),o},e.prototype.createComponentInstance=function(t,e,i,n,o){var r,a=e.propertyName,s=this.lookupComponentClassDef(t,a,i,n);if(!s||!s.component){var l=t?t[a]:n,u=l||n;return o||console.error("Could not find component "+u+", did you forget to configure this component?"),null}if(s.componentFromFramework){var h=s.component,p=this.componentMetadataProvider.retrieve(a);r=this.frameworkComponentWrapper.wrap(h,p.mandatoryMethodList,p.optionalMethodList,e,n)}else r=new s.component;return{componentInstance:r,paramsFromSelector:s.paramsFromSelector}},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},jo([st("gridOptions")],e.prototype,"gridOptions",void 0),jo([st("agComponentUtils")],e.prototype,"agComponentUtils",void 0),jo([st("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),jo([st("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),jo([lt("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=jo([at("userComponentFactory")],e)}(Bt),Xo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qo=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ko=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Xo(e,t),e.prototype.init=function(t){this.params=t,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(t);var e=this.isEmbeddedRowMismatch(),i=null==t.value,n=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var o=t.node;if(o.footer)n=(t.colDef&&t.colDef.showRowGroup)!==(o.rowGroupColumn&&o.rowGroupColumn.getColId())}this.cellIsBlank=e||i||n,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},e.prototype.assignBlankValueToGroupFooterCell=function(t){t.value||-1!=t.node.level||(t.value="")},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===mt.PINNED_LEFT,e=this.params.pinned===mt.PINNED_RIGHT,i=!t&&!e;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!e:!i:this.columnController.isPinningLeft()?!t:!i},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,e=t.node,i=!!!t.colDef||!0===t.colDef.showRowGroup?e.uiLevel:0;t.padding>=0?this.setPaddingDeprecatedWay(i,t.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+i,this.addCssClass(this.indentClass))}},e.prototype.setPaddingDeprecatedWay=function(t,e){X((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var i=t*e,n=this.getGui(),o=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";n.style[o]=i+"px"},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,So.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.addValueElement=function(){var t=this.params,e=this.displayedGroup;e.footer?this.createFooterCell():e.hasChildren()||W(t.colDef,"cellRendererParams.innerRenderer",null)||W(t.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),this.addChildCount()):this.createLeafCell()},e.prototype.createFooterCell=function(){var t,e=this.params.footerValueGetter;if(e){var i=D(this.params);i.value=this.params.value,"function"===typeof e?t=e(i):"string"===typeof e?t=this.expressionService.evaluate(e,i):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+this.params.value;this.eValue.innerHTML=t},e.prototype.createGroupCell=function(){var t,e=this,i=this.params,n=this.displayedGroup.rowGroupColumn,o=n||i.column,r=this.params.value,a=o?this.valueFormatterService.formatValue(o,i.node,i.scope,r):null;i.valueFormatted=a,(t=i.fullWidth?this.useFullWidth(i):this.useInnerRenderer(this.params.colDef.cellRendererParams,o.getColDef(),i))&&t.then((function(t){e.innerCellRenderer=t}))},e.prototype.useInnerRenderer=function(t,e,i){var n=this,o=null,r=this.userComponentFactory.lookupComponentClassDef(t,"innerRenderer");if(r&&null!=r.component&&r.source!=uo.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(t,i);else{var a=this.userComponentFactory.lookupComponentClassDef(e,"cellRenderer");o=a&&a.source!=uo.DEFAULT?this.userComponentFactory.newCellRenderer(e,i):a&&a.source==uo.DEFAULT&&W(e,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(e.cellRendererParams,i):this.userComponentFactory.newCellRenderer({},i)}return null!=o?o.then((function(t){null!=t?ki(o,n.eValue):n.eValue.innerText=null!=i.valueFormatted?i.valueFormatted:i.value})):this.eValue.innerText=null!=i.valueFormatted?i.valueFormatted:i.value,o},e.prototype.useFullWidth=function(t){var e=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(t);return null!=e?ki(e,this.eValue):this.eValue.innerText=null!=t.valueFormatted?t.valueFormatted:t.value,e},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,So.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroup.allChildrenCount,e=null!=t&&t>=0?"("+t+")":"";this.eChildCount.innerHTML=e},e.prototype.createLeafCell=function(){n(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"===typeof t?t(this.params):!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroup,i=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(i){var n=new Mo;this.getContext().createBean(n),n.init({rowNode:e,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(n)}))}Xe(this.eCheckbox,"ag-invisible",!i)},e.prototype.addExpandAndContract=function(){var t=this.params,e=t.eGridCell,i=yn("groupExpanded",this.gridOptionsWrapper,null),n=yn("groupContracted",this.gridOptionsWrapper,null);ji(e,!!t.node.expanded),this.eExpanded.appendChild(i),this.eContracted.appendChild(n),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,So.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,So.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroup,So.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroup,So.EVENT_HAS_CHILDREN_CHANGED,o),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(e,"dblclick",this.onCellDblClicked.bind(this))},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},e.prototype.onKeyDown=function(t){Cn(t,qn.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},e.prototype.setupDragOpenParents=function(){var t=this.params.column,e=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.hasChildren()){var i=e.rowGroupColumn;this.draggedFromHideOpenParents=!!i&&!t.isRowGroupDisplayed(i.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var n=e.parent;!o(n);){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroup=n;break}n=n.parent}o(this.displayedGroup)&&(this.displayedGroup=e)},e.prototype.onExpandClicked=function(t){Rt(t)||(Mt(t),this.onExpandOrContract())},e.prototype.onCellDblClicked=function(t){Rt(t)||(kt(this.eExpanded,t)||kt(this.eContracted,t)||this.onExpandOrContract())},e.prototype.onExpandOrContract=function(){var t=this.displayedGroup,e=this.params,i=!t.expanded;t.setExpanded(i),ji(e.eGridCell,i)},e.prototype.isExpandable=function(){var t=this.params.node,e=this.columnController.isPivotMode()&&t.leafGroup;return this.draggedFromHideOpenParents||t.isExpandable()&&!t.footer&&!e},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.eContracted,i=t.eExpanded,n=t.params,o=t.displayedGroup,r=t.columnController,a=n.eGridCell,s=n.node;if(this.isExpandable()){var l=!!this.draggedFromHideOpenParents||s.expanded;Ke(e,!l),Ke(i,l)}else Ui(a),Ke(i,!1),Ke(e,!1);var u=r.isPivotMode()&&o.leafGroup,h=!o.isExpandable(),p=o.footer||h||u;this.addOrRemoveCssClass("ag-row-group",!p),this.addOrRemoveCssClass("ag-row-group-leaf-indent",p)},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',qo([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),qo([st("expressionService")],e.prototype,"expressionService",void 0),qo([st("valueFormatterService")],e.prototype,"valueFormatterService",void 0),qo([st("columnController")],e.prototype,"columnController",void 0),qo([st("userComponentFactory")],e.prototype,"userComponentFactory",void 0),qo([Hn("eExpanded")],e.prototype,"eExpanded",void 0),qo([Hn("eContracted")],e.prototype,"eContracted",void 0),qo([Hn("eCheckbox")],e.prototype,"eCheckbox",void 0),qo([Hn("eValue")],e.prototype,"eValue",void 0),qo([Hn("eChildCount")],e.prototype,"eChildCount",void 0),e}(Bn),Qo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$o=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Jo=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.refreshCount=0,i}return Qo(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var i=Math.abs(e),o=t.formatValue(i),r=n(o)?o:i,a=e>=0;this.eDelta.innerHTML=a?"\u2191"+r:"\u2193"+r,Xe(this.eDelta,"ag-value-change-delta-up",a),Xe(this.eDelta,"ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){Ye(this.eValue,"ag-value-change-value-highlight"),si(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e!==this.lastValue&&(n(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:n(t.value)?this.eValue.innerHTML=e:si(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())){if("number"===typeof e&&"number"===typeof this.lastValue){var i=e-this.lastValue;this.showDelta(t,i)}return this.lastValue&&Ue(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0}},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',$o([st("filterManager")],e.prototype,"filterManager",void 0),e}(Bn),Zo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},er=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.refreshCount=0,i.eCurrent=i.queryForHtmlElement(".ag-value-slide-current"),i}return Zo(e,t),e.prototype.init=function(t){this.params=t,this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=hi('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&Ue(t.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;if(o(e)&&(e=""),e!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=e,n(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:n(t.value)?this.eCurrent.innerHTML=e:si(this.eCurrent),!0},e.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',tr([st("filterManager")],e.prototype,"filterManager",void 0),e}(Bn),ir=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},or=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ir(e,t),e.prototype.init=function(t){var e=yn("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(e);var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',nr([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),nr([Hn("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),nr([Hn("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Bn),rr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ar=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},sr=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return rr(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,o(t.values))console.warn("ag-Grid: no values found for select cellEditor");else{this.startedByEnter=t.keyPress===qn.ENTER;var i=!1;t.values.forEach((function(n){var o={value:n},r=e.valueFormatterService.formatValue(t.column,null,null,n),a=null!==r&&void 0!==r;o.text=a?r:n,e.eSelect.addOption(o),i=i||t.value===n})),i?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},ar([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ar([st("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ar([Hn("eSelect")],e.prototype,"eSelect",void 0),e}(Gn),lr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lr(e,t),e.prototype.isPopup=function(){return!0},e}($n),hr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hr(e,t),e.prototype.isPopup=function(){return!0},e}(sr),cr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},fr=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return cr(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),n(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;(e===qn.LEFT||e===qn.UP||e===qn.RIGHT||e===qn.DOWN||t.shiftKey&&e===qn.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){this.eTextArea.setInputAriaLabel("Input Editor"),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',dr([Hn("eTextArea")],e.prototype,"eTextArea",void 0),e}(Gn),gr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},yr=function(t){function e(){return t.call(this,"numberFilter")||this}return gr(e,t),e.prototype.mapRangeFromModel=function(t){return{from:t.filter,to:t.filterTo}},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.resetUiToDefaults=function(e){var i=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){[i.eValueFrom1,i.eValueFrom2,i.eValueTo1,i.eValueTo2].forEach((function(t){return t.setValue(null,e)})),i.resetPlaceholder()}))},e.prototype.setConditionIntoUi=function(t,e){var i=e===Xn.One,n=i?this.eValueFrom1:this.eValueFrom2,o=i?this.eValueTo1:this.eValueTo2;n.setValue(t?""+t.filter:null),o.setValue(t?""+t.filterTo:null)},e.prototype.setValueFromFloatingFilter=function(t){this.eValueFrom1.setValue(t),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e;var i=e.allowedCharPattern;if(i){var n={allowedCharPattern:i};this.resetTemplate({eValueFrom1:n,eValueTo1:n,eValueFrom2:n,eValueTo2:n})}t.prototype.setParams.call(this,e),this.addValueChangedListeners()},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValueFrom1.onValueChange(e),this.eValueTo1.onValueChange(e),this.eValueFrom2.onValueChange(e),this.eValueTo2.onValueChange(e)},e.prototype.resetPlaceholder=function(){var t=this.showValueTo(this.getCondition1Type()),e=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(t?"Filter from value":"Filter value"),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel("Filter to value"),this.eValueFrom2.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(e?"Filter from value":"Filter value"),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel("Filter to value")},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValueFrom1.getInputElement().focus()},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Xn.One?"1":"2",i=(this.numberFilterParams||{}).allowedCharPattern?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <'+i+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+e+'"></'+i+">\n                <"+i+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+e+'"></'+i+">\n            </div>"},e.prototype.isConditionUiComplete=function(t){var e=t===Xn.One,i=e?this.getCondition1Type():this.getCondition2Type();if(i===ho.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(i))return!0;var n=e?this.eValueFrom1:this.eValueFrom2,o=e?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat(n.getValue())&&(!this.showValueTo(i)||null!=this.stringToFloat(o.getValue()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(t){if("number"===typeof t)return t;var e=i(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=t===Xn.One,i=e?this.getCondition1Type():this.getCondition2Type(),n=e?this.eValueFrom1:this.eValueFrom2,o=this.stringToFloat(n.getValue()),r={filterType:this.getFilterType(),type:i};if(!this.doesFilterHaveHiddenInput(i)&&(r.filter=o,this.showValueTo(i))){var a=e?this.eValueTo1:this.eValueTo2,s=this.stringToFloat(a.getValue());r.filterTo=s}return r},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type(),i=this.getCondition2Type();Ke(this.eValueFrom1.getGui(),this.showValueFrom(e)),Ke(this.eValueTo1.getGui(),this.showValueTo(e)),Ke(this.eValueFrom2.getGui(),this.showValueFrom(i)),Ke(this.eValueTo2.getGui(),this.showValueTo(i))},e.DEFAULT_FILTER_OPTIONS=[co.EQUALS,co.NOT_EQUAL,co.LESS_THAN,co.LESS_THAN_OR_EQUAL,co.GREATER_THAN,co.GREATER_THAN_OR_EQUAL,co.IN_RANGE],mr([Hn("eValueFrom1")],e.prototype,"eValueFrom1",void 0),mr([Hn("eValueTo1")],e.prototype,"eValueTo1",void 0),mr([Hn("eValueFrom2")],e.prototype,"eValueFrom2",void 0),mr([Hn("eValueTo2")],e.prototype,"eValueTo2",void 0),e}(co),vr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},xr=function(t){function e(){return t.call(this)||this}return vr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=i.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(o)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',Cr([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(Bn),br=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Er=function(t){function e(){return t.call(this)||this}return br(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=i.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(o)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',wr([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(Bn),Pr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sr=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return Pr(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=e},e}(Gn),Tr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_r=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Mr=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Tr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this;this.shouldUseBrowserDatePicker(t)&&(De()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=t.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",(function(t){t.target===document.activeElement&&e.listener()}))},e.prototype.getDate=function(){return sn(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(an(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Ie()||Le()},_r([Hn("eDateInput")],e.prototype,"eDateInput",void 0),e}(Bn),Rr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rr(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(t){if(!t)return null;if(t.operator){var e=t,i=this.conditionToString(e.condition1),n=this.conditionToString(e.condition2);return i+" "+e.operator+" "+n}var o=t;return this.conditionToString(o)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.condition1;else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new Zn,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.prototype.isTypeEditable=function(t){return!this.doesFilterHaveHiddenInput(t)&&t&&t!==ho.IN_RANGE&&t!==ho.EMPTY},e}(Bn),Ar=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Dr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},kr=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Ar(e,t),e.prototype.getDefaultFilterOptions=function(){return mo.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type===ho.IN_RANGE?t.dateFrom+"-"+t.dateTo:null==t.dateFrom?""+t.type:""+t.dateFrom},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},e.prototype.setEditable=function(t){Ke(this.eDateWrapper,t),Ke(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,i){if(!this.isEventFromFloatingFilter(i)){t.prototype.setLastTypeFromModel.call(this,e);var n=this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(n),n){if(e){var o=e;this.dateComp.setDate(sn(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=an(this.dateComp.getDate());this.params.parentFilterInstance((function(i){i&&i.onFloatingFilterChanged(t.getLastType(),e)}))},e.prototype.createDateComponent=function(){var t=this,e=ao.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i={onDateChanged:Z(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Jn(this.getContext(),this.userComponentFactory,i,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},Dr([st("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Dr([Hn("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Dr([Hn("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Or),Fr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ir=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Lr=function(t){function e(){return t.call(this,"textFilter")||this}return Fr(e,t),e.cleanInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.getCleanValue=function(t){return e.cleanInput(i(t.getValue()))},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValue1.onValueChange(e),this.eValue2.onValueChange(e)},e.prototype.setParams=function(i){t.prototype.setParams.call(this,i),this.textFilterParams=i,this.comparator=this.textFilterParams.textCustomComparator||e.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},e.prototype.setConditionIntoUi=function(t,e){(e===Xn.One?this.eValue1:this.eValue2).setValue(t?t.filter:null)},e.prototype.createCondition=function(t){var e=t===Xn.One,i=e?this.getCondition1Type():this.getCondition2Type(),n=e?this.eValue1:this.eValue2,o=this.getCleanValue(n);n.setValue(o,!0);var r={filterType:this.getFilterType(),type:i};return this.doesFilterHaveHiddenInput(i)||(r.filter=o),r},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.type===e.type},e.prototype.resetUiToDefaults=function(e){var i=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){i.forEachInput((function(t){return t.setValue(null,e)})),i.resetPlaceholder()}))},e.prototype.resetPlaceholder=function(){var t=this.translate("filterOoo");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel("Filter value")}))},e.prototype.forEachInput=function(t){_([this.eValue1,this.eValue2],t)},e.prototype.setValueFromFloatingFilter=function(t){this.eValue1.setValue(t),this.eValue2.setValue(null)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Xn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+e+'"></ag-input-text-field>\n            </div>'},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),Ke(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),Ke(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValue1.getInputElement().focus()},e.prototype.isConditionUiComplete=function(t){var e=t===Xn.One,i=e?this.getCondition1Type():this.getCondition2Type();return i!==ho.EMPTY&&(!!this.doesFilterHaveHiddenInput(i)||null!=this.getCleanValue(e?this.eValue1:this.eValue2))},e.prototype.individualConditionPasses=function(t,e){var i=e.filter,n=e.type,o=this.textFilterParams.valueGetter(t.node),r=this.formatter(o),a=this.optionsFactory.getCustomOption(n);if(a&&(null!=i||a.hideFilterInput))return a.test(i,r);if(null==o)return n===ho.NOT_EQUAL||n===ho.NOT_CONTAINS;var s=this.formatter(i);return this.comparator(n,r,s)},e.DEFAULT_FILTER_OPTIONS=[ho.CONTAINS,ho.NOT_CONTAINS,ho.EQUALS,ho.NOT_EQUAL,ho.STARTS_WITH,ho.ENDS_WITH],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_COMPARATOR=function(t,i,n){switch(t){case e.CONTAINS:return i.indexOf(n)>=0;case e.NOT_CONTAINS:return i.indexOf(n)<0;case e.EQUALS:return i===n;case e.NOT_EQUAL:return i!=n;case e.STARTS_WITH:return 0===i.indexOf(n);case e.ENDS_WITH:var o=i.lastIndexOf(n);return o>=0&&o===i.length-n.length;default:return console.warn("invalid filter type "+t),!1}},Ir([Hn("eValue1")],e.prototype,"eValue1",void 0),Ir([Hn("eValue2")],e.prototype,"eValue2",void 0),e}(ho),Nr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nr(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.applyActive=ao.isUseApplyButton(this.params.filterParams);var i=ao.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=Z(this.syncUpWithParentFilter.bind(this),i),o=this.eFloatingFilterInput.getGui();this.addManagedListener(o,"input",n),this.addManagedListener(o,"keypress",n),this.addManagedListener(o,"keydown",n);var r=e.column.getDefinition();r.filterParams&&r.filterParams.filterOptions&&1===r.filterParams.filterOptions.length&&"inRange"===r.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var a=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(a+" Filter Input")},e.prototype.syncUpWithParentFilter=function(t){var e=this,i=Cn(t,qn.ENTER);if(!this.applyActive||i){var n=Lr.cleanInput(this.eFloatingFilterInput.getValue());this.eFloatingFilterInput.setValue(n,!0),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType(),n)}))}},e.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},Vr([st("columnController")],e.prototype,"columnController",void 0),Vr([Hn("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),Vr([ot],e.prototype,"postConstruct",null),e}(Or),Wr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr(e,t),e.prototype.getDefaultFilterOptions=function(){return yr.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type==ho.IN_RANGE?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(Br),Hr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.conditionToString=function(t){return null!=t.filter?""+t.filter:""+t.type},e.prototype.getDefaultFilterOptions=function(){return Lr.DEFAULT_FILTER_OPTIONS},e}(Br),jr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ur=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED=1]="REGISTERED"}(Uo||(Uo={}));var Yr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Mr,agColumnHeader:xo,agColumnGroupHeader:Eo,agTextColumnFloatingFilter:zr,agNumberColumnFloatingFilter:Gr,agDateColumnFloatingFilter:kr,agAnimateShowChangeCellRenderer:Jo,agAnimateSlideCellRenderer:er,agGroupCellRenderer:Ko,agGroupRowRenderer:Ko,agLoadingCellRenderer:or,agCellEditor:$n,agTextCellEditor:$n,agSelectCellEditor:sr,agPopupTextCellEditor:ur,agPopupSelectCellEditor:pr,agLargeTextCellEditor:fr,agTextColumnFilter:Lr,agNumberColumnFilter:yr,agDateColumnFilter:mo,agLoadingOverlay:xr,agNoRowsOverlay:Er,agTooltipComponent:Sr},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComponents={},e.frameworkComponents={},e}return jr(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&A(this.gridOptions.components,(function(e,i){return t.registerComponent(e,i)})),null!=this.gridOptions.frameworkComponents&&A(this.gridOptions.frameworkComponents,(function(e,i){return t.registerFwComponent(e,i)}))},e.prototype.registerDefaultComponent=function(t,e){var i=this.translateIfDeprecated(t);this.agGridDefaults[i]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[i]=e},e.prototype.registerComponent=function(t,e){var i=this.translateIfDeprecated(t);this.frameworkComponents[i]?console.error("Trying to register a component that you have already registered for frameworks: "+i):this.jsComponents[i]=e},e.prototype.registerFwComponent=function(t,e){var i=this.translateIfDeprecated(t);this.jsComponents[i]?console.error("Trying to register a component that you have already registered for plain javascript: "+i):this.frameworkComponents[i]=e},e.prototype.retrieve=function(t){var e=this.translateIfDeprecated(t),i=this.frameworkComponents[e];if(i)return{componentFromFramework:!0,component:i,source:Uo.REGISTERED};var n=this.jsComponents[e];if(n)return{componentFromFramework:!1,component:n,source:Uo.REGISTERED};var o=this.agGridDefaults[e];return o?{componentFromFramework:!1,component:o,source:Uo.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("ag-Grid: Looking for component ["+e+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(t){var e=this.agDeprecatedNames[t];return null!=e?(X((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+e.propertyHolder+":"+t+" to "+e.propertyHolder+":"+e.newComponentName)}),"DEPRECATE_COMPONENT_"+t),e.newComponentName):t},Ur([st("gridOptions")],e.prototype,"gridOptions",void 0),Ur([ot],e.prototype,"init",null),e=Ur([at("userComponentRegistry")],e)}(Bt),Xr=function(){function t(){}return t.parse=function(e){if(!e)return null;if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof e)return t.parse([e]);if(Array.isArray(e)){var i=[];return e.forEach((function(e){var n=t.DEFAULT_BY_KEY[e];n?i.push(n):console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===i.length?null:{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}},t.parseComponents=function(e){var i=[];return e.forEach((function(e){var n=null;if("string"===typeof e){var o=t.DEFAULT_BY_KEY[e];if(!o)return void console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));n=o}else n=e;i.push(n)})),i},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}(),qr=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Kr=function(t,e){return function(i,n){e(i,n,t)}},Qr=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};function $r(t){return!0===t||"true"===t}var Jr,Zr,ta=function(){function t(){this.propertyEventService=new gt,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var i;return i=t,t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated(),this.checkForViolations()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(i.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},t.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Xr.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var r=function(t){return"ag-Grid: '"+t+"' is not supported on the Server-Side Row Model"};n(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupDefaultExpanded")),n(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeFooter")),n(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var a=function(e){t.gridOptions.icons&&t.gridOptions.icons[e]&&console.warn("gridOptions.icons."+e+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};a("radioButtonOff"),a("radioButtonOn"),a("checkboxChecked"),a("checkboxUnchecked"),a("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(i.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},t.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(e){var i=Object.getOwnPropertyNames(e),n=Qr(we.ALL_PROPERTIES,we.FRAMEWORK_PROPERTIES);t.checkProperties(i,n,n,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=Qr(ve.ALL_PROPERTIES,ve.FRAMEWORK_PROPERTIES,p(jt).map((function(t){return xe.getCallbackForEvent(t)}))),i=Qr(e,["api","columnApi"]);this.checkProperties(t,i,e,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},t.prototype.checkProperties=function(t,e,i,n,o){var r=un(t,e,i);A(r,(function(t,e){console.warn("ag-grid: invalid "+n+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))})),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+n+" properties please check: "+o)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var i=t[this.getDomDataKey()];return i?i[e]:void 0},t.prototype.setDomData=function(t,e,i){var n=this.getDomDataKey(),r=t[n];o(r)&&(r={},t[n]=r),r[e]=i},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isSuppressRowDeselection=function(){return $r(this.gridOptions.suppressRowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.isRowMultiSelectWithClick=function(){return $r(this.gridOptions.rowMultiSelectWithClick)},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isPivotMode=function(){return $r(this.gridOptions.pivotMode)},t.prototype.isSuppressExpandablePivotGroups=function(){return $r(this.gridOptions.suppressExpandablePivotGroups)},t.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},t.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},t.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===mt.ROW_MODEL_TYPE_INFINITE},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===mt.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===mt.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.isRowModelDefault=function(){return o(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===mt.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},t.prototype.isSuppressFocusAfterRefresh=function(){return $r(this.gridOptions.suppressFocusAfterRefresh)},t.prototype.isSuppressBrowserResizeObserver=function(){return $r(this.gridOptions.suppressBrowserResizeObserver)},t.prototype.isSuppressMaintainUnsortedOrder=function(){return $r(this.gridOptions.suppressMaintainUnsortedOrder)},t.prototype.isSuppressClearOnFillReduction=function(){return $r(this.gridOptions.suppressClearOnFillReduction)},t.prototype.isShowToolPanel=function(){return $r(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.isSuppressTouch=function(){return $r(this.gridOptions.suppressTouch)},t.prototype.isApplyColumnDefOrder=function(){return $r(this.gridOptions.applyColumnDefOrder)},t.prototype.isSuppressRowTransform=function(){return $r(this.gridOptions.suppressRowTransform)},t.prototype.isSuppressColumnStateEvents=function(){return $r(this.gridOptions.suppressColumnStateEvents)},t.prototype.isAllowDragFromColumnsToolPanel=function(){return $r(this.gridOptions.allowDragFromColumnsToolPanel)},t.prototype.useAsyncEvents=function(){return!$r(this.gridOptions.suppressAsyncEvents)},t.prototype.isEnableCellChangeFlash=function(){return $r(this.gridOptions.enableCellChangeFlash)},t.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},t.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},t.prototype.isGroupSelectsChildren=function(){var t=$r(this.gridOptions.groupSelectsChildren);return t&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):t},t.prototype.isSuppressRowHoverHighlight=function(){return $r(this.gridOptions.suppressRowHoverHighlight)},t.prototype.isGroupSelectsFiltered=function(){return $r(this.gridOptions.groupSelectsFiltered)},t.prototype.isGroupHideOpenParents=function(){return $r(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupMultiAutoColumn=function(){return $r(this.gridOptions.groupMultiAutoColumn)||$r(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupRemoveSingleChildren=function(){return $r(this.gridOptions.groupRemoveSingleChildren)},t.prototype.isGroupRemoveLowestSingleChildren=function(){return $r(this.gridOptions.groupRemoveLowestSingleChildren)},t.prototype.isGroupIncludeFooter=function(){return $r(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupIncludeTotalFooter=function(){return $r(this.gridOptions.groupIncludeTotalFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return $r(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return $r(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellSelection=function(){return $r(this.gridOptions.suppressCellSelection)},t.prototype.isSuppressMultiSort=function(){return $r(this.gridOptions.suppressMultiSort)},t.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},t.prototype.isGroupSuppressAutoColumn=function(){return $r(this.gridOptions.groupSuppressAutoColumn)},t.prototype.isPivotSuppressAutoColumn=function(){return $r(this.gridOptions.pivotSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return $r(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isSuppressScrollOnNewData=function(){return $r(this.gridOptions.suppressScrollOnNewData)},t.prototype.isRowDragManaged=function(){return $r(this.gridOptions.rowDragManaged)},t.prototype.isSuppressRowDrag=function(){return $r(this.gridOptions.suppressRowDrag)},t.prototype.isSuppressMoveWhenRowDragging=function(){return $r(this.gridOptions.suppressMoveWhenRowDragging)},t.prototype.isEnableMultiRowDragging=function(){return $r(this.gridOptions.enableMultiRowDragging)},t.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||mt.DOM_LAYOUT_NORMAL;return-1===[mt.DOM_LAYOUT_PRINT,mt.DOM_LAYOUT_AUTO_HEIGHT,mt.DOM_LAYOUT_NORMAL].indexOf(t)?(X((function(){return console.warn("ag-Grid: "+t+" is not valid for DOM Layout, valid values are "+mt.DOM_LAYOUT_NORMAL+", "+mt.DOM_LAYOUT_AUTO_HEIGHT+" and "+mt.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),mt.DOM_LAYOUT_NORMAL):t},t.prototype.isSuppressHorizontalScroll=function(){return $r(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressMaxRenderedRowRestriction=function(){return $r(this.gridOptions.suppressMaxRenderedRowRestriction)},t.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return $r(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},t.prototype.isAlwaysShowVerticalScroll=function(){return $r(this.gridOptions.alwaysShowVerticalScroll)},t.prototype.isDebounceVerticalScrollbar=function(){return $r(this.gridOptions.debounceVerticalScrollbar)},t.prototype.isSuppressLoadingOverlay=function(){return $r(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return $r(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return $r(this.gridOptions.suppressFieldDotNotation)},t.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},t.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},t.prototype.isFunctionsPassive=function(){return $r(this.gridOptions.functionsPassive)},t.prototype.isSuppressChangeDetection=function(){return $r(this.gridOptions.suppressChangeDetection)},t.prototype.isSuppressAnimationFrame=function(){return $r(this.gridOptions.suppressAnimationFrame)},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isCacheQuickFilter=function(){return $r(this.gridOptions.cacheQuickFilter)},t.prototype.isUnSortIcon=function(){return $r(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return $r(this.gridOptions.suppressMenuHide)},t.prototype.isEnterMovesDownAfterEdit=function(){return $r(this.gridOptions.enterMovesDownAfterEdit)},t.prototype.isEnterMovesDown=function(){return $r(this.gridOptions.enterMovesDown)},t.prototype.isUndoRedoCellEditing=function(){return $r(this.gridOptions.undoRedoCellEditing)},t.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},t.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},t.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},t.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},t.prototype.getPopupParent=function(){return this.gridOptions.popupParent},t.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},t.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},t.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},t.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},t.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},t.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},t.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},t.prototype.isEmbedFullWidthRows=function(){return $r(this.gridOptions.embedFullWidthRows)||$r(this.gridOptions.deprecatedEmbedFullWidthRows)},t.prototype.isDetailRowAutoHeight=function(){return $r(this.gridOptions.detailRowAutoHeight)},t.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isImmutableData=function(){return $r(this.gridOptions.immutableData)},t.prototype.isEnsureDomOrder=function(){return $r(this.gridOptions.ensureDomOrder)},t.prototype.isEnableCharts=function(){return!!$r(this.gridOptions.enableCharts)&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"enableCharts")},t.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},t.prototype.isSingleClickEdit=function(){return $r(this.gridOptions.singleClickEdit)},t.prototype.isSuppressClickEdit=function(){return $r(this.gridOptions.suppressClickEdit)},t.prototype.isStopEditingWhenGridLosesFocus=function(){return $r(this.gridOptions.stopEditingWhenGridLosesFocus)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},t.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},t.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},t.prototype.getPaginationPageSize=function(){return"number"==typeof(t=this.gridOptions.paginationPageSize)?t:"string"==typeof t?parseInt(t,10):void 0;var t},t.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||$r(this.gridOptions.paginateChildRows)},t.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},t.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},t.prototype.isPurgeClosedRowNodes=function(){return $r(this.gridOptions.purgeClosedRowNodes)},t.prototype.isSuppressPaginationPanel=function(){return $r(this.gridOptions.suppressPaginationPanel)},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isGroupUseEntireRow=function(t){return!t&&$r(this.gridOptions.groupUseEntireRow)},t.prototype.isEnableRtl=function(){return $r(this.gridOptions.enableRtl)},t.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},t.prototype.isAngularCompileRows=function(){return $r(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return $r(this.gridOptions.angularCompileFilters)},t.prototype.isDebug=function(){return $r(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},t.prototype.isAccentedSort=function(){return $r(this.gridOptions.accentedSort)},t.prototype.isEnableBrowserTooltips=function(){return $r(this.gridOptions.enableBrowserTooltips)},t.prototype.isEnableCellExpressions=function(){return $r(this.gridOptions.enableCellExpressions)},t.prototype.isEnableGroupEdit=function(){return $r(this.gridOptions.enableGroupEdit)},t.prototype.isSuppressMiddleClickScrolls=function(){return $r(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isPreventDefaultOnContextMenu=function(){return $r(this.gridOptions.preventDefaultOnContextMenu)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return $r(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isSuppressColumnVirtualisation=function(){return $r(this.gridOptions.suppressColumnVirtualisation)},t.prototype.isSuppressContextMenu=function(){return $r(this.gridOptions.suppressContextMenu)},t.prototype.isAllowContextMenuWithControlKey=function(){return $r(this.gridOptions.allowContextMenuWithControlKey)},t.prototype.isSuppressCopyRowsToClipboard=function(){return $r(this.gridOptions.suppressCopyRowsToClipboard)},t.prototype.isCopyHeadersToClipboard=function(){return $r(this.gridOptions.copyHeadersToClipboard)},t.prototype.isSuppressClipboardPaste=function(){return $r(this.gridOptions.suppressClipboardPaste)},t.prototype.isSuppressLastEmptyLineOnPaste=function(){return $r(this.gridOptions.suppressLastEmptyLineOnPaste)},t.prototype.isPagination=function(){return $r(this.gridOptions.pagination)},t.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return $r(this.gridOptions.suppressEnterpriseResetOnNewColumns)},t.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},t.prototype.getAsyncTransactionWaitMillis=function(){return n(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:mt.BATCH_WAIT_MILLIS},t.prototype.isSuppressMovableColumns=function(){return $r(this.gridOptions.suppressMovableColumns)},t.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&$r(this.gridOptions.animateRows)},t.prototype.isSuppressColumnMoveAnimation=function(){return $r(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressAggFuncInHeader=function(){return $r(this.gridOptions.suppressAggFuncInHeader)},t.prototype.isSuppressAggAtRootLevel=function(){return $r(this.gridOptions.suppressAggAtRootLevel)},t.prototype.isEnableRangeSelection=function(){return yt.isRegistered(e.ModuleNames.RangeSelectionModule)&&$r(this.gridOptions.enableRangeSelection)},t.prototype.isEnableRangeHandle=function(){return $r(this.gridOptions.enableRangeHandle)},t.prototype.isEnableFillHandle=function(){return $r(this.gridOptions.enableFillHandle)},t.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(X((function(){return console.warn("ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},t.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},t.prototype.isSuppressMultiRangeSelection=function(){return $r(this.gridOptions.suppressMultiRangeSelection)},t.prototype.isPaginationAutoPageSize=function(){return $r(this.gridOptions.paginationAutoPageSize)},t.prototype.isRememberGroupStateWhenNewData=function(){return $r(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},t.prototype.isMasterDetail=function(){return!!$r(this.gridOptions.masterDetail)&&yt.assertRegistered(e.ModuleNames.MasterDetailModule,"masterDetail")},t.prototype.isKeepDetailRows=function(){return $r(this.gridOptions.keepDetailRows)},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},t.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},t.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.isSuppressAutoSize=function(){return $r(this.gridOptions.suppressAutoSize)},t.prototype.isEnableCellTextSelection=function(){return $r(this.gridOptions.enableCellTextSelection)},t.prototype.isSuppressParentsInRowNodes=function(){return $r(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isFunctionsReadOnly=function(){return $r(this.gridOptions.functionsReadOnly)},t.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},t.prototype.isEnableCellTextSelect=function(){return $r(this.gridOptions.enableCellTextSelection)},t.prototype.isEnableOldSetFilterModel=function(){return $r(this.gridOptions.enableOldSetFilterModel)},t.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},t.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},t.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},t.prototype.isSuppressCsvExport=function(){return $r(this.gridOptions.suppressCsvExport)},t.prototype.isAllowShowChangeAfterFilter=function(){return $r(this.gridOptions.allowShowChangeAfterFilter)},t.prototype.isSuppressExcelExport=function(){return $r(this.gridOptions.suppressExcelExport)},t.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return $r(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},t.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},t.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},t.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},t.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},t.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},t.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},t.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},t.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},t.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},t.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},t.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},t.prototype.isTreeData=function(){return!!$r(this.gridOptions.treeData)&&yt.assertRegistered(e.ModuleNames.RowGroupingModule,"Tree Data")},t.prototype.isValueCache=function(){return $r(this.gridOptions.valueCache)},t.prototype.isValueCacheNeverExpires=function(){return $r(this.gridOptions.valueCacheNeverExpires)},t.prototype.isDeltaSort=function(){return $r(this.gridOptions.deltaSort)},t.prototype.isAggregateOnlyChangedColumns=function(){return $r(this.gridOptions.aggregateOnlyChangedColumns)},t.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},t.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},t.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},t.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},t.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},t.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},t.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},t.prototype.getViewportRowModelPageSize=function(){return t=this.gridOptions.viewportRowModelPageSize,e=5,t>0?t:e;var t,e},t.prototype.getViewportRowModelBufferSize=function(){return t=this.gridOptions.viewportRowModelBufferSize,e=5,t>=0?t:e;var t,e},t.prototype.isServerSideSortingAlwaysResets=function(){return $r(this.gridOptions.serverSideSortingAlwaysResets)},t.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},t.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},t.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},t.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},t.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},t.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},t.prototype.getClipboardDeliminator=function(){return n(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},t.prototype.setProperty=function(t,e,i){void 0===i&&(i=!1);var n=this.gridOptions,o=n[t];if(i||o!==e){n[t]=e;var r={type:t,currentValue:e,previousValue:o};this.propertyEventService.dispatchEvent(r)}},t.prototype.addLayoutElement=function(t){this.layoutElements.push(t),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e=t===mt.DOM_LAYOUT_AUTO_HEIGHT,i=t===mt.DOM_LAYOUT_PRINT,n=t===mt.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(t){Xe(t,"ag-layout-auto-height",e),Xe(t,"ag-layout-normal",n),Xe(t,"ag-layout-print",i)}))},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},t.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},t.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},t.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},t.prototype.doesExternalFilterPass=function(t){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getTooltipShowDelay=function(){var t=this.gridOptions.tooltipShowDelay;return n(t)?(t<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,t)):null},t.prototype.isTooltipMouseTrack=function(){return $r(this.gridOptions.tooltipMouseTrack)},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&n(this.gridOptions.getDocument)&&(t=this.gridOptions.getDocument()),t&&n(t)?t:document},t.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var t=this.getFromTheme(null,"headerCellMinWidth");return Math.max(t,i.MIN_COL_WIDTH)},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"===typeof t?t<0&&(X((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=mt.ROW_BUFFER_SIZE,t},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:We();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:jt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),t.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),t.defaultColDef||(t.defaultColDef={}),null==t.defaultColDef.floatingFilter&&(t.defaultColDef.floatingFilter=!0)),t.rowDeselection&&console.warn("ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var e=function(e,i,n){null!=t[e]&&(console.warn("ag-grid: since version "+n+", '"+e+"' is deprecated / renamed, please use the new property name '"+i+"' instead."),null==t[i]&&(t[i]=t[e]))};if(e("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),e("deltaRowDataMode","immutableData","23.1.x"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),e("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var i=t.groupRowRendererParams;t.groupRowInnerRenderer&&(i.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(i.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(i.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("ag-Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("ag-Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of ag-Grid. If you need this to be set for every column use the defaultColDef property.")},t.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.isRowModelDefault()&&o(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(o(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),o(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},t.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this.gridOptions.localeText;return function(e,i){return t&&t[e]?t[e]:i}},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var i=xe.getCallbackForEvent(t);"function"===typeof this.gridOptions[i]&&this.gridOptions[i](e)}},t.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||o(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},t.prototype.getRowHeightForNode=function(t,e){if(void 0===e&&(e=!1),"function"===typeof this.gridOptions.getRowHeight){if(e)return{height:this.getDefaultRowHeight(),estimated:!0};var i={node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context},n=this.gridOptions.getRowHeight(i);if(this.isNumeric(n))return{height:n,estimated:!1}}if(t.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var o=this.getDefaultRowHeight(),r=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o,a=Math.min(o,r);if(this.columnController.isAutoRowHeightActive()){if(e)return{height:r,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(t);return{height:Math.max(s,a),estimated:!1}}return{height:r,estimated:!1}},t.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"===typeof t&&isFinite(t)},t.prototype.getFromTheme=function(t,e){var i=this.environment.getTheme().theme;return i&&0===i.indexOf("ag-theme")?this.environment.getSassVariable(i,e):t},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.MIN_COL_WIDTH=10,t.PROP_HEADER_HEIGHT="headerHeight",t.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",t.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",t.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",t.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",t.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",t.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",t.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",t.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",t.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",t.PROP_POPUP_PARENT="popupParent",t.PROP_DOM_LAYOUT="domLayout",t.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",qr([st("gridOptions")],t.prototype,"gridOptions",void 0),qr([st("columnController")],t.prototype,"columnController",void 0),qr([st("eventService")],t.prototype,"eventService",void 0),qr([st("environment")],t.prototype,"environment",void 0),qr([st("autoHeightCalculator")],t.prototype,"autoHeightCalculator",void 0),qr([Kr(0,ht("gridApi")),Kr(1,ht("columnApi"))],t.prototype,"agWire",null),qr([rt],t.prototype,"destroy",null),qr([ot],t.prototype,"init",null),t=i=qr([at("gridOptionsWrapper")],t)}(),ea=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var n=0;n<t.childrenAfterGroup.length;n++){var o=t.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,i):i&&e(o)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];){var n={rowNode:e,children:null};this.mapToItems[e.id]=n,i++,e=e.parent}return i},t.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var n=t;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach((function(t){return i.nodeIdsToColumns[n.id][t.getId()]=!0})),n=n.parent},t.prototype.linkPathItems=function(t,e){for(var i=t,n=0;n<e;n++){var o=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(o),i=i.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter((function(t){return i[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!i[t.getId()]}))},t}(),ia=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),na=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},oa=function(t,e){return function(i,n){e(i,n,t)}},ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ia(e,t),e.prototype.setBeans=function(t){this.logger=t.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,jt.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,jt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return A(this.selectedNodes,(function(e,i){i&&t.push(i)})),t},e.prototype.getSelectedRows=function(){var t=[];return A(this.selectedNodes,(function(e,i){i&&i.data&&t.push(i.data)})),t},e.prototype.removeGroupsFromSelection=function(){var t=this;A(this.selectedNodes,(function(e,i){i&&i.group&&(t.selectedNodes[i.id]=void 0)}))},e.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getRootNode();t||(t=new ea(!0,e)).setInactive(),t.forEachChangedNodeDepthFirst((function(t){t!==e&&t.calculateSelectedFromChildren()}))}},e.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},e.prototype.clearOtherNodes=function(t){var e=this,i={},n=0;return A(this.selectedNodes,(function(o,r){if(r&&r.id!==t.id){var a=e.selectedNodes[r.id];n+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),e.groupSelectsChildren&&r.parent&&(i[r.parent.id]=r.parent)}})),A(i,(function(t,e){e.calculateSelectedFromChildren()})),n},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:this.selectedNodes[e.id]=void 0)},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){n(e)&&t.id!==e.id&&(n(this.selectedNodes[e.id])&&(this.selectedNodes[e.id]=e))},e.prototype.syncInNewRowNode=function(t){n(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(i){for(var n=0,o=i.length;n<o;n++){var r=i[n];r.isSelected()?e.push(r):r.group&&r.children&&t(r.children)}}(t),e}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},e.prototype.setRowModel=function(t){this.rowModel=t},e.prototype.isEmpty=function(){var t=0;return A(this.selectedNodes,(function(e,i){i&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var e=function(t){return t.selectThisNode(!1)},i=this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!i)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(e)}else A(this.selectedNodes,(function(t,i){i&&e(i)})),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:jt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},e.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==mt.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var e=this.rowModel,i=function(t){return t.selectThisNode(!0)};t?e.forEachNodeAfterFilter(i):e.forEachNode(i),this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:jt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},e.prototype.selectNode=function(t,e){t&&t.setSelectedParams({newValue:!0,clearSelection:!e})},e.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},e.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(t,e){var i=this.rowModel.getRow(t);this.selectNode(i,e)},na([st("rowModel")],e.prototype,"rowModel",void 0),na([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),na([st("columnApi")],e.prototype,"columnApi",void 0),na([st("gridApi")],e.prototype,"gridApi",void 0),na([oa(0,ht("loggerFactory"))],e.prototype,"setBeans",null),na([ot],e.prototype,"init",null),e=na([at("selectionController")],e)}(Bt),aa=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},sa=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){"undefined"===typeof t&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnController.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnController.getColumnGroup(t,e)},t.prototype.getOriginalColumnGroup=function(t){return this.columnController.getOriginalColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnController.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnController.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnController.getPrimaryColumn(t)},t.prototype.applyColumnState=function(t){return this.columnController.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnController.getColumnState()},t.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},t.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnController.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnController.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnController.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnController.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnController.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnController.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnController.setColumnsPinned(t,e,"api")},t.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},t.prototype.moveColumn=function(t,e){"number"===typeof t?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(t,e,"api")):this.columnController.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnController.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnController.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnController.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnController.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,i){void 0===i&&(i=!0),this.columnController.setColumnWidths([{key:t,newWidth:e}],!1,i)},t.prototype.setColumnWidths=function(t,e){void 0===e&&(e=!0),this.columnController.setColumnWidths(t,!1,e)},t.prototype.setPivotMode=function(t){this.columnController.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.getSecondaryPivotColumn=function(t,e){return this.columnController.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnController.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnController.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnController.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnController.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnController.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnController.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnController.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnController.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnController.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnController.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnController.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnController.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnController.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnController.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnController.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},t.prototype.autoSizeColumn=function(t,e){return this.columnController.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){return this.columnController.autoSizeColumns(t,e,"api")},t.prototype.autoSizeAllColumns=function(t){this.columnController.autoSizeAllColumns(t,"api")},t.prototype.setSecondaryColumns=function(t){this.columnController.setSecondaryColumns(t,"api")},t.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},t.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Dn.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.columnGroupOpened=function(t,e){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(t,!e,"api")},t.prototype.hideColumn=function(t,e){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(t,!e,"api")},t.prototype.setState=function(t){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},t.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},t.prototype.removeAggregationColumn=function(t){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(t,"api")},t.prototype.removeAggregationColumns=function(t){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(t,"api")},t.prototype.addAggregationColumn=function(t){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(t,"api")},t.prototype.addAggregationColumns=function(t){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(t,"api")},t.prototype.setColumnAggFunction=function(t,e){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(t,e,"api")},t.prototype.getDisplayNameForCol=function(t){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},t.prototype.setColumnState=function(t){return this.columnController.applyColumnState({state:t,applyOrder:!0},"api")},aa([st("columnController")],t.prototype,"columnController",void 0),aa([rt],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=aa([at("columnApi")],t)}();(Jr=e.SelectionHandleType||(e.SelectionHandleType={}))[Jr.FILL=0]="FILL",Jr[Jr.RANGE=1]="RANGE",(Zr=e.CellRangeType||(e.CellRangeType={}))[Zr.VALUE=0]="VALUE",Zr[Zr.DIMENSION=1]="DIMENSION";var la,ua,ha,pa=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ca=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};(la=e.DragSourceType||(e.DragSourceType={}))[la.ToolPanel=0]="ToolPanel",la[la.HeaderCell=1]="HeaderCell",la[la.RowDrag=2]="RowDrag",la[la.ChartPanel=3]="ChartPanel",(ua=e.VerticalDirection||(e.VerticalDirection={}))[ua.Up=0]="Up",ua[ua.Down=1]="Down",(ha=e.HorizontalDirection||(e.HorizontalDirection={}))[ha.Left=0]="Left",ha[ha.Right=1]="Right";var da,fa=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return pa(i,t),n=i,i.prototype.init=function(){this.ePinnedIcon=mn("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=mn("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=mn("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=mn("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=mn("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=mn("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=mn("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=mn("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=mn("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i,e)},i.prototype.removeDragSource=function(t){var e=h(this.dragSourceAndParamsList,(function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),v(this.dragSourceAndParamsList,e))},i.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(t,e){var i=this.getHorizontalDirection(t),n=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var o=h(this.dropTargets,this.isMouseOnDropTarget.bind(this,t));if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(t,i,n,e),this.enterDragTargetIfExists(o,t,i,n,e),this.lastDropTarget=o;else if(o&&o.onDragging){var r=this.createDropTargetEvent(o,t,i,n,e);o.onDragging(r)}},i.prototype.enterDragTargetIfExists=function(t,e,i,n,o){if(t){if(t.onDragEnter){var r=this.createDropTargetEvent(t,e,i,n,o);t.onDragEnter(r)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(t,e,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,t,e,i,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(t){var e=[t.getContainer()],i=t.getSecondaryContainers?t.getSecondaryContainers():null;return i&&(e=e.concat(i)),e},i.prototype.isMouseOnDropTarget=function(t,e){var i=!1;return this.getAllContainersFromDropTarget(e).filter((function(t){return t})).forEach((function(e){var n=e.getBoundingClientRect();if(0!==n.width&&0!==n.height){var o=t.clientX>=n.left&&t.clientX<=n.right,r=t.clientY>=n.top&&t.clientY<=n.bottom;o&&r&&(i=!0)}})),i&&e.isInterestedIn(this.dragSource.type)},i.prototype.addDropTarget=function(t){this.dropTargets.push(t)},i.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},i.prototype.findExternalZone=function(t){return h(this.dropTargets.filter((function(t){return t.external})),(function(e){return e.getContainer()===t.getContainer()}))},i.prototype.getHorizontalDirection=function(t){var i=this.eventLastTime.clientX,n=t.clientX;return i===n?null:i>n?e.HorizontalDirection.Left:e.HorizontalDirection.Right},i.prototype.getVerticalDirection=function(t){var i=this.eventLastTime.clientY,n=t.clientY;return i===n?null:i>n?e.VerticalDirection.Up:e.VerticalDirection.Down},i.prototype.createDropTargetEvent=function(t,e,i,n,o){var r=t.getContainer(),a=r.getBoundingClientRect(),s=this,l=s.gridApi,u=s.columnApi,h=s.dragItem,p=s.dragSource;return{event:e,x:e.clientX-a.left,y:e.clientY-a.top,vDirection:n,hDirection:i,dragSource:p,fromNudge:o,dragItem:h,api:l,columnApi:u,dropZoneTarget:r}},i.prototype.positionGhost=function(t){var e=this.eGhost,i=e.getBoundingClientRect().height,n=Ge()-2,o=He()-2,r=t.pageY-i/2,a=t.pageX-10,s=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||s.documentElement.scrollTop,u=window.pageXOffset||s.documentElement.scrollLeft;n>0&&a+e.clientWidth>n+u&&(a=n+u-e.clientWidth),a<0&&(a=0),o>0&&r+e.clientHeight>o+l&&(r=o+l-e.clientHeight),r<0&&(r=0),e.style.left=a+"px",e.style.top=r+"px"},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=hi(n.GHOST_TEMPLATE);var t=this.environment.getTheme().theme;t&&Ue(this.eGhost,t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;K(i)&&(i=i()),e.innerHTML=Qt(i),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument();this.eGhostParent=o.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(t,e){var i;switch(void 0===e&&(e=!1),si(this.eGhostIcon),t||(t=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:i=this.ePinnedIcon;break;case n.ICON_MOVE:i=this.eMoveIcon;break;case n.ICON_LEFT:i=this.eLeftIcon;break;case n.ICON_RIGHT:i=this.eRightIcon;break;case n.ICON_GROUP:i=this.eGroupIcon;break;case n.ICON_AGGREGATE:i=this.eAggregateIcon;break;case n.ICON_PIVOT:i=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:i=this.eHideIcon}Xe(this.eGhostIcon,"ag-shake-left-to-right",e),i===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||i&&this.eGhostIcon.appendChild(i)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ca([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),ca([st("dragService")],i.prototype,"dragService",void 0),ca([st("environment")],i.prototype,"environment",void 0),ca([st("columnApi")],i.prototype,"columnApi",void 0),ca([st("gridApi")],i.prototype,"gridApi",void 0),ca([ot],i.prototype,"init",null),ca([rt],i.prototype,"clearDragSourceParamsList",null),i=n=ca([at("dragAndDropService")],i)}(Bt),ga=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ma=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ya=function(t){function i(e,i,n,o){var r=t.call(this,'<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>')||this;return r.rowNode=e,r.column=i,r.cellValueFn=n,r.beans=o,r}return ga(i,t),i.prototype.postConstruct=function(){this.getGui().appendChild(yn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new xa(this,this.beans,this.rowNode,this.column):new Ca(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var t=this.beans.selectionController.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t.length:1},i.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&X((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(){var t=this,i={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},n=this.column.getColDef().rowDragText,o={type:e.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var e=t.getSelectedCount();return n?n(i,e):1===e?t.cellValueFn():e+" rows"},getDragItem:function(){return i},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()};this.beans.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return t.beans.dragAndDropService.removeDragSource(o)}))},ma([ot],i.prototype,"postConstruct",null),i}(Bn),va=function(t){function e(e,i,n){var o=t.call(this)||this;return o.parent=e,o.column=n,o.rowNode=i,o}return ga(e,t),e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var e=this.column.isRowDrag(this.rowNode);K(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(e)):this.parent.setDisplayed(e)}},e}(Bt),Ca=function(t){function e(e,i,n,o){var r=t.call(this,e,n,o)||this;return r.beans=i,r}return ga(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},ma([ot],e.prototype,"postConstruct",null),e}(va),xa=function(t){function e(e,i,n,o){var r=t.call(this,e,n,o)||this;return r.beans=i,r}return ga(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,jt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,jt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridPanel.getRowDragFeature(),e=t&&t.shouldPreventRowMove(),i=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=this.beans.dragAndDropService.hasExternalDropZones(),o=e&&!n||i;this.setDisplayedOrVisible(o)},ma([ot],e.prototype,"postConstruct",null),e}(va),ba=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wa=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ea=function(t){function e(e){var i=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.getGuiCalledOnChild=!1,i.cellEditor=e,i}return ba(e,t),e.prototype.onKeyDown=function(t){bn(this.gridOptionsWrapper,t,this.params.node,this.params.column,!0)||this.params.onKeyDown(t)},e.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),t.prototype.getGui.call(this)},e.prototype.init=function(i){var n=this;this.params=i,this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return n.destroyBean(n.cellEditor)})),this.addManagedListener(t.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},e.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},e.prototype.getValue=function(){return this.cellEditor.getValue()},e.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},e.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},e.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},e.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},e.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",wa([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(Gn),Pa=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sa=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ta=function(t){function e(e,i,n,o,r){var a=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return a.rowNode=e,a.column=i,a.cellValue=n,a.beans=o,a.eCell=r,a}return Pa(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(yn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,i=this.column.getColDef().dndSourceOnRowDrag,n=De();n||t.dataTransfer.setDragImage(this.eCell,0,0);i?i({rowNode:this.rowNode,dragEvent:t}):function(){try{var i=JSON.stringify(e.rowNode.data);n?t.dataTransfer.setData("text",i):(t.dataTransfer.setData("application/json",i),t.dataTransfer.setData("text/plain",i))}catch(o){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Sa([ot],e.prototype,"postConstruct",null),e}(Bn),_a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ma=function(){return(Ma=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ra=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(da||(da={}));var Oa,Aa=function(t){function e(e){var i=t.call(this)||this;return i.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.state=da.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i.parentComp=e,i}return _a(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(this.state==da.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=da.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===da.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=da.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===da.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=da.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;Ue(this.tooltipComp.getGui(),"ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(i)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=Ma({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(n(t.value)){this.state=da.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(t).then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==da.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var i=e.getGui();this.tooltipComp=e,qe(i,"ag-tooltip")||Ue(i,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup({eChild:i}),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Ra([st("popupService")],e.prototype,"popupService",void 0),Ra([st("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ra([st("columnApi")],e.prototype,"columnApi",void 0),Ra([st("gridApi")],e.prototype,"gridApi",void 0),Ra([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ra([ot],e.prototype,"postConstruct",null),e}(Bt),Da=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ka=function(){return(ka=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fa="ag-cell-value",Ia="ag-cell-range-top",La="ag-cell-range-right",Na="ag-cell-range-bottom",Va="ag-cell-range-left",Ba="ag-cell-focus",Wa="ag-cell-first-right-pinned",Ga="ag-cell-last-left-pinned",Ha="ag-cell-not-inline-editing",za="ag-cell-range-selected",ja="ag-column-hover",Ua="ag-cell-range-chart",Ya="ag-cell-range-single-cell",Xa="ag-cell-range-handle",qa=function(t){function i(e,i,n,o,r,a,s){var l=t.call(this)||this;if(l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.tooltipFeatureEnabled=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=e,l.beans=i,l.column=n,l.rowNode=o,l.rowComp=r,l.autoHeightCell=a,l.printLayout=s,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&i.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController){var u=l.beans.rangeController;l.rangeCount=u.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()}return l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return Da(i,t),i.prototype.getCreateTemplate=function(){var t=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',e=[],i=this.column,o=this.getCellWidth(),r=this.modifyLeftForPrintLayout(this.getCellLeft()),a=this.getInitialValueToRender(),s=W(this.column,"colDef.template",null)?a:Qt(a);this.tooltip=this.getToolTip();var l=Qt(this.tooltip),u=Qt(i.getId()),h="",p="",c=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),f=this.getStylesForRowSpanning(),g=Qt(this.beans.columnController.getAriaColumnIndex(this.column).toString());return e.push("<div"),e.push(' tabindex="-1"'),e.push(" "+t),e.push(' role="gridcell"'),e.push(' aria-colindex="'+g+'"'),e.push(' comp-id="'+this.getCompId()+'" '),e.push(' col-id="'+u+'"'),e.push(' class="'+Qt(d.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&n(l)&&e.push(' title="'+l+'"'),this.rangeSelectionEnabled&&e.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),this.usingWrapper&&(h='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                    <span ref="eCellValue" role="presentation" class="ag-cell-value" '+t+">",p="</span></div>"),e.push(' style="width: '+Number(o)+"px; left: "+Number(r)+"px; "+Qt(c)+" "+Qt(f)+'">'),e.push(h),n(s,!0)&&e.push(s),e.push(p),e.push("</div>"),e.join("")},i.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},i.prototype.afterAttached=function(){var t='[comp-id="'+this.getCompId()+'"]',e=this.eParentRow.querySelector(t);this.setGui(e),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),n(this.tooltip)&&this.createTooltipFeatureIfNeeded()},i.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new Aa(this),this.beans.context),this.tooltipFeatureEnabled=!0)},i.prototype.onColumnHover=function(){var t=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass(ja,t)},i.prototype.onCellChanged=function(t){t.column===this.column&&this.refreshCell({})},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.column).getLeft()},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},i.prototype.onFlashCells=function(t){var e=this.beans.cellPositionUtils.createId(this.cellPosition);t.cells[e]&&this.animateCell("highlight")},i.prototype.setupColSpan=function(){o(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,jt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},i.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var i=this.column,n=this.column.getPinned(),r=0;i&&r<t&&(e.push(i),(i=this.beans.columnController.getDisplayedColAfter(i))&&!o(i))&&n===i.getPinned();r++);return e},i.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();m(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},i.prototype.refreshAriaIndex=function(){var t=this.beans.columnController.getAriaColumnIndex(this.column);Ji(this.getGui(),t)},i.prototype.getInitialCssClasses=function(){var t=["ag-cell",Ha];return this.autoHeightCell||t.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&t.push(Ba),this.firstRightPinned&&t.push(Wa),this.lastLeftPinned&&t.push(Ga),this.beans.columnHoverService.isHovered(this.column)&&t.push(ja),E(t,this.preProcessClassesFromColDef()),E(t,this.preProcessCellClassRules()),E(t,this.getInitialRangeClasses()),this.usingWrapper||t.push(Fa),this.column.getColDef().wrapText&&t.push("ag-cell-wrap-text"),t},i.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"===typeof this.cellRendererGui?this.cellRendererGui:"";var t=this.getComponentHolder();return t.template?t.template:t.templateUrl?this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},i.prototype.getRenderedRow=function(){return this.rowComp},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editingCell){var e=this.getComponentHolder(),i=t&&t.newData,n=t&&t.suppressFlash||e.suppressCellFlash,o=t&&t.forceRefresh,r=this.value;this.value=this.getValue();var a=!this.valuesAreEqual(r,this.value);if(o||a){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!i&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var s=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!n&&!s&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||e.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},i.prototype.flashCell=function(t){var e=t&&t.flashDelay,i=t&&t.fadeDelay;this.animateCell("data-changed",e,i)},i.prototype.animateCell=function(t,e,i){var n=this,o="ag-cell-"+t,r="ag-cell-"+t+"-animation",a=this.getGui(),s=this.beans.gridOptionsWrapper;e||(e=s.getCellFlashDelay()),i||(i=s.getCellFadeDelay()),this.addCssClass(o),this.removeCssClass(r),window.setTimeout((function(){n.removeCssClass(o),n.addCssClass(r),a.style.transition="background-color "+i+"ms",window.setTimeout((function(){n.removeCssClass(r),a.style.transition=null}),i)}),e)},i.prototype.replaceContentsAfterRefresh=function(){si(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},i.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=ka({},this.rowNode.data),this.angular1Compile())},i.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var t=this.getGui();if(!t.classList.contains("ng-scope")||0===t.childElementCount){var e=this.beans.$compile(t)(this.scope);this.addDestroyFunc((function(){return e.remove()}))}}},i.prototype.postProcessStylesFromColDef=function(){var t=this.processStylesFromColDef();t&&yi(this.getGui(),t)},i.prototype.preProcessStylesFromColDef=function(){return Di(this.processStylesFromColDef())},i.prototype.processStylesFromColDef=function(){var t=this.getComponentHolder();if(t.cellStyle){var e=void 0;if("function"===typeof t.cellStyle){var i={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};e=(0,t.cellStyle)(i)}else e=t.cellStyle;return e}},i.prototype.postProcessClassesFromColDef=function(){var t=this;this.processClassesFromColDef((function(e){return t.addCssClass(e)}))},i.prototype.preProcessClassesFromColDef=function(){var t=[];return this.processClassesFromColDef((function(e){return t.push(e)})),t},i.prototype.processClassesFromColDef=function(t){var e=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(e,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},t)},i.prototype.putDataIntoCellAfterRefresh=function(){var t=this.getComponentHolder();if(t.template)this.eCellValue.innerHTML=t.template;else if(t.templateUrl){var e=this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0));e&&(this.eCellValue.innerHTML=e)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var i=this.getValueToUse();null!=i&&(this.eCellValue.innerHTML=Qt(i))}},i.prototype.attemptCellRendererRefresh=function(){if(o(this.cellRenderer)||!this.cellRenderer||o(this.cellRenderer.refresh))return!1;var t=this.createCellRendererParams(),e=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,t),i=this.cellRenderer.refresh(e);return!0===i||void 0===i},i.prototype.refreshToolTip=function(){var t=this.getToolTip();if(this.tooltip!==t){this.createTooltipFeatureIfNeeded();var e=n(t);e&&this.tooltip===t.toString()||(this.tooltip=t,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(e?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},i.prototype.valuesAreEqual=function(t,e){var i=this.getComponentHolder(),n=i?i.equals:null;return n?n(t,e):t===e},i.prototype.getToolTip=function(){var t=this.getComponentHolder(),e=this.rowNode.data;if(t.tooltipField&&n(e))return G(e,t.tooltipField,this.column.isTooltipFieldContainsDots());var i=t.tooltipValueGetter;return i?i(ka(ka({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},i.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},i.prototype.getTooltipText=function(t){return void 0===t&&(t=!0),t?Qt(this.tooltip):this.tooltip},i.prototype.processCellClassRules=function(t,e){var i=this.getComponentHolder();this.beans.stylingService.processClassRules(i.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:i,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},t,e)},i.prototype.postProcessCellClassRules=function(){var t=this;this.processCellClassRules((function(e){return t.addCssClass(e)}),(function(e){return t.removeCssClass(e)}))},i.prototype.preProcessCellClassRules=function(){var t=[];return this.processCellClassRules((function(e){return t.push(e)}),(function(t){})),t},i.prototype.setUsingWrapper=function(){var t=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var e="function"===typeof t.checkboxSelection,i="function"===typeof t.rowDrag,n="function"===typeof t.dndSource;this.includeSelectionComponent=e||!0===t.checkboxSelection,this.includeRowDraggingComponent=i||!0===t.rowDrag,this.includeDndSourceComponent=n||!0===t.dndSource;var o=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=o||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},i.prototype.chooseCellRenderer=function(){var t=this.getComponentHolder();if(t.template||t.templateUrl)this.usingCellRenderer=!1;else{var e=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(t,"pinnedRowCellRenderer",e)?(this.cellRendererType=i.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(t,"cellRenderer",e)?(this.cellRendererType=i.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},i.prototype.createCellRendererInstance=function(t){var e=this;if(void 0===t&&(t=!1),this.usingCellRenderer){var n=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(n||o||this.autoHeightCell)&&(t=!1);var r=this.createCellRendererParams();this.cellRendererVersion++;var a=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),s=this.cellRendererType===i.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){e.createCellRendererFunc=null;var t=e.beans.userComponentFactory.newCellRenderer(e.getComponentHolder(),r,!s);t&&t.then(a)},t?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},i.prototype.afterCellRendererCreated=function(t,e){this.isAlive()&&t===this.cellRendererVersion?(this.cellRenderer=e,this.cellRendererGui=this.cellRenderer.getGui(),o(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(e)},i.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(e,i){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),t.rowComp&&t.rowComp.addEventListener(e,i)}}},i.prototype.formatValue=function(t){var e=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,t);return null!=e?e:t},i.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},i.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},i.prototype.getValue=function(){var t=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),e=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,i=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),n=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),o=e&&i&&!n;return this.beans.valueService.getValue(this.column,this.rowNode,!1,o)},i.prototype.onMouseEvent=function(t,e){if(!Rt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},i.prototype.dispatchCellContextMenuEvent=function(t){var e=this.getComponentHolder(),i=this.createEvent(t,jt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(i)}),0)},i.prototype.createEvent=function(t,e){var i={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,type:e,rowIndex:this.rowNode.rowIndex};return this.scope&&(i.$scope=this.scope),i},i.prototype.onMouseOut=function(t){var e=this.createEvent(t,jt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(t){var e=this.createEvent(t,jt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])},i.prototype.onCellDoubleClicked=function(t){var e=this.getComponentHolder(),i=this.createEvent(t,jt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"===typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(i)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},i.prototype.startRowOrCellEdit=function(t,e){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(t,e,this):this.startEditingIfEnabled(t,e,!0)},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.startEditingIfEnabled=function(t,e,i){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var n=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),r=this.createCellEditorParams(t,e,i);this.createCellEditor(r).then(n),o(this.cellEditor)&&i&&this.focusCell(!0)}},i.prototype.createCellEditor=function(t){var e=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),t).then((function(i){if(!(i.isPopup&&i.isPopup()))return i;e.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=new Ea(i);return e.beans.context.createBean(n),n.init(t),n}))},i.prototype.afterCellEditorCreated=function(t,e){if(t!==this.cellEditorVersion||!this.editingCell)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void(this.editingCell=!1);if(!e.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),e.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(e),void(this.editingCell=!1);this.cellEditor=e,this.cellEditorInPopup=void 0!==e.isPopup&&e.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),e.afterGuiAttached&&e.afterGuiAttached();var i=this.createEvent(null,jt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(i)}},i.prototype.addInCellEditor=function(){si(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},i.prototype.addPopupCellEditor=function(){var t=this,e=this.cellEditor?this.cellEditor.getGui():null,i=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:function(){t.onPopupEditorClosed()}});var n={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:e,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(n):this.beans.popupService.positionPopupOverComponent(n),this.angular1Compile()},i.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editingCell&&!this.cellEditorInPopup,e=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",t),this.addOrRemoveCssClass(Ha,!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e),Xe(this.getGui().parentNode,"ag-row-inline-editing",t),Xe(this.getGui().parentNode,"ag-row-not-inline-editing",!t)}},i.prototype.createCellEditorParams=function(t,e,i){return{value:this.getValue(),keyPress:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:i,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},i.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},i.prototype.parseValue=function(t){var e=this.getComponentHolder(),i={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=e.valueParser;return n(o)?this.beans.expressionService.evaluate(o,i):t},i.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,t)},i.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},i.prototype.isEditing=function(){return this.editingCell},i.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;switch(e){case qn.ENTER:this.onEnterKeyDown(t);break;case qn.F2:this.onF2KeyDown();break;case qn.ESCAPE:this.onEscapeKeyDown();break;case qn.TAB:this.onTabKeyDown(t);break;case qn.BACKSPACE:case qn.DELETE:this.onBackspaceOrDeleteKeyPressed(e);break;case qn.DOWN:case qn.UP:case qn.RIGHT:case qn.LEFT:this.onNavigationKeyPressed(t,e)}},i.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},i.prototype.onNavigationKeyPressed=function(t,e){this.editingCell||(t.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(e):this.beans.rowRenderer.navigateToNextCell(t,e,this.cellPosition,!0),t.preventDefault())},i.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeController){var e=this.beans.rangeController.extendLatestRangeInDirection(t);e&&this.beans.rowRenderer.ensureCellVisible(e)}},i.prototype.onTabKeyDown=function(t){this.beans.rowRenderer.onTabKeyDown(this,t)},i.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.editingCell||this.startRowOrCellEdit(t)},i.prototype.onEnterKeyDown=function(t){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,qn.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(qn.ENTER),this.editingCell&&t.preventDefault())},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,qn.DOWN,this.cellPosition,!1)},i.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(qn.F2)},i.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},i.prototype.onKeyPress=function(t){if(!(Dt(t)!==this.getGui())&&!this.editingCell){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):xn(t)&&(this.startRowOrCellEdit(null,e),t.preventDefault())}},i.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsWrapper;if(!this.editingCell&&e.isRowSelection()){var i=this.rowNode.isSelected(),n=!i;if(n||!e.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:t.shiftKey,groupSelectsFiltered:o});void 0===i&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o})}}t.preventDefault()},i.prototype.onMouseDown=function(t){var e=t.ctrlKey,i=t.metaKey,n=t.shiftKey,o=t.target,r=this.beans,a=r.eventService,s=r.rangeController;if(!this.isRightClickInExistingRange(t)){if(!n||s&&!s.getCellRanges().length){var l=(De()||ke())&&!this.editingCell;this.focusCell(l)}else s&&t.preventDefault();if(!this.containsWidget(o)){if(s){var u=this.cellPosition;if(n)s.extendLatestRangeToCell(u);else{var h=e||i;s.setRangeToCell(u,h)}}a.dispatchEvent(this.createEvent(t,jt.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeController;if(e&&(e.isCellInAnyRange(this.getCellPosition())&&2===t.button))return!0;return!1},i.prototype.containsWidget=function(t){return Je(t,"ag-selection-checkbox",3)},i.prototype.isDoubleClickOnIPad=function(){if(!Ne()||Ot("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},i.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,i=e.eventService,n=e.gridOptionsWrapper,o=this.createEvent(t,jt.EVENT_CELL_CLICKED);i.dispatchEvent(o);var r=this.getComponentHolder();r.onCellClicked&&window.setTimeout((function(){return r.onCellClicked(o)}),0),(n.isSingleClickEdit()||r.singleClickEdit)&&!n.isSuppressClickEdit()&&this.startRowOrCellEdit()},i.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.getParentRow=function(){return this.eParentRow},i.prototype.setParentRow=function(t){this.eParentRow=t},i.prototype.getColumn=function(){return this.column},i.prototype.getComponentHolder=function(){return this.column.getColDef()},i.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),t.prototype.destroy.call(this)},i.prototype.onLeftChanged=function(){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=t+"px",this.refreshAriaIndex()},i.prototype.modifyLeftForPrintLayout=function(t){return this.printLayout&&this.column.getPinned()!==mt.PINNED_LEFT?this.column.getPinned()===mt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},i.prototype.onWidthChanged=function(){var t=this.getCellWidth();this.getGui().style.width=t+"px"},i.prototype.getRangeBorders=function(){var t,e,i=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,r=!1,a=!1,s=!1,l=this.cellPosition.column,u=this.beans,h=u.rangeController,p=u.columnController;n?(t=p.getDisplayedColAfter(l),e=p.getDisplayedColBefore(l)):(t=p.getDisplayedColBefore(l),e=p.getDisplayedColAfter(l));var c=h.getCellRanges().filter((function(t){return h.isCellInSpecificRange(i.cellPosition,t)}));t||(s=!0),e||(r=!0);for(var d=0;d<c.length&&!(o&&r&&a&&s);d++){var f=c[d],g=h.getRangeStartRow(f),m=h.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(o=!0),!a&&this.beans.rowPositionUtils.sameRow(m,this.cellPosition)&&(a=!0),!s&&f.columns.indexOf(t)<0&&(s=!0),!r&&f.columns.indexOf(e)<0&&(r=!0)}return{top:o,right:r,bottom:a,left:s}},i.prototype.getInitialRangeClasses=function(){var t=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return t;t.push(za),this.hasChartRange&&t.push(Ua);var e=Math.min(this.rangeCount,4);if(t.push(za+"-"+e),this.isSingleCell()&&t.push(Ya),this.rangeCount>0){var i=this.getRangeBorders();i.top&&t.push(Ia),i.right&&t.push(La),i.bottom&&t.push(Na),i.left&&t.push(Va)}return this.selectionHandle&&t.push(Xa),t},i.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},i.prototype.onRangeSelectionChanged=function(){var t=this.beans.rangeController;if(t){var e=this.cellPosition,i=this.rangeCount,n=t.getCellRangeCount(e),o=this.getGui();i!==n&&(this.addOrRemoveCssClass(za,0!==n),this.addOrRemoveCssClass(za+"-1",1===n),this.addOrRemoveCssClass(za+"-2",2===n),this.addOrRemoveCssClass(za+"-3",3===n),this.addOrRemoveCssClass(za+"-4",n>=4),this.rangeCount=n),nn(o,this.rangeCount>0);var r=this.getHasChartRange();r!==this.hasChartRange&&(this.hasChartRange=r,this.addOrRemoveCssClass(Ua,this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass(Ya,this.isSingleCell()),this.refreshHandle()}},i.prototype.getHasChartRange=function(){var t=this.beans.rangeController;if(!this.rangeCount||!t)return!1;var i=t.getCellRanges();return i.length>0&&i.every((function(t){return w([e.CellRangeType.DIMENSION,e.CellRangeType.VALUE],t.type)}))},i.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,i=t.gridOptionsWrapper,n=t.rangeController,o=n.getCellRanges(),r=o.length;if(this.rangeCount<1||r<1)return!1;var a=g(o),s=this.getCellPosition(),l=1===r&&(i.isEnableFillHandle()||i.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var u=o[0].type===e.CellRangeType.DIMENSION&&n.isCellInSpecificRange(s,o[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",u),l=a.type===e.CellRangeType.VALUE}return l&&null!=a.endRow&&n.isContiguousRange(a)&&n.isBottomRightCell(a,s)},i.prototype.addSelectionHandle=function(){var t=this.beans,i=t.gridOptionsWrapper,n=(t.context,g(t.rangeController.getCellRanges()).type),r=i.isEnableFillHandle()&&o(n)?e.SelectionHandleType.FILL:e.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this)},i.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},i.prototype.refreshHandle=function(){if(this.beans.rangeController){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.addOrRemoveCssClass(Xa,!!this.selectionHandle)}},i.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,n=!e&&t.right,o=!e&&t.bottom,r=!e&&t.left;this.addOrRemoveCssClass(Ia,i),this.addOrRemoveCssClass(La,n),this.addOrRemoveCssClass(Na,o),this.addOrRemoveCssClass(Va,r)},i.prototype.onFirstRightPinnedChanged=function(){var t=this.column.isFirstRightPinned();this.firstRightPinned!==t&&(this.firstRightPinned=t,this.addOrRemoveCssClass(Wa,t))},i.prototype.onLastLeftPinnedChanged=function(){var t=this.column.isLastLeftPinned();this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.addOrRemoveCssClass(Ga,t))},i.prototype.populateTemplate=function(){this.usingWrapper?(this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eCellValue=this.getGui()},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.addRowDragging=function(){var t=this,e=this.beans.gridOptionsWrapper.isPagination(),i=this.beans.gridOptionsWrapper.isRowDragManaged(),n=this.beans.gridOptionsWrapper.isRowModelDefault();if(i){if(!n)return void X((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(e)return void X((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var o=new ya(this.rowNode,this.column,(function(){return t.value}),this.beans);this.createManagedBean(o,this.beans.context),this.eCellWrapper.insertBefore(o.getGui(),this.eCellValue)},i.prototype.addDndSource=function(){var t=new Ta(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(t,this.beans.context),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue)},i.prototype.addSelectionCheckbox=function(){var t=this,e=new Mo;this.beans.context.createBean(e);var i=this.getComponentHolder().checkboxSelection;i="function"===typeof i?i:null,e.init({rowNode:this.rowNode,column:this.column,visibleFunc:i}),this.addDestroyFunc((function(){return t.beans.context.destroyBean(e)})),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},i.prototype.addDomData=function(){var t=this,e=this.getGui();this.beans.gridOptionsWrapper.setDomData(e,i.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return t.beans.gridOptionsWrapper.setDomData(e,i.DOM_DATA_KEY_CELL_COMP,null)}))},i.prototype.isSingleCell=function(){var t=this.beans.rangeController;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},i.prototype.onCellFocused=function(t){var e=this.beans.focusController.isCellFocused(this.cellPosition);e!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass(Ba,e),this.cellFocused=e);if(e&&t&&t.forceBrowserFocus){var i=this.getFocusableElement();i.focus(),document.activeElement&&document.activeElement!==document.body||i.focus()}var n=this.beans.gridOptionsWrapper.isFullRowEdit();e||n||!this.editingCell||this.stopRowOrCellEdit()},i.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(t):this.stopEditing(t)},i.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editingCell)if(this.cellEditor){var e,i=this.getValue(),n=!1;if(!t)this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(e=this.cellEditor.getValue(),n=!0);if(this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(si(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var o=this.cellRendererGui;o&&this.getGui().appendChild(o)}this.setInlineEditingClass(),this.refreshHandle(),n&&e!==i&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,e),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var r=ka(ka({},this.createEvent(null,jt.EVENT_CELL_EDITING_STOPPED)),{oldValue:i,newValue:e});this.beans.eventService.dispatchEvent(r)}else this.editingCell=!1},i.DOM_DATA_KEY_CELL_COMP="cellComp",i.CELL_RENDERER_TYPE_NORMAL="cellRenderer",i.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",i}(Bn),Ka=function(){return(Ka=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qa=function(){function t(){}return t.createChildScopeOrNull=function(t,e,i){if(!i.isAngularCompileRows())return null;var n=e.$new();n.data=Ka({},t.data),n.rowNode=t,n.context=i.getContext();return{scope:n,scopeDestroyFunc:function(){n.$destroy(),n.data=null,n.rowNode=null,n.context=null}}},t}(),$a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ja=function(t){function i(e,i,n,o,r,a,s,l,u,h,p){var c=t.call(this)||this;return c.eAllRowContainers=[],c.fullWidthRowDestroyFuncs=[],c.active=!0,c.rowContainerReadyCount=0,c.refreshNeeded=!1,c.columnRefreshPending=!1,c.cellComps={},c.createSecondPassFuncs=[],c.removeFirstPassFuncs=[],c.removeSecondPassFuncs=[],c.initialised=!1,c.elementOrderChanged=!1,c.lastMouseDownOnDragger=!1,c.parentScope=e,c.beans=s,c.bodyContainerComp=i,c.pinnedLeftContainerComp=n,c.pinnedRightContainerComp=o,c.fullWidthContainerComp=r,c.rowNode=a,c.rowIsEven=c.rowNode.rowIndex%2===0,c.paginationPage=c.beans.paginationProxy.getCurrentPage(),c.useAnimationFrameForCreate=u,c.printLayout=h,c.embedFullWidth=p,c.setAnimateFlags(l),c}return $a(i,t),i.prototype.init=function(){var t=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){t.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){t.eAllRowContainers.forEach((function(t){return Ye(t,"ag-opacity-zero")}))}))},i.prototype.setupAngular1Scope=function(){var t=Qa.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);t&&(this.scope=t.scope,this.addDestroyFunc(t.scopeDestroyFunc))},i.prototype.createTemplate=function(t,e){void 0===e&&(e=null);var i=[],n=this.rowNode.rowHeight,o=this.getInitialRowClasses(e).join(" "),r=Qt(this.rowNode.id),a=this.preProcessStylesFromGridOptions(),s=this.getRowBusinessKey(),l=Qt(s),u=this.getInitialRowTopStyle(),h=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return i.push("<div"),i.push(' role="row"'),i.push(' row-index="'+h+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),i.push(r?' row-id="'+r+'"':""),i.push(s?' row-business-key="'+l+'"':""),i.push(' comp-id="'+this.getCompId()+'"'),i.push(' class="'+o+'"'),this.beans.gridOptionsWrapper.isRowSelection()&&i.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&i.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),i.push(' style="height: '+n+"px; "+u+" "+a+'">'),i.push(t),i.push("</div>"),i.join("")},i.prototype.getCellForCol=function(t){var e=this.cellComps[t.getColId()];return e?e.getGui():null},i.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},i.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},i.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,e=this.applyPaginationOffset(t),i=this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+i+"px; ":"transform: translateY("+i+"px);"},i.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof t)return t(this.rowNode)},i.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},i.prototype.lazyCreateCells=function(t,e){if(this.active){var i=this.createCells(t);e.innerHTML=i.template,this.callAfterRowAttachedOnCells(i.cellComps,e),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},i.prototype.createRowContainer=function(t,e,i){var n=this,o=this.useAnimationFrameForCreate,r=o?{cellComps:[],template:""}:this.createCells(e),a=this.createTemplate(r.template);t.appendRowTemplate(a,(function(){var a=t.getRowElement(n.getCompId());n.refreshAriaLabel(a,n.rowNode.isSelected()),n.afterRowAttached(t,a),i(a),o?n.beans.taskQueue.createTask(n.lazyCreateCells.bind(n,e,a),n.rowNode.rowIndex,"createTasksP1"):(n.callAfterRowAttachedOnCells(r.cellComps,a),n.rowContainerReadyCount=3)}))},i.prototype.setupRowContainers=function(){var t=this.rowNode.isFullWidthCell(),e=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(n);this.rowNode.stub?this.createFullWidthRows(i.LOADING_CELL_RENDERER,i.LOADING_CELL_RENDERER_COMP_NAME,!1):e?this.createFullWidthRows(i.DETAIL_CELL_RENDERER,i.DETAIL_CELL_RENDERER_COMP_NAME,!0):t?this.createFullWidthRows(i.FULL_WIDTH_CELL_RENDERER,null,!1):o?this.createFullWidthRows(i.GROUP_ROW_RENDERER,i.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},i.prototype.setupNormalRowContainers=function(){var t,e=this,i=[],n=[];this.printLayout?t=this.beans.columnController.getAllDisplayedColumns():(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),i=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,t,(function(t){return e.eBodyRow=t})),this.createRowContainer(this.pinnedRightContainerComp,n,(function(t){return e.ePinnedRightRow=t})),this.createRowContainer(this.pinnedLeftContainerComp,i,(function(t){return e.ePinnedLeftRow=t}))},i.prototype.createFullWidthRows=function(t,e,i){var n=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,t,e,(function(t){n.eFullWidthRowBody=t}),(function(t){n.fullWidthRowComponentBody=t}),i),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,mt.PINNED_LEFT,"ag-cell-last-left-pinned",t,e,(function(t){n.eFullWidthRowLeft=t}),(function(t){n.fullWidthRowComponentLeft=t}),i),this.createFullWidthRowContainer(this.pinnedRightContainerComp,mt.PINNED_RIGHT,"ag-cell-first-right-pinned",t,e,(function(t){n.eFullWidthRowRight=t}),(function(t){n.fullWidthRowComponentRight=t}),i)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,t,e,(function(t){n.eFullWidthRow=t}),(function(t){n.fullWidthRowComponent=t}),i)},i.prototype.setAnimateFlags=function(t){if(t){var e=n(this.rowNode.oldRowTop);this.slideRowIn=e,this.fadeRowIn=!e}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(t){this.stopEditing(t)},i.prototype.isFullWidth=function(){return this.fullWidthRow},i.prototype.refreshFullWidth=function(){var t=this,e=function(e,i,n){if(!e||!i)return!0;if(!i.refresh)return!1;var o=t.createFullWidthParams(e,n);return i.refresh(o)},i=e(this.eFullWidthRow,this.fullWidthRowComponent,null),n=e(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=e(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,mt.PINNED_LEFT),r=e(this.eFullWidthRowRight,this.fullWidthRowComponentRight,mt.PINNED_RIGHT);return i&&n&&o&&r},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,So.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,jt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,jt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,jt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,jt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(t,jt.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,jt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,jt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,jt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,So.EVENT_ROW_INDEX_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,(function(e){t.forEachCellComp((function(t){return t.onCellChanged(e)}))}))},i.prototype.onRowNodeDataChanged=function(t){this.forEachCellComp((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.eAllRowContainers.forEach((function(e){Ye(e,"ag-row-highlight-above"),Ye(e,"ag-row-highlight-below"),t&&Ue(e,"ag-row-highlight-"+t)}))},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.eAllRowContainers.forEach((function(e){return Xe(e,"ag-row-dragging",t)}))},i.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.eAllRowContainers.forEach((function(i){Xe(i,"ag-row-group",t),Xe(i,"ag-row-group-expanded",t&&e),Xe(i,"ag-row-group-contracted",t&&!e),ji(i,t&&e)}))},i.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},i.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach((function(t){return t()})),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,mt.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,mt.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},i.prototype.getContainerForCell=function(t){switch(t){case mt.PINNED_LEFT:return this.ePinnedLeftRow;case mt.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},i.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},i.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},i.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},i.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var t,e,i;this.columnRefreshPending=!1,this.printLayout?(t=this.beans.columnController.getAllDisplayedColumns(),e=[],i=[]):(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),e=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),i=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,t),this.insertCellsIntoContainer(this.ePinnedLeftRow,e),this.insertCellsIntoContainer(this.ePinnedRightRow,i),this.elementOrderChanged=!1;var n=Object.keys(this.cellComps);t.forEach((function(t){return v(n,t.getId())})),e.forEach((function(t){return v(n,t.getId())})),i.forEach((function(t){return v(n,t.getId())}));var o=n.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(o)}},i.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},i.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){var i=e.cellComps[t];o(i)||(i.detach(),i.destroy(),e.cellComps[t]=null)}))},i.prototype.isCellEligibleToBeRemoved=function(t){var e=this.beans.columnController.getAllDisplayedColumns(),i=!0,n=this.cellComps[t];if(!n||this.isCellInWrongRow(n))return i;var o=n.isEditing(),r=this.beans.focusController.isCellFocused(n.getCellPosition());if(o||r){var a=n.getColumn();return!(e.indexOf(a)>=0)&&i}return i},i.prototype.ensureCellInCorrectContainer=function(t){if(!this.printLayout){var e=t.getGui(),i=t.getColumn().getPinned(),n=this.getContainerForCell(i),o=t.getParentRow();o!==n&&(o&&o.removeChild(e),n.appendChild(e),t.setParentRow(n),this.elementOrderChanged=!0)}},i.prototype.isCellInWrongRow=function(t){var e=t.getColumn(),i=this.getContainerForCell(e.getPinned());return t.getParentRow()!==i},i.prototype.insertCellsIntoContainer=function(t,e){var i=this;if(t){var n=[],o=[];if(e.forEach((function(e){var r=e.getId(),a=i.cellComps[r];a&&a.getColumn()==e?i.ensureCellInCorrectContainer(a):(a&&i.destroyCells([r]),i.createNewCell(e,t,n,o))})),n.length>0&&(pi(t,n.join("")),this.callAfterRowAttachedOnCells(o,t)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var r=e.map((function(t){return i.getCellForCol(t)}));gi(t,r)}}},i.prototype.addDomData=function(t){var e=this.beans.gridOptionsWrapper;e.setDomData(t,i.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){e.setDomData(t,i.DOM_DATA_KEY_RENDERED_ROW,null)}))},i.prototype.createNewCell=function(t,e,i,n){var o=new qa(this.scope,this.beans,t,this.rowNode,this,!1,this.printLayout),r=o.getCreateTemplate();i.push(r),n.push(o),this.cellComps[t.getId()]=o,o.setParentRow(e),this.elementOrderChanged=!0},i.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"mousedown":this.onRowMouseDown(e)}},i.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:e}},i.prototype.createRowEventWithSource=function(t,e){var i=this.createRowEvent(t,e);return i.source=this,i},i.prototype.onRowDblClick=function(t){if(!Rt(t)){var e=this.createRowEventWithSource(jt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},i.prototype.onRowMouseDown=function(t){this.lastMouseDownOnDragger=Je(t.target,"ag-row-drag",3)},i.prototype.onRowClick=function(t){if(!(Rt(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource(jt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var i=t.ctrlKey||t.metaKey,n=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1}):i?r&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0});else{var a=!o&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:n})}}}},i.prototype.createFullWidthRowContainer=function(t,i,n,o,r,a,s,l){var u=this,h=this.createTemplate("",n);t.appendRowTemplate(h,(function(){var n=t.getRowElement(u.getCompId()),h=u.createFullWidthParams(n,i),p=function(t){if(u.isAlive()){var e=t.getGui();n.appendChild(e),l&&u.setupDetailRowAutoHeight(e),s(t)}else u.beans.context.destroyBean(t)},c=u.beans.detailRowCompCache.get(u.rowNode,i);if(c)p(c);else{var d=u.beans.userComponentFactory.newFullWidthCellRenderer(h,o,r);if(!d){var f=yt.isRegistered(e.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==r||f?console.error("ag-Grid: fullWidthCellRenderer "+r+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(p)}u.afterRowAttached(t,n),a(n),u.angular1Compile(n)}))},i.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var i=function(){var i=t.clientHeight;if(null!=i&&i>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(i),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},n=this.beans.resizeObserverService.observeResize(t,i);this.fullWidthRowDestroyFuncs.push(n),i()}},i.prototype.angular1Compile=function(t){this.scope&&this.beans.$compile(t)(this.scope)},i.prototype.createFullWidthParams=function(t,e){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this)}},i.prototype.getInitialRowClasses=function(t){var e={rowNode:this.rowNode,extraCssClass:t,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(e)},i.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach((function(t){Ue(t,e),Ye(t,i)}))}this.rowLevel=t},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.eAllRowContainers.forEach((function(e){return Xe(e,"ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.eAllRowContainers.forEach((function(t){return Xe(t,"ag-row-last",e)})))},i.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.forEachCellComp((function(e){e.stopEditing(t)})),this.editingRow){if(!t){var e=this.createRowEvent(jt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}this.setEditingRow(!1)}},i.prototype.setEditingRow=function(t){this.editingRow=t,this.eAllRowContainers.forEach((function(e){return Xe(e,"ag-row-editing",t)}));var e=t?this.createRowEvent(jt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(jt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},i.prototype.startRowEditing=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),this.editingRow||(this.forEachCellComp((function(n){var o=n===i;o?n.startEditingIfEnabled(t,e,o):n.startEditingIfEnabled(null,null,o)})),this.setEditingRow(!0))},i.prototype.forEachCellComp=function(t){A(this.cellComps,(function(e,i){i&&t(i)}))},i.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.eAllRowContainers.forEach((function(t){return Ue(t,e)}))}))},i.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,(function(e){t.eAllRowContainers.forEach((function(t){return Ue(t,e)}))}),(function(e){t.eAllRowContainers.forEach((function(t){return Ye(t,e)}))}))},i.prototype.preProcessStylesFromGridOptions=function(){return Di(this.processStylesFromGridOptions())},i.prototype.postProcessStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(e){return yi(e,t)}))},i.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!==typeof t){var e,i=this.beans.gridOptionsWrapper.getRowStyleFunc();if(i)e=i({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope});return B({},t,e)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.createCells=function(t){var e=this,i=[],n=[];return t.forEach((function(t){var o=new qa(e.scope,e.beans,t,e.rowNode,e,!1,e.printLayout),r=o.getCreateTemplate();i.push(r),n.push(o),e.cellComps[t.getId()]=o})),{template:i.join(""),cellComps:n}},i.prototype.onRowSelected=function(){var t=this,e=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(i){nn(i,e),Xe(i,"ag-row-selected",e),t.refreshAriaLabel(i,e)}))},i.prototype.refreshAriaLabel=function(t,e){e&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?t.removeAttribute("aria-label"):Wi(t,"Press SPACE to "+(e?"deselect":"select")+" this row.")},i.prototype.callAfterRowAttachedOnCells=function(t,e){var i=this;t.forEach((function(t){t.setParentRow(e),t.afterAttached(),i.editingRow&&t.startEditingIfEnabled()}))},i.prototype.afterRowAttached=function(t,e){var i=this;this.addDomData(e),this.removeSecondPassFuncs.push((function(){t.removeRowElement(e)})),this.removeFirstPassFuncs.push((function(){if(n(i.rowNode.rowTop)){var t=i.roundRowTopToBounds(i.rowNode.rowTop);i.setRowTop(t)}else Ue(e,"ag-opacity-zero")})),this.eAllRowContainers.push(e),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e)},i.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,So.EVENT_MOUSE_ENTER,(function(){e.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Ue(t,"ag-row-hover")})),this.addManagedListener(this.rowNode,So.EVENT_MOUSE_LEAVE,(function(){Ye(t,"ag-row-hover")})))},i.prototype.roundRowTopToBounds=function(t){var e=this.beans.gridPanel.getVScrollPosition(),i=this.applyPaginationOffset(e.top,!0)-100,n=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(i,t),n)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(n(this.rowNode.rowHeight)){var t=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(e){return e.style.height=t}))}},i.prototype.addEventListener=function(e,i){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=jt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+jt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.addEventListener.call(this,e,i)},i.prototype.removeEventListener=function(e,i){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=jt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+jt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.removeEventListener.call(this,e,i)},i.prototype.destroy=function(e){(void 0===e&&(e=!1),this.active=!1,this.destroyFullWidthComponents(),e)?(this.removeFirstPassFuncs.forEach((function(t){return t()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(t){return t()})));var i=this.createRowEvent(jt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),t.prototype.destroy.call(this)},i.prototype.destroyContainingCells=function(){var t=Object.keys(this.cellComps);this.destroyCells(t)},i.prototype.getAndClearDelayedDestroyFunctions=function(){var t=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],t},i.prototype.onCellFocusChanged=function(){var t=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.eAllRowContainers.forEach((function(e){return Xe(e,"ag-row-focus",t)})),this.eAllRowContainers.forEach((function(e){return Xe(e,"ag-row-no-focus",!t)})),this.rowFocused=t),!t&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged())},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},i.prototype.setRowTop=function(t){if(!this.printLayout&&n(t)){var e=this.applyPaginationOffset(t),i=(this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(t){return t.style.top=i})):this.eAllRowContainers.forEach((function(t){return t.style.transform="translateY("+i+")"}))}},i.prototype.getAndClearNextVMTurnFunctions=function(){var t=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],t},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getRenderedCellForColumn=function(t){var e=this,i=this.cellComps[t.getColId()];if(i)return i;var n=Object.keys(this.cellComps).map((function(t){return e.cellComps[t]})).filter((function(e){return e&&-1!==e.getColSpanningList().indexOf(t)}));return n.length?n[0]:void 0},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},i.prototype.updateRowIndexes=function(){var t=this,e=this.rowNode.getRowIndexString(),i=this.rowNode.rowIndex%2===0,n=this.rowIsEven!==i,o=this.beans.headerNavigationService.getHeaderRowCount();n&&(this.rowIsEven=i),this.eAllRowContainers.forEach((function(r){r.setAttribute("row-index",e),Qi(r,o+t.rowNode.rowIndex+1),n&&(Xe(r,"ag-row-even",i),Xe(r,"ag-row-odd",!i))}))},i.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(t){t.el&&t.ct.ensureDomOrder(t.el)}))},i.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},i.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},i.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},i.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},i.DOM_DATA_KEY_RENDERED_ROW="renderedRow",i.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",i.GROUP_ROW_RENDERER="groupRowRenderer",i.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",i.LOADING_CELL_RENDERER="loadingCellRenderer",i.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",i.DETAIL_CELL_RENDERER="detailCellRenderer",i.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",i}(Bn),Za=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ts=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},es=function(t,e){return function(i,n){e(i,n,t)}},is=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCompsByIndex={},e.floatingTopRowComps=[],e.floatingBottomRowComps=[],e.refreshInProgress=!1,e}return Za(e,t),e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getGridCore=function(){return this.gridCore},e.prototype.agWire=function(t){this.logger=t.create("RowRenderer")},e.prototype.registerGridComp=function(t){this.gridPanel=t,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,jt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_CELL_FOCUSED,(function(e){t.forEachCellComp((function(t){return t.onCellFocused(e)}))})),this.addManagedListener(this.eventService,jt.EVENT_FLASH_CELLS,(function(e){t.forEachCellComp((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_HOVER_CHANGED,(function(){t.forEachCellComp((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.forEachCellComp((function(t){return t.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,jt.EVENT_RANGE_SELECTION_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_MOVED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PINNED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_VISIBLE,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,jt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnController.getAllGridColumns();e&&e.forEach((function(e){var i=function(i){t.forEachCellComp((function(t){t.getColumn()===e&&i(t)}))},n=function(){i((function(t){return t.onLeftChanged()}))},o=function(){i((function(t){return t.onWidthChanged()}))},r=function(){i((function(t){return t.onFirstRightPinnedChanged()}))},a=function(){i((function(t){return t.onLastLeftPinnedChanged()}))};e.addEventListener(Ct.EVENT_LEFT_CHANGED,n),e.addEventListener(Ct.EVENT_WIDTH_CHANGED,o),e.addEventListener(Ct.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),e.addEventListener(Ct.EVENT_LAST_LEFT_PINNED_CHANGED,a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener(Ct.EVENT_LEFT_CHANGED,n),e.removeEventListener(Ct.EVENT_WIDTH_CHANGED,o),e.removeEventListener(Ct.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),e.removeEventListener(Ct.EVENT_LAST_LEFT_PINNED_CHANGED,a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT,e=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t)},e.prototype.onPageLoaded=function(t){o(t)&&(t={type:jt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(t)},e.prototype.getAllCellsForColumn=function(t){var e=[];function i(i,n){var o=n.getCellForCol(t);o&&e.push(o)}return A(this.rowCompsByIndex,i),A(this.floatingBottomRowComps,i),A(this.floatingTopRowComps,i),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},e.prototype.refreshFloatingRows=function(t,e,i,n,o,r){var a=this;t.forEach((function(t){t.destroy()})),t.length=0,e&&e.forEach((function(e){var s=new Ja(a.$scope,o,i,n,r,e,a.beans,!1,!1,a.printLayout,a.embedFullWidthRows);s.init(),t.push(s)})),this.flushContainers(t)},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.onModelUpdated=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return o(t)||A(this.rowCompsByIndex,(function(i,n){var o=n.getRowNode();t.indexOf(o)>=0&&e.push(i)})),e},e.prototype.redrawRows=function(t){if(t&&0!=t.length){var e=this.getRenderedIndexesForRowNodes(t);this.removeRowComps(e),this.redrawAfterModelUpdate({recycleRows:!0})}},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=t.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(o(e))return null;var i=document.activeElement;return o(this.gridOptionsWrapper.getDomData(i,qa.DOM_DATA_KEY_CELL_COMP))?null:e},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(t);var i=!this.printLayout&&t.recycleRows,n=t.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(i),r=function(){if(null==e||null==o)return!1;var t=!1;return A(o,(function(i,n){var o=n.getRowNode(),r=o.rowIndex==e.rowIndex,a=o.rowPinned==e.rowPinned;r&&a&&(t=!0)})),t}();this.redraw(o,n),t.onlyBody||this.refreshFloatingRowComps(),r||this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,i=this.gridOptionsWrapper.isSuppressScrollOnNewData();e&&!i&&this.gridPanel.scrollToTop()},e.prototype.sizeContainerToPageHeight=function(){var t=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)t.forEach((function(t){return t.setHeight(null)}));else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.maxDivHeightScaler.setModelHeight(e);var i=this.maxDivHeightScaler.getUiContainerHeight();t.forEach((function(t){return t.setHeight(i)}))}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.restoreFocusedCell=function(t){t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.forEachRowComp((function(e,i){i.stopEditing(t)}))},e.prototype.forEachCellComp=function(t){this.forEachRowComp((function(e,i){return i.forEachCellComp(t)}))},e.prototype.forEachRowComp=function(t){A(this.rowCompsByIndex,t),A(this.floatingTopRowComps,t),A(this.floatingBottomRowComps,t)},e.prototype.addRenderedRowListener=function(t,e,i){var n=this.rowCompsByIndex[e];n&&n.addEventListener(t,i)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,i=t.fadeDelay;this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.flashCell({flashDelay:e,fadeDelay:i})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.refreshCell(e)}))},e.prototype.getCellRendererInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var i=t.getCellRenderer();i&&e.push(i)})),e},e.prototype.getCellEditorInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var i=t.getCellEditor();i&&e.push(i)})),e},e.prototype.getEditingCells=function(){var t=[];return this.forEachCellComp((function(e){if(e.isEditing()){var i=e.getCellPosition();t.push(i)}})),t},e.prototype.forEachCellCompFiltered=function(t,e,i){var o,r,a=this;n(t)&&(o={top:{},bottom:{},normal:{}},t.forEach((function(t){t.rowPinned===mt.PINNED_TOP?o.top[t.id]=!0:t.rowPinned===mt.PINNED_BOTTOM?o.bottom[t.id]=!0:o.normal[t.id]=!0}))),n(e)&&(r={},e.forEach((function(t){var e=a.columnController.getGridColumn(t);n(e)&&(r[e.getId()]=!0)})));var s=function(t){var e=t.getRowNode(),a=e.id,s=e.rowPinned;if(n(o))if(s===mt.PINNED_BOTTOM){if(!o.bottom[a])return}else if(s===mt.PINNED_TOP){if(!o.top[a])return}else if(!o.normal[a])return;t.forEachCellComp((function(t){var e=t.getColumn().getId();r&&!r[e]||i(t)}))};A(this.rowCompsByIndex,(function(t,e){s(e)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},e.prototype.destroy=function(){var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e),t.prototype.destroy.call(this)},e.prototype.binRowComps=function(t){var e,i=this,o={};return t?(e=[],A(this.rowCompsByIndex,(function(t,r){var a=r.getRowNode();n(a.id)?(o[a.id]=r,delete i.rowCompsByIndex[t]):e.push(t)}))):e=Object.keys(this.rowCompsByIndex),this.removeRowComps(e),o},e.prototype.removeRowComps=function(t){var e=this;t.forEach((function(t){e.rowCompsByIndex[t].destroy(),delete e.rowCompsByIndex[t]}))},e.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var i=Object.keys(this.rowCompsByIndex).filter((function(t){return!e[t]}));this.removeRowComps(i)},e.prototype.calculateIndexesToDraw=function(t){var e=this,i=re(this.firstRenderedRow,this.lastRenderedRow),n=function(t,n){var o=Number(t);(o<e.firstRenderedRow||o>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(n)&&i.push(o)};return A(this.rowCompsByIndex,n),A(t,n),i.sort((function(t,e){return t-e})),i},e.prototype.redraw=function(t,e,i){var o=this;void 0===e&&(e=!1),void 0===i&&(i=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var r=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(r),this.printLayout&&(e=!1);var a=[],s=[];r.forEach((function(r){var l=o.createOrUpdateRowComp(r,t,e,i);n(l)&&(s.push(l),E(a,l.getAndClearNextVMTurnFunctions()))})),this.flushContainers(s),$(a),i&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,t,e)):this.destroyRowComps(t,e),this.checkAngularCompile(),this.gridPanel.updateRowCount()},e.prototype.flushContainers=function(t){A(this.rowContainers,(function(t,e){e&&e.flushRowTemplates()})),t.forEach((function(t){return t.afterFlush()}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnController.isPinningLeft(),e=this.columnController.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];A(this.rowCompsByIndex,(function(e,i){if(i.isFullWidth()){var n=i.getRowNode().rowIndex;t.push(n.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(t),this.redrawAfterScroll()},e.prototype.refreshFullWidthRows=function(t){var e=[],i=!!t,n=i?{}:void 0;i&&t.forEach((function(t){return n[t.id]=!0})),A(this.rowCompsByIndex,(function(t,o){if(o.isFullWidth()){var r=o.getRowNode();if(i){var a=r.level>0&&r.parent?r.parent.id:void 0;if(!n[r.id]&&!n[a])return}if(!o.refreshFullWidth()){var s=o.getRowNode().rowIndex;e.push(s.toString())}}})),this.removeRowComps(e),this.redrawAfterScroll()},e.prototype.createOrUpdateRowComp=function(t,e,i,o){var r,a=this.rowCompsByIndex[t];if(a||n(r=this.paginationProxy.getRow(t))&&n(e)&&e[r.id]&&r.alreadyRendered&&(a=e[r.id],e[r.id]=null),!a){if(r||(r=this.paginationProxy.getRow(t)),!n(r))return;a=this.createRowComp(r,i,o)}else a.ensureDomOrder();return r&&(r.alreadyRendered=!0),this.rowCompsByIndex[t]=a,a},e.prototype.destroyRowComps=function(t,e){var i=[];A(t,(function(t,n){n&&(n.destroy(e),E(i,n.getAndClearDelayedDestroyFunctions()))})),Q(i)},e.prototype.checkAngularCompile=function(){var t=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){t.$scope.$apply()}),0)},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e,i=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var n=this.paginationProxy.getPixelOffset(),o=this.maxDivHeightScaler.getOffset(),r=this.gridPanel.getVScrollPosition(),a=r.top,s=r.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),u=a+n+o-l,h=s+n+o+l;this.ensureAllRowsInRangeHaveHeightsCalculated(u,h);var p=this.paginationProxy.getRowIndexAtPixel(u),c=this.paginationProxy.getRowIndexAtPixel(h),d=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<d&&(p=d),c>f&&(c=f),t=p,e=c}else t=0,e=-1;var g=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_NORMAL,m=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),y=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);g&&!m&&e-t>y&&(e=t+y);var v=t!==this.firstRenderedRow,C=e!==this.lastRenderedRow;if(v||C){this.firstRenderedRow=t,this.lastRenderedRow=e;var x={type:jt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(x)}if(this.paginationProxy.isRowsToRender()){var b={type:jt.EVENT_FIRST_DATA_RENDERED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return i.eventService.dispatchEventOnce(b)}),50)}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),i=this.focusController.isRowNodeFocused(e),n=t.isEditing(),o=e.detail;return!!(i||n||o)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowComp=function(t,e,i){var n=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=i&&!n&&!this.printLayout,r=new Ja(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,t,this.beans,e,o,this.printLayout,this.embedFullWidthRows);return r.init(),r},e.prototype.getRenderedNodes=function(){var t=this.rowCompsByIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.navigateToNextCell=function(t,e,i,r){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsWrapper.isEnableRtl()?e===qn.LEFT&&(a=this.getLastCellOfColSpan(a)):e===qn.RIGHT&&(a=this.getLastCellOfColSpan(a)),s=o(a=this.cellNavigationService.getNextCellToFocus(e,a));if(s&&t&&t.keyCode===qn.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),r){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(n(l)){var u=l({key:e,previousCellPosition:i,nextCellPosition:a||null,event:t});n(u)?(u.floating&&(X((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),u.rowPinned=u.floating),a={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):a=null}}if(a)if(a.rowIndex<0){var h=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:h+a.rowIndex,column:i.column})}else{this.ensureCellVisible(a);var p=this.getComponentForCell(a);p&&(a=p.getCellPosition(),this.ensureCellVisible(a),this.focusController.setFocusedCell(a.rowIndex,a.column,a.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(a))}},e.prototype.isValidNavigateCell=function(t){var e=this.rowPositionUtils.getRowNode(t);if(e.detail||e.isFullWidthCell())return!1;if(!e.group)return!0;var i=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(i)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getComponentForCell(t);if(!e)return t;var i=e.getColSpanningList();return 1===i.length?t:{rowIndex:t.rowIndex,column:g(i),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){o(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridPanel.ensureColumnVisible(t.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},e.prototype.startEditingCell=function(t,e,i){var n=this.getComponentForCell(t);n&&n.startRowOrCellEdit(e,i)},e.prototype.getComponentForCell=function(t){var e;switch(t.rowPinned){case mt.PINNED_TOP:e=this.floatingTopRowComps[t.rowIndex];break;case mt.PINNED_BOTTOM:e=this.floatingBottomRowComps[t.rowIndex];break;default:e=this.rowCompsByIndex[t.rowIndex]}return e?e.getRenderedCellForColumn(t.column):null},e.prototype.getRowNode=function(t){switch(t.rowPinned){case mt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case mt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.onTabKeyDown=function(t,e){var i=e.shiftKey;if(this.moveToCellAfter(t,i))e.preventDefault();else if(i){var n=t.getCellPosition(),o=n.rowIndex;if(n.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow()){e.preventDefault();var r=this.beans.headerNavigationService.getHeaderRowCount()-1,a=g(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:r,column:a})}}else t.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&e.preventDefault()},e.prototype.tabToNextCell=function(t){var e=this.focusController.getFocusedCell();if(o(e))return!1;var i=this.getComponentForCell(e);return!o(i)&&this.moveToCellAfter(i,t)},e.prototype.moveToCellAfter=function(t,e){return(t.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,e):this.moveToNextEditingCell(t,e):this.moveToNextCellNotEditing(t,e))||!!this.focusController.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e){var i=t.getCellPosition();t.stopEditing();var o=this.findNextCellToFocusOn(i,e,!0),r=n(o);return r&&(o.startEditingIfEnabled(null,null,!0),o.focusCell(!1)),r},e.prototype.moveToNextEditingRow=function(t,e){var i=t.getCellPosition(),o=this.findNextCellToFocusOn(i,e,!0),r=n(o);return r&&this.moveEditToNextCellOrRow(t,o),r},e.prototype.moveToNextCellNotEditing=function(t,e){var i=t.getCellPosition(),o=this.findNextCellToFocusOn(i,e,!1),r=n(o);return r&&o.focusCell(!0),r},e.prototype.moveEditToNextCellOrRow=function(t,e){var i=t.getCellPosition(),n=e.getCellPosition();if(i.rowIndex===n.rowIndex&&i.rowPinned===n.rowPinned)t.setFocusOutOnEditor(),e.setFocusInOnEditor();else{var o=t.getRenderedRow(),r=e.getRenderedRow();t.setFocusOutOnEditor(),o.stopEditing(),r.startRowEditing(),e.setFocusInOnEditor()}e.focusCell()},e.prototype.findNextCellToFocusOn=function(t,e,i){for(var r=t;;){e||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,e);var a=this.gridOptionsWrapper.getTabToNextCellFunc();if(n(a)){var s=a({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:r||null});n(s)?(s.floating&&(X((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),r={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):r=null}if(!r)return null;if(r.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:l+r.rowIndex,column:r.column}),null}if(i){var u=this.lookupRowNodeForCell(r);if(!r.column.isCellEditable(u))continue}o(r.rowPinned)&&this.gridPanel.ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridPanel.ensureColumnVisible(r.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var h=this.getComponentForCell(r);if(!o(h)&&!h.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(r),h}},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===mt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===mt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},ts([st("paginationProxy")],e.prototype,"paginationProxy",void 0),ts([st("columnController")],e.prototype,"columnController",void 0),ts([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ts([st("$scope")],e.prototype,"$scope",void 0),ts([st("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ts([st("rowModel")],e.prototype,"rowModel",void 0),ts([st("loggerFactory")],e.prototype,"loggerFactory",void 0),ts([st("focusController")],e.prototype,"focusController",void 0),ts([st("cellNavigationService")],e.prototype,"cellNavigationService",void 0),ts([st("columnApi")],e.prototype,"columnApi",void 0),ts([st("gridApi")],e.prototype,"gridApi",void 0),ts([st("beans")],e.prototype,"beans",void 0),ts([st("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),ts([st("animationFrameService")],e.prototype,"animationFrameService",void 0),ts([st("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),ts([lt("rangeController")],e.prototype,"rangeController",void 0),ts([es(0,ht("loggerFactory"))],e.prototype,"agWire",null),e=ts([at("rowRenderer")],e)}(Bt),ns=function(){function t(){}return t.addHeaderClassesFromColDef=function(t,e,i,n,r){o(t)||this.addColumnClassesFromCollDef(t.headerClass,t,e,i,n,r)},t.addToolPanelClassesFromColDef=function(t,e,i,n,r){o(t)||this.addColumnClassesFromCollDef(t.toolPanelClass,t,e,i,n,r)},t.addColumnClassesFromCollDef=function(t,e,i,n,r,a){if(!o(t)){var s;if("function"===typeof t)s=t({colDef:e,column:r,columnGroup:a,context:n.getContext(),api:n.getApi()});else s=t;"string"===typeof s?Ue(i,s):Array.isArray(s)&&s.forEach((function(t){Ue(i,t)}))}},t}(),os=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),rs=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},as=function(t){function e(e,i){var n=t.call(this)||this;return n.columns=e,n.element=i,n}return os(e,t),e.prototype.postConstruct=function(){this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},rs([st("columnHoverService")],e.prototype,"columnHoverService",void 0),rs([ot],e.prototype,"postConstruct",null),e}(Bt),ss=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ls=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},us=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.columnOrGroup=e,r.eCell=i,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=o,r.beans=n,r.printLayout=n.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT,r}return ss(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Ct.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=n(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup().getLeft(),i=this.getColumnOrGroup().getOldLeft();this.setLeft(i),this.actualLeft=e,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===e&&t.setLeft(e)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){return this.printLayout?t.getPinned()===mt.PINNED_LEFT?e:t.getPinned()===mt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},e.prototype.setLeft=function(t){var e;if(n(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof Ct)e=this.columnOrGroup;else{var i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&Zi(this.ariaEl,i.length),e=i[0]}var o=this.beans.columnController.getAriaColumnIndex(e);Ji(this.ariaEl,o)},ls([ot],e.prototype,"postConstruct",null),e}(Bt),hs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ps=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},cs=function(t){function e(e,i){var n=t.call(this,i)||this;return n.labelSeparator="",n.labelAlignment="left",n.label="",n.config=e||{},n}return hs(e,t),e.prototype.postConstruct=function(){Ue(this.getGui(),"ag-labeled"),Ue(this.eLabel,"ag-label");var t=this.config,e=t.labelSeparator,i=t.label,n=t.labelWidth,o=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=i&&this.setLabel(i),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){si(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.eLabel.appendChild(this.label),Xe(this.eLabel,"ag-hidden",""===this.label)},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui();return Xe(e,"ag-label-align-left","left"===t),Xe(e,"ag-label-align-right","right"===t),Xe(e,"ag-label-align-top","top"===t),this},e.prototype.setLabelWidth=function(t){return null==this.label||xi(this.eLabel,t),this},ps([ot],e.prototype,"postConstruct",null),e}(Bn),ds=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fs=function(t){function e(e,i,n){var o=t.call(this,e,i)||this;return o.className=n,o.disabled=!1,o}return ds(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),Ue(this.getGui(),this.className)},e.prototype.onValueChange=function(t){var i=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(i.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return bi(this.getGui(),t),this},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,i){return this.value===t||(this.value=t,i||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return $e(e,t),Xe(e,"ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},e.EVENT_CHANGED="valueChange",e}(cs),gs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ms=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ys=function(t){function e(e,i,n,o){void 0===n&&(n="text"),void 0===o&&(o="input");var r=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",i)||this;return r.inputType=n,r.displayFieldTag=o,r}return gs(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),Ue(this.eLabel,this.className+"-label"),Ue(this.eWrapper,this.className+"-input-wrapper"),Ue(this.eInput,this.className+"-input"),Ue(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,i=e.width,n=e.value;null!=i&&this.setWidth(i),null!=n&&this.setValue(n),this.addInputListeners()},e.prototype.refreshLabel=function(){n(this.getLabel())?Gi(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return xi(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return Ri(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Wi(this.eInput,t),this},e.prototype.setDisabled=function(e){return $e(this.eInput,e),t.prototype.setDisabled.call(this,e)},ms([Hn("eLabel")],e.prototype,"eLabel",void 0),ms([Hn("eWrapper")],e.prototype,"eWrapper",void 0),ms([Hn("eInput")],e.prototype,"eInput",void 0),e}(fs),vs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cs=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},xs=function(t){function e(e,i,n){void 0===i&&(i="ag-checkbox"),void 0===n&&(n="checkbox");var o=t.call(this,e,i,n)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return vs(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){Xe(this.eWrapper,"ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return Xe(this.eWrapper,"ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){if(this.isSelected()!==t){var i=this.isSelected();t=this.selected="boolean"===typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,i)}},e.prototype.dispatchChange=function(t,i,n){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:i,event:n});var o=this.getInputElement(),r={type:jt.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:i};this.eventService.dispatchEvent(r)},e.prototype.onCheckboxClick=function(t){if(!this.passive){var e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}},e.prototype.refreshSelectedClass=function(t){Xe(this.eWrapper,"ag-checked",!0===t),Xe(this.eWrapper,"ag-indeterminate",null==t)},Cs([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(ys),bs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ws=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Es=function(t){function e(e,i){var n=t.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.cbSelectAll=e,n.column=i;var o=i.getColDef();return n.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,n}return bs(e,t),e.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,jt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,xs.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),e=this.getNextCheckboxState(t);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.cbSelectAll.getValue();this.cbSelectAll.setInputAriaLabel("Press Space to toggle all rows selection ("+(t?"checked":"unchecked")+")")},e.prototype.getSelectionCount=function(){var t=this,e=0,i=0,n=function(n){t.gridOptionsWrapper.isGroupSelectsChildren()&&n.group||(n.isSelected()?e++:n.selectable&&i++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(n):this.gridApi.forEachNode(n),{notSelected:i,selected:e}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===mt.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"===typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi}));return!!t&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),!1))},ws([st("gridApi")],e.prototype,"gridApi",void 0),ws([st("columnApi")],e.prototype,"columnApi",void 0),ws([st("rowModel")],e.prototype,"rowModel",void 0),ws([st("selectionController")],e.prototype,"selectionController",void 0),ws([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ws([ot],e.prototype,"postConstruct",null),e}(Bt),Ps=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ps(e,t),e.prototype.getColumn=function(){return this.column},e.prototype.getPinned=function(){return this.pinned},e}(no),Ts=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_s=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ms=function(t){function i(e,n){var o=t.call(this,i.TEMPLATE)||this;return o.headerCompVersion=0,o.refreshFunctions=[],o.column=e,o.pinned=n,o}return Ts(i,t),i.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.appendHeaderComp(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new as([this.column],this.getGui())),this.addManagedListener(this.column,Ct.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new Es(this.cbSelectAll,this.column)),this.createManagedBean(new us(this.column,this.getGui(),this.beans)),this.addAttributes(),ns.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,jt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this))},i.prototype.onColumnValueChanged=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.updateState=function(){var t=this.column.getColDef();this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.onNewColumnsLoaded=function(){var t=this.columnController.getColDefVersion();t!=this.colDefVersion&&(this.colDefVersion=t,this.refresh())},i.prototype.refresh=function(){this.updateState();var t=this.column.getColDef();if(!(this.colDefHeaderComponent!=t.headerComponent||this.colDefHeaderComponentFramework!=t.headerComponentFramework)&&this.attemptHeaderCompRefresh()){var e=this.draggable&&!this.dragAndDropService,i=!this.draggable&&this.dragAndDropService;(e||i)&&this.attachDraggingToHeaderComp()}else this.appendHeaderComp();this.refreshFunctions.forEach((function(t){return t()}))},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},i.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var t=this.createParams(),e=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",t);return this.headerComp.refresh(e)},i.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},i.prototype.setActiveHeader=function(t){Xe(this.getGui(),"ag-header-active",t)},i.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},i.prototype.handleKeyDown=function(t){var e=this.headerComp;if(e){if(t.keyCode===qn.SPACE){var i=this.cbSelectAll;i.isDisplayed()&&!i.getGui().contains(document.activeElement)&&(t.preventDefault(),i.setValue(!i.getValue()))}if(t.keyCode===qn.ENTER)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var n=t.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}}},i.prototype.onTabKeyDown=function(){},i.prototype.getComponentHolder=function(){return this.column.getColDef()},i.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,jt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},i.prototype.onColumnHover=function(){var t=this.columnHoverService.isHovered(this.column);Xe(this.getGui(),"ag-column-hover",t)},i.prototype.setupSortableClass=function(){var t=this,e=this.getGui(),i=function(){Xe(e,"ag-header-cell-sortable",t.sortable)},n=function(){t.sortable?tn(e,Vi(t.column)):en(e)};i(),n(),this.refreshFunctions.push(i),this.refreshFunctions.push(n),this.addManagedListener(this.column,Ct.EVENT_SORT_CHANGED,n.bind(this))},i.prototype.onFilterChanged=function(){var t=this.column.isFilterActive();Xe(this.getGui(),"ag-header-cell-filtered",t)},i.prototype.appendHeaderComp=function(){this.headerCompVersion++;var t=this.column.getColDef();this.colDefHeaderComponent=t.headerComponent,this.colDefHeaderComponentFramework=t.headerComponentFramework;var e=this.createParams(),i=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(e).then(i)},i.prototype.createParams=function(){var t=this,e=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,i){t.sortController.setSortForColumn(t.column,e,!!i,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()}},i.prototype.afterHeaderCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(e)},i.prototype.onColumnMovingChanged=function(){this.column.isMoving()?Ue(this.getGui(),"ag-header-cell-moving"):Ye(this.getGui(),"ag-header-cell-moving")},i.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!this.gridOptionsWrapper.isSuppressMovableColumns()&&!t.suppressMovable&&!t.lockPosition||t.enableRowGroup||t.enablePivot},i.prototype.attachDraggingToHeaderComp=function(){var t=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:e.DragSourceType.HeaderCell,eElement:this.headerCompGui,defaultIconName:fa.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},i.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},i.prototype.setupResize=function(){var t,e,i=this,n=this.getComponentHolder(),o=[],r=function(){o.forEach((function(t){return t()})),o.length=0},a=function(){var a=i.column.isResizable(),s=!i.gridOptionsWrapper.isSuppressAutoSize()&&!n.suppressAutoSize;(a!==t||s!==e)&&(t=a,e=s,r(),function(){if(Ke(i.eResize,t),t){var n=i.horizontalResizeService.addResizeBar({eResizeBar:i.eResize,onResizeStart:i.onResizeStart.bind(i),onResizing:i.onResizing.bind(i,!1),onResizeEnd:i.onResizing.bind(i,!0)});if(o.push(n),e){var r=i.gridOptionsWrapper.isSkipHeaderOnAutoSize(),a=function(){i.columnController.autoSizeColumn(i.column,r,"uiColumnResized")};i.eResize.addEventListener("dblclick",a);var s=new yo(i.eResize);s.addEventListener(yo.EVENT_DOUBLE_TAP,a),i.addDestroyFunc((function(){i.eResize.removeEventListener("dblclick",a),s.removeEventListener(yo.EVENT_DOUBLE_TAP,a),s.destroy()}))}}}())};a(),this.addDestroyFunc(r),this.refreshFunctions.push(a)},i.prototype.onResizing=function(t,e){var i=this.normaliseResizeAmount(e),n=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnController.setColumnWidths(n,this.resizeWithShiftKey,t,"uiColumnDragged"),t&&Ye(this.getGui(),"ag-column-resizing")},i.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,Ue(this.getGui(),"ag-column-resizing")},i.prototype.getTooltipParams=function(){return{location:"header",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},i.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},i.prototype.setupTooltip=function(){var t,e,i=this,n=this.gridOptionsWrapper.isEnableBrowserTooltips(),o=function(){n?i.getGui().removeAttribute("title"):t&&(t=i.destroyBean(t))},r=function(){var r=i.getTooltipText();e!=r&&(e&&o(),(e=r)&&(n?i.getGui().setAttribute("title",e):t=i.createBean(new Aa(i))))};r(),this.addDestroyFunc(o),this.refreshFunctions.push(r)},i.prototype.setupMovingCss=function(){this.addManagedListener(this.column,Ct.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},i.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},i.prototype.setupWidth=function(){this.addManagedListener(this.column,Ct.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},i.prototype.setupMenuClass=function(){this.addManagedListener(this.column,Ct.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},i.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},i.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},i.prototype.normaliseResizeAmount=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==mt.PINNED_LEFT&&(e*=-1):this.pinned===mt.PINNED_RIGHT&&(e*=-1),e},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',_s([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),_s([st("dragAndDropService")],i.prototype,"dragAndDropService",void 0),_s([st("columnController")],i.prototype,"columnController",void 0),_s([st("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),_s([st("menuFactory")],i.prototype,"menuFactory",void 0),_s([st("gridApi")],i.prototype,"gridApi",void 0),_s([st("columnApi")],i.prototype,"columnApi",void 0),_s([st("sortController")],i.prototype,"sortController",void 0),_s([st("userComponentFactory")],i.prototype,"userComponentFactory",void 0),_s([st("columnHoverService")],i.prototype,"columnHoverService",void 0),_s([st("beans")],i.prototype,"beans",void 0),_s([Hn("eResize")],i.prototype,"eResize",void 0),_s([Hn("cbSelectAll")],i.prototype,"cbSelectAll",void 0),_s([rt],i.prototype,"destroyHeaderComp",null),i}(Ss),Rs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Os=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},As=function(t){function i(e,n){var o=t.call(this,i.TEMPLATE)||this;return o.removeChildListenersFuncs=[],o.column=e,o.pinned=n,o}return Rs(i,t),i.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),ns.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var e=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(e),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new as(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new us(this.column,this.getGui(),this.beans))},i.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},i.prototype.handleKeyDown=function(t){var e=document.activeElement===this.getGui();if(this.expandable&&e&&t.keyCode===qn.ENTER){var i=this.getColumn(),n=!i.isExpanded();this.columnController.setColumnGroupOpened(i.getOriginalColumnGroup(),n,"uiColumnExpanded")}},i.prototype.onTabKeyDown=function(){},i.prototype.setupExpandable=function(){var t=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(t,wt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,wt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var t=this.getColumn(),e=this.getGui(),i=t.isExpandable(),n=t.isExpanded();this.expandable=i,i?ji(e,n):e.removeAttribute("aria-expanded")},i.prototype.setupMovingCss=function(){var t=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(e){t.addManagedListener(e,Ct.EVENT_MOVING_CHANGED,t.onColumnMovingChanged.bind(t))})),this.onColumnMovingChanged()},i.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},i.prototype.getTooltipText=function(){var t=this.getComponentHolder();return t&&t.headerTooltip},i.prototype.getTooltipParams=function(){return{location:"headerGroup",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},i.prototype.setupTooltip=function(){var t=this.getTooltipText();null!=t&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",t):this.createManagedBean(new Aa(this)))},i.prototype.onColumnMovingChanged=function(){Xe(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},i.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},i.prototype.appendHeaderGroupComp=function(t){var e=this,i={displayName:t,columnGroup:this.column,setExpanded:function(t){e.columnController.setColumnGroupOpened(e.column.getOriginalColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var n=this.column,o=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===o.length;)n=n.getParent();var r=n.getColGroupDef();r&&(t=r.headerName),t||(t=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var a=this.afterHeaderCompCreated.bind(this,t);this.userComponentFactory.newHeaderGroupComponent(i).then(a)},i.prototype.afterHeaderCompCreated=function(t,e){var i=this;this.getGui().appendChild(e.getGui()),this.addDestroyFunc((function(){i.getContext().destroyBean(e)})),this.setupMove(e.getGui(),t)},i.prototype.addClasses=function(){var t=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+t+"-group")},i.prototype.setupMove=function(t,i){var n=this;if(t&&!this.isSuppressMoving()){var o=this.column.getOriginalColumnGroup().getLeafColumns(),r={type:e.DragSourceType.HeaderCell,eElement:t,defaultIconName:fa.ICON_HIDE,dragItemName:i,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return o.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(r)}))}},i.prototype.getDragItemForGroup=function(){var t=this.column.getOriginalColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var i=[];return this.columnController.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(i.push(e),v(t,e))})),t.forEach((function(t){return i.push(t)})),{columns:i,visibleState:e}},i.prototype.isSuppressMoving=function(){var t=!1;return this.column.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsWrapper.isSuppressMovableColumns()},i.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,bt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(i){i.addEventListener(Ct.EVENT_WIDTH_CHANGED,e),i.addEventListener(Ct.EVENT_VISIBLE_CHANGED,e),t.removeChildListenersFuncs.push((function(){i.removeEventListener(Ct.EVENT_WIDTH_CHANGED,e),i.removeEventListener(Ct.EVENT_VISIBLE_CHANGED,e)}))}))},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},i.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},i.prototype.setupResize=function(){var t=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsWrapper.isSuppressAutoSize()){var i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(e){var n=[];t.column.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||n.push(t.getColId())})),n.length>0&&t.columnController.autoSizeColumns(n,i,"uiColumnResized")}))}}else li(this.eHeaderCellResize)},i.prototype.onResizeStart=function(t){var e=this,i=this.column.getDisplayedLeafColumns();this.resizeCols=i.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}));var n=null;if(t&&(n=this.columnController.getDisplayedGroupAfter(this.column)),n){var o=n.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;Ue(this.getGui(),"ag-column-resizing")},i.prototype.onResizing=function(t,e){var i=[],n=this.normaliseDragChange(e);i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+n}),this.resizeTakeFromCols&&i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n}),this.columnController.resizeColumnSets(i,t,"uiColumnDragged"),t&&Ye(this.getGui(),"ag-column-resizing")},i.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==mt.PINNED_LEFT&&(e*=-1):this.pinned===mt.PINNED_RIGHT&&(e*=-1),e},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Os([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Os([st("columnController")],i.prototype,"columnController",void 0),Os([st("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Os([st("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Os([st("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Os([st("beans")],i.prototype,"beans",void 0),Os([st("gridApi")],i.prototype,"gridApi",void 0),Os([st("columnApi")],i.prototype,"columnApi",void 0),i}(Ss),Ds=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ks=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Fs=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Ds(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" Filter Input")},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(i){if(i.getModelAsString){var n=i.getModelAsString(t);e.eFloatingFilterText.setValue(n)}})):this.eFloatingFilterText.setValue("")},ks([Hn("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),ks([st("columnController")],e.prototype,"columnController",void 0),e}(Bn),Is=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),Ls=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ns=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Vs=function(t){function i(e,n){var o=t.call(this,i.TEMPLATE)||this;return o.column=e,o.pinned=n,o}return Ls(i,t),i.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new as([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.onTabKeyDown=function(t){var e=document.activeElement,i=this.getGui();if(!(e===i)){t.preventDefault();var n=this.focusController.findNextFocusableElement(i,null,t.shiftKey);n?n.focus():i.focus()}},i.prototype.handleKeyDown=function(t){var e=document.activeElement,i=this.getGui(),n=e===i;switch(t.keyCode){case qn.UP:case qn.DOWN:n||t.preventDefault();case qn.LEFT:case qn.RIGHT:if(n)return;t.stopPropagation();case qn.ENTER:n&&this.focusController.focusInto(i)&&t.preventDefault();break;case qn.ESCAPE:n||this.getGui().focus()}},i.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},i.prototype.setupFloatingFilter=function(){var t=this,e=this.column.getColDef();e.filter&&e.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(e){e&&(t.setupWithFloatingFilter(e),t.setupSyncWithFilter())})))},i.prototype.setupLeftPositioning=function(){var t=new us(this.column,this.getGui(),this.beans);this.createManagedBean(t)},i.prototype.setupSyncWithFilter=function(){var t=this,e=function(e){t.onParentModelChanged(t.currentParentModel(),e)};this.addManagedListener(this.column,Ct.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)},i.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"filterMenuTab",["filterMenuTab"])},i.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,jt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},i.prototype.onColumnHover=function(){Xe(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},i.prototype.setupWidth=function(){this.addManagedListener(this.column,Ct.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},i.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},i.prototype.setupWithFloatingFilter=function(t){var e=this,i=function(){e.getContext().destroyBean(t)};if(this.isAlive()){this.addDestroyFunc(i);var n=t.getGui();Xe(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),Xe(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),Ke(this.eButtonWrapper,!this.suppressFilterButton);var o=yn("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(o),this.eFloatingFilterBody.appendChild(n),t.afterGuiAttached&&t.afterGuiAttached()}else i()},i.prototype.parentFilterInstance=function(t){this.getFilterComponent().then(t)},i.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},i.getDefaultFloatingFilterType=function(t){if(null==t)return null;var i=null;if("string"===typeof t.filter)i=Is.getFloatingFilterType(t.filter);else if(t.filterFramework);else if(!0===t.filter){i=yt.isRegistered(e.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}return i},i.prototype.getFloatingFilterInstance=function(){var t=this.column.getColDef(),e=i.getDefaultFloatingFilterType(t),n=this.filterManager.createFilterParams(this.column,t),o=this.userComponentFactory.createFinalParams(t,"filter",n),r={api:this.gridApi,column:this.column,filterParams:o,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var a=this.userComponentFactory.newFloatingFilterComponent(t,r,e);if(!a){var s=this.getFilterComponentPrototype(t);if(s&&s.prototype&&s.prototype.getModelAsString){var l=this.userComponentFactory.createUserComponentFromConcreteClass(Fs,r);a=Fn.resolve(l)}}return a},i.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},i.prototype.getFilterComponentPrototype=function(t){var e=this.userComponentFactory.lookupComponentClassDef(t,"filter",this.createDynamicParams());return e?e.component:null},i.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,(function(t){return t.getModel()})):null},i.prototype.onParentModelChanged=function(t,e){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(i){return i.onParentModelChanged(t,e)}))},i.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Ns([st("columnHoverService")],i.prototype,"columnHoverService",void 0),Ns([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Ns([st("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Ns([st("gridApi")],i.prototype,"gridApi",void 0),Ns([st("columnApi")],i.prototype,"columnApi",void 0),Ns([st("filterManager")],i.prototype,"filterManager",void 0),Ns([st("menuFactory")],i.prototype,"menuFactory",void 0),Ns([st("beans")],i.prototype,"beans",void 0),Ns([Hn("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Ns([Hn("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Ns([Hn("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),i}(Ss),Bs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ws=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.COLUMN_GROUP=0]="COLUMN_GROUP",t[t.COLUMN=1]="COLUMN",t[t.FLOATING_FILTER=2]="FLOATING_FILTER"}(Oa||(Oa={}));var Gs,Hs=function(t){function e(e,i,n){var o=t.call(this,'<div class="ag-header-row" role="row"></div>')||this;o.headerComps={},o.setRowIndex(e),o.type=i,o.pinned=n;var r=Oa[i].toLowerCase().replace(/_/g,"-");return o.addCssClass("ag-header-row-"+r),Fe()&&(o.getGui().style.transform="translateZ(0)"),o}return Bs(e,t),e.prototype.forEachHeaderElement=function(t){var e=this;Object.keys(this.headerComps).forEach((function(i){t(e.headerComps[i])}))},e.prototype.setRowIndex=function(t){this.dept=t,Qi(this.getGui(),t+1)},e.prototype.getRowIndex=function(){return this.dept},e.prototype.getType=function(){return this.type},e.prototype.destroyAllChildComponents=function(){var t=Object.keys(this.headerComps);this.destroyChildComponents(t)},e.prototype.destroyChildComponents=function(t,e){var i=this;t.forEach((function(t){var n=i.headerComps[t];e&&!n.getColumn().isMoving()&&i.focusController.isHeaderWrapperFocused(n)||(i.getGui().removeChild(n.getGui()),i.destroyBean(n),delete i.headerComps[t])}))},e.prototype.onRowHeightChanged=function(){var t,e,i=this.columnController.getHeaderRowCount(),n=[],o=0;this.columnController.isPivotMode()?(t=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),e=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(i++,o=1),t=this.gridOptionsWrapper.getGroupHeaderHeight(),e=this.gridOptionsWrapper.getHeaderHeight());for(var r=i-(1+o),a=0;a<r;a++)n.push(t);n.push(e);for(a=0;a<o;a++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var s=0;for(a=0;a<this.dept;a++)s+=n[a];this.getGui().style.top=s+"px",this.getGui().style.height=n[this.dept]+"px"},e.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.getGui().style.width=t+"px"},e.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT?o(this.pinned)?this.columnController.getContainerWidth(mt.PINNED_RIGHT)+this.columnController.getContainerWidth(mt.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},e.prototype.getItemsAtDepth=function(){var t=this;if(this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT){if(o(this.pinned)){var e=[];return[mt.PINNED_LEFT,null,mt.PINNED_RIGHT].forEach((function(i){var n=t.columnController.getVirtualHeaderGroupRow(i,t.type==Oa.FLOATING_FILTER?t.dept-1:t.dept);e=e.concat(n)})),e}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==Oa.FLOATING_FILTER?this.dept-1:this.dept)},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=Object.keys(this.headerComps),i=[];if(this.getItemsAtDepth().forEach((function(n){if(!n.isEmptyGroup()){var o=n.getUniqueId(),r=t.getGui(),a=t.headerComps[o];if(a&&a.getColumn()!=n&&(t.destroyChildComponents([o]),v(e,o),a=void 0),a)v(e,o);else{var s=t.createHeaderComp(n);t.headerComps[o]=s,r.appendChild(s.getGui())}i.push(o)}})),this.destroyChildComponents(e,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var n=i.map((function(e){return t.headerComps[e].getGui()}));gi(this.getGui(),n)}},e.prototype.createHeaderComp=function(t){var e;switch(this.type){case Oa.COLUMN:e=new Ms(t,this.pinned);break;case Oa.COLUMN_GROUP:e=new As(t,this.pinned);break;case Oa.FLOATING_FILTER:e=new Vs(t,this.pinned)}return this.createBean(e),e.setParentComponent(this),e},e.prototype.getHeaderComps=function(){return this.headerComps},Ws([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ws([st("columnController")],e.prototype,"columnController",void 0),Ws([st("focusController")],e.prototype,"focusController",void 0),Ws([rt],e.prototype,"destroyAllChildComponents",null),Ws([ot],e.prototype,"init",null),e}(Bn),zs=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},js=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!n(t)}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},t.prototype.getIconName=function(){return this.pinned?fa.ICON_PINNED:fa.ICON_MOVE},t.prototype.onDragEnter=function(t){var i=t.dragItem.columns;if(t.dragSource.type===e.DragSourceType.ToolPanel)this.setColumnsVisible(i,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,o=i.filter((function(t){return n[t.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},t.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var e=t.dragSource.getDragItem().columns;this.setColumnsVisible(e,!1,"uiColumnDragged")}this.ensureIntervalCleared()},t.prototype.setColumnsVisible=function(t,e,i){if(void 0===i&&(i="api"),t){var n=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnController.setColumnsVisible(n,e,i)}},t.prototype.setColumnsPinned=function(t,e,i){if(void 0===i&&(i="api"),t){var n=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnController.setColumnsPinned(n,e,i)}},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.normaliseX=function(t){this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.gridPanel.getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.gridPanel.getCenterViewportScrollLeft(),i=e+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e){var i=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!o(t.hDirection)){var n=this.normaliseX(t.x);e||this.checkCenterForScrolling(n);var r=this.normaliseDirection(t.hDirection),a=t.dragSource.type,s=t.dragSource.getDragItem().columns;s=s.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==i.pinned})),this.attemptMoveColumns(a,s,r,n,e)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case e.HorizontalDirection.Left:return e.HorizontalDirection.Right;case e.HorizontalDirection.Right:return e.HorizontalDirection.Left;default:console.error("ag-Grid: Unknown direction "+t)}},t.prototype.calculateOldIndex=function(t){var e=this.columnController.getAllGridColumns(),i=y(t.map((function(t){return e.indexOf(t)}))),n=i[0];return g(i)-n!==i.length-1?null:n},t.prototype.attemptMoveColumns=function(t,i,n,o,r){var a=n===e.HorizontalDirection.Left,s=n===e.HorizontalDirection.Right,l=i.slice();this.columnController.sortColumnsLikeGridColumns(l);var u=this.calculateValidMoves(l,s,o),h=this.calculateOldIndex(l);if(0!==u.length){var p=u[0],c=null!==h&&!r;if(t==e.DragSourceType.HeaderCell&&(c=null!==h),c){if(a&&p>=h)return;if(s&&p<=h)return}for(var d=0;d<u.length;d++){var f=u[d];if(this.columnController.doesMovePassRules(l,f))return void this.columnController.moveColumns(l,f,"uiColumnDragged")}}},t.prototype.calculateValidMoves=function(t,e,i){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some((function(t){return t.getColDef().suppressMovable})))return[];var n,o=this.columnController.getDisplayedColumns(this.pinned),r=this.columnController.getAllGridColumns(),a=o.filter((function(e){return w(t,e)})),s=o.filter((function(e){return!w(t,e)})),l=r.filter((function(e){return!w(t,e)})),u=0,h=i;if(e){var p=0;a.forEach((function(t){return p+=t.getActualWidth()})),h-=p}if(h>0){for(var c=0;c<s.length;c++){if((h-=s[c].getActualWidth())<0)break;u++}e&&u++}if(u>0){var d=s[u-1];n=l.indexOf(d)+1}else-1===(n=l.indexOf(s[0]))&&(n=0);var f=[n],g=function(t,e){return t-e};if(e){for(var m=n+1,y=r.length-1;m<=y;)f.push(m),m++;f.sort(g)}else{m=n,y=r.length-1;for(var v=r[m];m<=y&&this.isColumnHidden(o,v);)m++,f.push(m),v=r[m];m=n-1;for(;m>=0;)f.push(m),m--;f.sort(g).reverse()}return f},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(fa.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(fa.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(fa.ICON_MOVE))},t.prototype.moveInterval=function(){var t,e;if(this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveLeft?e=this.gridPanel.scrollHorizontally(-t):this.needToMoveRight&&(e=this.gridPanel.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(i.length>0&&(this.dragAndDropService.setGhostIcon(fa.ICON_PINNED),this.failedMoveAttempts>7)){var n=this.needToMoveLeft?mt.PINNED_LEFT:mt.PINNED_RIGHT;this.setColumnsPinned(i,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}},zs([st("loggerFactory")],t.prototype,"loggerFactory",void 0),zs([st("columnController")],t.prototype,"columnController",void 0),zs([st("dragAndDropService")],t.prototype,"dragAndDropService",void 0),zs([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zs([ot],t.prototype,"init",null),t}(),Us=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ys=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;(this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly())||t.dragItem.columns.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?fa.ICON_PINNED:fa.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Us([st("columnController")],t.prototype,"columnController",void 0),Us([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),Xs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qs=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.ColumnMove=0]="ColumnMove",t[t.Pivot=1]="Pivot"}(Gs||(Gs={}));var Ks,Qs=function(t){function i(e,i){var n=t.call(this)||this;return n.dropListeners={},n.pinned=e,n.eContainer=i,n}return Xs(i,t),i.prototype.registerGridComp=function(t){switch(this.gridPanel=t,this.moveColumnController.registerGridComp(t),this.pinned){case mt.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case mt.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},i.prototype.isInterestedIn=function(t){return t===e.DragSourceType.HeaderCell||t===e.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnController=this.createBean(new js(this.pinned,this.eContainer));var t=new Ys(this.pinned);this.createBean(t),this.dropListeners[Gs.ColumnMove]=this.moveColumnController,this.dropListeners[Gs.Pivot]=t,this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.getDropType=function(t){return this.columnController.isPivotMode()&&t.dragSource.type===e.DragSourceType.ToolPanel?Gs.Pivot:Gs.ColumnMove},i.prototype.onDragEnter=function(t){var e=this.getDropType(t);this.currentDropListener=this.dropListeners[e],this.currentDropListener.onDragEnter(t)},i.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},i.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},i.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},qs([st("dragAndDropService")],i.prototype,"dragAndDropService",void 0),qs([st("columnController")],i.prototype,"columnController",void 0),qs([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),qs([ot],i.prototype,"init",null),i}(Bt),$s=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Js=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Zs=function(t){function e(e,i,n){var o=t.call(this)||this;return o.groupsRowComps=[],o.eContainer=e,o.pinned=n,o.eViewport=i,o}return $s(e,t),e.prototype.forEachHeaderElement=function(t){this.groupsRowComps&&this.groupsRowComps.forEach((function(e){return e.forEachHeaderElement(t)})),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(t),this.filtersRowComp&&this.columnsRowComp.forEachHeaderElement(t)},e.prototype.init=function(){this.addManagedListener(this.eventService,jt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},e.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.setWidthOfPinnedContainer=function(){var t=this.pinned===mt.PINNED_LEFT,e=this.pinned===mt.PINNED_RIGHT,i=this.columnController,n=this.gridOptionsWrapper.isEnableRtl(),o=this.gridOptionsWrapper.getScrollbarWidth();if(t||e){var r=i[t?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(n&&t||!n&&e)&&(r+=o),bi(this.eContainer,r)}},e.prototype.getRowComps=function(){var t=[];return this.groupsRowComps&&(t=t.concat(this.groupsRowComps)),this.columnsRowComp&&t.push(this.columnsRowComp),this.filtersRowComp&&t.push(this.filtersRowComp),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this.refreshRowComps(t)},e.prototype.setupDragAndDrop=function(t){var e=this.eViewport?this.eViewport:this.eContainer,i=new Qs(this.pinned,e);this.createManagedBean(i),i.registerGridComp(t)},e.prototype.destroyRowComps=function(t){void 0===t&&(t=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,t||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},e.prototype.destroyRowComp=function(t){t&&(this.destroyBean(t),this.eContainer.removeChild(t.getGui()))},e.prototype.refreshRowComps=function(t){var e=this;void 0===t&&(t=!1);var i=new kn;!function(){var t=e.columnController.getHeaderRowCount()-1;e.groupsRowComps.forEach(e.destroyRowComp.bind(e)),e.groupsRowComps=[];for(var n=0;n<t;n++){var o=e.createBean(new Hs(i.next(),Oa.COLUMN_GROUP,e.pinned));e.groupsRowComps.push(o)}}(),function(){var n=i.next();if(e.columnsRowComp){var o=e.columnsRowComp.getRowIndex()!==n;t&&!o||(e.destroyRowComp(e.columnsRowComp),e.columnsRowComp=void 0)}e.columnsRowComp||(e.columnsRowComp=e.createBean(new Hs(n,Oa.COLUMN,e.pinned)))}(),e.destroyRowComp(e.filtersRowComp),e.filtersRowComp=void 0,!e.columnController.isPivotMode()&&e.columnController.hasFloatingFilters()&&(e.filtersRowComp=e.createBean(new Hs(i.next(),Oa.FLOATING_FILTER,e.pinned))),this.getRowComps().forEach((function(t){return e.eContainer.appendChild(t.getGui())}))},Js([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Js([st("columnController")],e.prototype,"columnController",void 0),Js([st("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Js([ot],e.prototype,"init",null),Js([rt],e.prototype,"destroyRowComps",null),e}(Bt),tl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),el=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};(Ks=e.HeaderNavigationDirection||(e.HeaderNavigationDirection={}))[Ks.UP=0]="UP",Ks[Ks.DOWN=1]="DOWN",Ks[Ks.LEFT=2]="LEFT",Ks[Ks.RIGHT=3]="RIGHT";var il,nl=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return tl(i,t),i.prototype.registerGridComp=function(t){this.gridPanel=t},i.prototype.registerHeaderRoot=function(t){this.headerRoot=t},i.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},i.prototype.getHeaderRowType=function(t){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[t].getType()},i.prototype.getHeaderContainer=function(t){return void 0===t&&(t="center"),null===t&&(t="center"),this.headerRoot.getHeaderContainers().get(t)},i.prototype.navigateVertically=function(t,i,n){if(i||(i=this.focusController.getFocusedHeader()),!i)return!1;var o,r=i.headerRowIndex,a=i.column,s=this.getHeaderRowCount(),l=t===e.HeaderNavigationDirection.UP,u=l?r-1:r+1,h=!1;u<0&&(u=0,o=a,h=!0),u>=s&&(u=-1);var p=this.getHeaderRowType(r);if(!h){if(p===Oa.COLUMN_GROUP){var c=a;o=l?a.getParent():c.getDisplayedChildren()[0]}else if(p===Oa.FLOATING_FILTER)o=a;else{c=a;o=l?c.getParent():c}if(!o)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:u,column:o},void 0,!1,!0,n)},i.prototype.navigateHorizontally=function(t,i,n){void 0===i&&(i=!1);var o,r,a=this.focusController.getFocusedHeader();return t===e.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?(r="Before",o=this.headerPositionUtils.findHeader(a,r)):(r="After",o=this.headerPositionUtils.findHeader(a,r)),o?this.focusController.focusHeaderPosition(o,r,i,!0,n):!i||this.focusNextHeaderRow(a,r,n)},i.prototype.focusNextHeaderRow=function(t,e,i){var n,o,r=t.headerRowIndex;return"Before"===e?r>0&&(o=r-1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=r+1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusController.focusHeaderPosition(n,e,!0,!0,i)},i.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var i;if(t instanceof bt){var n=t.getDisplayedLeafColumns();i="Before"===e?g(n):n[0]}else i=t;this.gridPanel.ensureColumnVisible(i),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},el([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),el([st("focusController")],i.prototype,"focusController",void 0),el([st("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),el([st("animationFrameService")],i.prototype,"animationFrameService",void 0),i=el([at("headerNavigationService")],i)}(Bt),ol=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.SHIFT="Shift",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.NUM_PAD_DELETE="Del",t.A="a",t.C="c",t.V="v",t.D="d",t.Z="z",t.Y="y",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t}(),rl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),al=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},sl=function(t){function i(){var e=t.call(this,i.TEMPLATE)||this;return e.headerContainers=new Map,e}return rl(i,t),i.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new Zs(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new Zs(this.ePinnedLeftHeader,null,mt.PINNED_LEFT),"left"),this.registerHeaderContainer(new Zs(this.ePinnedRightHeader,null,mt.PINNED_RIGHT),"right"),this.headerContainers.forEach((function(t){return e.createManagedBean(t)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},i.prototype.registerGridComp=function(t){this.gridPanel=t,this.headerContainers.forEach((function(e){return e.setupDragAndDrop(t)}))},i.prototype.registerHeaderContainer=function(t,e){this.headerContainers.set(e,t)},i.prototype.onTabKeyDown=function(t){var i=this.gridOptionsWrapper.isEnableRtl(),n=t.shiftKey!==i?e.HeaderNavigationDirection.LEFT:e.HeaderNavigationDirection.RIGHT,o=this.focusController.getFocusedHeader(),r=o.headerRowIndex,a=o.column;wn(this.gridOptionsWrapper,t,r,a)||(this.headerNavigationService.navigateHorizontally(n,!0,t)||this.focusController.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},i.prototype.handleKeyDown=function(t){var i,o=this.focusController.getFocusedHeader(),r=o.headerRowIndex,a=o.column;if(!wn(this.gridOptionsWrapper,t,r,a))switch(t.key){case ol.LEFT:i=e.HeaderNavigationDirection.LEFT;case ol.RIGHT:n(i)||(i=e.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,t);break;case ol.UP:i=e.HeaderNavigationDirection.UP;case ol.DOWN:n(i)||(i=e.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(i,null,t)&&t.preventDefault();break;default:return}},i.prototype.onFocusOut=function(t){var e=t.relatedTarget,i=this.getGui();!e&&i.contains(document.activeElement)||i.contains(e)||this.focusController.clearFocusedHeader()},i.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.refreshHeader())},i.prototype.setHorizontalScroll=function(t){this.eHeaderContainer.style.transform="translateX("+t+"px)"},i.prototype.forEachHeaderElement=function(t){this.headerContainers.forEach((function(e){return e.forEachHeaderElement(t)}))},i.prototype.refreshHeader=function(){this.headerContainers.forEach((function(t){return t.refresh()}))},i.prototype.onPivotModeChanged=function(){var t=this.columnController.isPivotMode();Xe(this.getGui(),"ag-pivot-on",t),Xe(this.getGui(),"ag-pivot-off",!t)},i.prototype.setHeight=function(t){var e=t+1+"px";this.getGui().style.height=e,this.getGui().style.minHeight=e},i.prototype.addPreventHeaderScroll=function(){var t=this;this.addManagedListener(this.eHeaderViewport,"scroll",(function(){var e=t.eHeaderViewport.scrollLeft;0!==e&&(t.gridPanel.scrollHorizontally(e),t.eHeaderViewport.scrollLeft=0)}))},i.prototype.getHeaderContainers=function(){return this.headerContainers},i.prototype.setHeaderContainerWidth=function(t){this.eHeaderContainer.style.width=t+"px"},i.prototype.setLeftVisible=function(t){Ke(this.ePinnedLeftHeader,t)},i.prototype.setRightVisible=function(t){Ke(this.ePinnedRightHeader,t)},i.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',al([Hn("ePinnedLeftHeader")],i.prototype,"ePinnedLeftHeader",void 0),al([Hn("ePinnedRightHeader")],i.prototype,"ePinnedRightHeader",void 0),al([Hn("eHeaderContainer")],i.prototype,"eHeaderContainer",void 0),al([Hn("eHeaderViewport")],i.prototype,"eHeaderViewport",void 0),al([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),al([st("columnController")],i.prototype,"columnController",void 0),al([st("gridApi")],i.prototype,"gridApi",void 0),al([st("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),al([st("headerNavigationService")],i.prototype,"headerNavigationService",void 0),i}(no),ll=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ul=function(){return(ul=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},hl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},pl=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.allAdvancedFilters=new Map,e.activeAdvancedFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var o;return ll(i,t),o=i,i.prototype.init=function(){this.addManagedListener(this.eventService,jt.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(t){var e=this,i=[];if(t){var n=Mn(Object.keys(t));this.allAdvancedFilters.forEach((function(o,r){var a=t[r];i.push(e.setModelOnFilterWrapper(o.filterPromise,a)),n.delete(r)})),n.forEach((function(n){var o=e.columnController.getPrimaryColumn(n);if(o){var r=e.getOrCreateFilterWrapper(o,"NO_UI");i.push(e.setModelOnFilterWrapper(r.filterPromise,t[n]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+n)}))}else this.allAdvancedFilters.forEach((function(t){i.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));Fn.all(i).then((function(){return e.onFilterChanged()}))},i.prototype.setModelOnFilterWrapper=function(t,e){return new Fn((function(i){t.then((function(t){"function"!==typeof t.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),i()),(t.setModel(e)||Fn.resolve()).then((function(){return i()}))}))}))},i.prototype.getFilterModel=function(){var t={};return this.allAdvancedFilters.forEach((function(e,i){var o=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==o)return null;if("function"===typeof o.getModel){var r=o.getModel();n(r)&&(t[i]=r)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),t},i.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},i.prototype.updateActiveFilters=function(){var t=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach((function(e){e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))&&t.activeAdvancedFilters.push(e.filterPromise.resolveNow(null,(function(t){return t})))}))},i.prototype.updateFilterFlagInColumns=function(t,e){this.allAdvancedFilters.forEach((function(i){var n=i.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));i.column.setFilterActive(n,t,e)}))},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},i.prototype.doAdvancedFiltersPass=function(t,e){for(var i=t.data,n=0;n<this.activeAdvancedFilters.length;n++){var o=this.activeAdvancedFilters[n];if(null!=o&&o!==e){if("function"!==typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:t,data:i}))return!1}}return!0},i.prototype.parseQuickFilter=function(t){return n(t)?this.gridOptionsWrapper.isRowModelDefault()?t.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())},i.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.onFilterChanged=function(t,e){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",e),this.checkExternalFilter(),this.allAdvancedFilters.forEach((function(e){e.filterPromise.then((function(e){e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var i={type:jt.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};e&&V(i,e),this.processingFilterChange=!0,this.eventService.dispatchEvent(i),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter(e,t)},i.prototype.doesRowPassQuickFilterNoCache=function(t,e){var i=this;return T(this.columnController.getAllColumnsForQuickFilter(),(function(o){var r=i.getQuickFilterTextForColumn(o,t);return n(r)&&r.indexOf(e)>=0}))},i.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},i.prototype.doesRowPassQuickFilter=function(t){var e=this,i=this.gridOptionsWrapper.isCacheQuickFilter();return S(this.quickFilterParts,(function(n){return i?e.doesRowPassQuickFilterCache(t,n):e.doesRowPassQuickFilterNoCache(t,n)}))},i.prototype.doesRowPassFilter=function(t,e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(t))&&!(this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(t,e)))},i.prototype.getQuickFilterTextForColumn=function(t,e){var i=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var r={value:i,node:e,data:e.data,column:t,colDef:o,context:this.gridOptionsWrapper.getContext()};i=o.getQuickFilterText(r)}return n(i)?i.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(t){var e=this,i=[];_(this.columnController.getAllColumnsForQuickFilter(),(function(o){var r=e.getQuickFilterTextForColumn(o,t);n(r)&&i.push(r)})),t.quickFilterAggregateText=i.join(o.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(t){this.allAdvancedFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t),this.updateActiveFilters()},i.prototype.createValueGetter=function(t){var e=this;return function(i){return e.valueService.getValue(t,i,!0)}},i.prototype.getFilterComponent=function(t,e,i){if(void 0===i&&(i=!0),i)return this.getOrCreateFilterWrapper(t,e).filterPromise;var n=this.cachedFilter(t);return n?n.filterPromise:null},i.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},i.prototype.getOrCreateFilterWrapper=function(t,e){var i=this.cachedFilter(t);return i?"NO_UI"!==e&&this.putIntoGui(i,e):(i=this.createFilterWrapper(t,e),this.allAdvancedFilters.set(t.getColId(),i)),i},i.prototype.cachedFilter=function(t){return this.allAdvancedFilters.get(t.getColId())},i.prototype.createFilterInstance=function(t,i){var n,o=this,r=yt.isRegistered(e.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",a=t.getColDef(),s=ul(ul({},this.createFilterParams(t,a,i)),{filterModifiedCallback:function(){var e={type:jt.EVENT_FILTER_MODIFIED,api:o.gridApi,columnApi:o.columnApi,column:t,filterInstance:n};o.eventService.dispatchEvent(e)},filterChangedCallback:function(t){return o.onFilterChanged(n,t)},doesRowPassOtherFilter:function(t){return o.doesRowPassOtherFilters(n,t)}}),l=this.userComponentFactory.newFilterComponent(a,s,r);return l&&l.then((function(t){return n=t})),l},i.prototype.createFilterParams=function(t,e,i){void 0===i&&(i=null);var n={api:this.gridOptionsWrapper.getApi(),column:t,colDef:D(e),rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(t),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return i&&(n.$scope=i),n},i.prototype.createFilterWrapper=function(t,e){var i={column:t,filterPromise:null,scope:null,compiledElement:null,guiPromise:Fn.resolve(null)};return i.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,i.filterPromise=this.createFilterInstance(t,i.scope),i.filterPromise&&this.putIntoGui(i,e),i},i.prototype.putIntoGui=function(t,e){var i=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Fn((function(r){t.filterPromise.then((function(a){var s=a.getGui();if(n(s)||console.warn("getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"===typeof s&&(s=hi(s)),o.appendChild(s),t.scope){var l=i.$compile(o)(t.scope);t.compiledElement=l,window.setTimeout((function(){return t.scope.$apply()}),0)}r(o),i.eventService.dispatchEvent({type:jt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o,api:i.gridApi,columnApi:i.columnApi})}))}))},i.prototype.onNewColumnsLoaded=function(){var t=this,e=!1;this.allAdvancedFilters.forEach((function(i){!t.columnController.getPrimaryColumn(i.column)&&(e=!0,t.disposeFilterWrapper(i,"filterDestroyed"))})),e&&this.onFilterChanged()},i.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var i=this.allAdvancedFilters.get(t.getColId());i&&(this.disposeFilterWrapper(i,e),this.onFilterChanged())},i.prototype.disposeFilterWrapper=function(t,e){var i=this;t.filterPromise.then((function(n){(n.setModel(null)||Fn.resolve()).then((function(){i.getContext().destroyBean(n),t.column.setFilterActive(!1,e),t.scope&&(t.compiledElement&&t.compiledElement.remove(),t.scope.$destroy()),i.allAdvancedFilters.delete(t.column.getColId())}))}))},i.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allAdvancedFilters.forEach((function(t){return e.disposeFilterWrapper(t,"filterDestroyed")}))},i.QUICK_FILTER_SEPARATOR="\n",hl([st("$compile")],i.prototype,"$compile",void 0),hl([st("$scope")],i.prototype,"$scope",void 0),hl([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),hl([st("valueService")],i.prototype,"valueService",void 0),hl([st("columnController")],i.prototype,"columnController",void 0),hl([st("rowModel")],i.prototype,"rowModel",void 0),hl([st("columnApi")],i.prototype,"columnApi",void 0),hl([st("gridApi")],i.prototype,"gridApi",void 0),hl([st("userComponentFactory")],i.prototype,"userComponentFactory",void 0),hl([ot],i.prototype,"init",null),hl([rt],i.prototype,"destroy",null),i=o=hl([at("filterManager")],i)}(Bt),cl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},fl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return cl(e,t),e.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},e.prototype.getValue=function(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),this.initialised||this.init(),e){var o,r=t.getColDef(),a=r.field,s=t.getId(),l=e.data,u=e.groupData&&void 0!==e.groupData[s],h=!n&&e.aggData&&void 0!==e.aggData[s];if(i&&r.filterValueGetter?o=this.executeFilterValueGetter(r.filterValueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&h?o=e.aggData[s]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&a&&l?o=G(l,a,t.isFieldContainsDots()):u?o=e.groupData[s]:h?o=e.aggData[s]:r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,t,e):a&&l&&(o=G(l,a,t.isFieldContainsDots())),this.cellExpressions&&"string"===typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,l,t,e)}return o}},e.prototype.setValue=function(t,e,i,r){var a=this.columnController.getPrimaryColumn(e);if(t&&a){o(t.data)&&(t.data={});var s=a.getColDef(),l=s.field,u=s.newValueHandler,h=s.valueSetter;if(o(l)&&o(u)&&o(h))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var p,c={node:t,data:t.data,oldValue:this.getValue(a,t),newValue:i,colDef:a.getColDef(),column:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(c.newValue=i,void 0===(p=u&&n(u)?u(c):n(h)?this.expressionService.evaluate(h,c):this.setValueUsingField(t.data,l,i,a.isFieldContainsDots()))&&(p=!0),p){t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,t);var d=a.getColDef().onCellValueChanged;"function"===typeof d&&setTimeout((function(){return d(c)}),0);var f={type:jt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,colDef:c.colDef,columnApi:c.columnApi,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:r};this.eventService.dispatchEvent(f)}}}},e.prototype.setValueUsingField=function(t,e,i,n){if(!e)return!1;if(n)for(var o=e.split("."),r=t;o.length>0&&r;){var a=o.shift();0===o.length?r[a]=i:r=r[a]}else t[e]=i;return!0},e.prototype.executeFilterValueGetter=function(t,e,i,n){var o={data:e,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)};return this.expressionService.evaluate(t,o)},e.prototype.executeValueGetter=function(t,e,i,n){var o=i.getId(),r=this.valueCache.getValue(n,o);if(void 0!==r)return r;var a={data:e,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)},s=this.expressionService.evaluate(t,a);return this.valueCache.setValue(n,o,s),s},e.prototype.getValueCallback=function(t,e){var i=this.columnController.getPrimaryColumn(e);return i?this.getValue(i,t):null},e.prototype.getKeyForNode=function(t,e){var i=this.getValue(t,e),n=t.getColDef().keyCreator,o=n?n({value:i}):i;return"string"===typeof o||null==o||"[object Object]"===(o=String(o))&&X((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},dl([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),dl([st("expressionService")],e.prototype,"expressionService",void 0),dl([st("columnController")],e.prototype,"columnController",void 0),dl([st("valueCache")],e.prototype,"valueCache",void 0),dl([ot],e.prototype,"init",null),e=dl([at("valueService")],e)}(Bt),gl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ml=function(){function t(t){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=t.eContainer,this.eViewport=t.eViewport,t.eWrapper&&(this.eWrapper=t.eWrapper),this.hideWhenNoChildren=t.hideWhenNoChildren}return t.prototype.setVerticalScrollPosition=function(t){this.scrollTop=t},t.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(ta.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},t.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},t.prototype.getRowElement=function(t){return this.eContainer.querySelector('[comp-id="'+t+'"]')},t.prototype.setHeight=function(t){null!=t?(this.eContainer.style.height=t+"px",this.eWrapper&&(this.eWrapper.style.height=t+"px")):this.eContainer.style.height=""},t.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var t=this.rowTemplatesToAdd.join("");pi(this.eContainer,t),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(t){return t()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},t.prototype.appendRowTemplate=function(t,e){this.domOrder?this.lastPlacedElement=mi(this.eContainer,t,this.lastPlacedElement):this.rowTemplatesToAdd.push(t),this.afterGuiAttachedCallbacks.push(e),this.childCount++,this.checkVisibility()},t.prototype.ensureDomOrder=function(t){this.domOrder&&(fi(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},t.prototype.removeRowElement=function(t){this.eContainer.removeChild(t),this.childCount--,this.checkVisibility()},t.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var t=this.eViewport?this.eViewport:this.eContainer,e=this.childCount>0;this.visible!==e&&(this.visible=e,this.lastMadeVisibleTime=(new Date).getTime(),Ke(t,e),e&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},t.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},gl([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gl([ot],t.prototype,"postConstruct",null),t}(),yl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vl=function(){return(vl=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Cl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},xl=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},bl=function(t){function i(e,i){var n=t.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n.gridPanel=i,n}return yl(i,t),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,jt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var t=this.columnController.getRowGroupColumns();this.isRowGroupActive=!r(t)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(t){return t===e.DragSourceType.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?fa.ICON_NOT_ALLOWED:fa.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes;var e=this.gridOptionsWrapper.isEnableMultiRowDragging(),i=this.selectionController.getSelectedNodes(),n=t.dragItem.rowNode;return e&&-1!==i.indexOf(n)?(this.isMultiRowDrag=!0,xl(i)):(this.isMultiRowDrag=!1,[n])},i.prototype.onDragEnter=function(t){this.dispatchGridEvent(jt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},i.prototype.onDragging=function(t){this.onEnterOrDragging(t)},i.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(t){var e=this.gridPanel.getGui(),i=t.dropZoneTarget;return!e.contains(i)},i.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(jt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,e),this.checkCenterForScrolling(e)},i.prototype.doManagedDrag=function(t,e){var i,n=this,o=this.isFromThisGrid(t);o?(i=[t.dragItem.rowNode],this.isMultiRowDrag&&(i=xl(this.selectionController.getSelectedNodes()).sort((function(t,e){return n.getRowIndexNumber(t)-n.getRowIndexNumber(e)}))),t.dragItem.rowNodes=i):i=t.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(i[0],e):this.moveRows(i,e))},i.prototype.getRowIndexNumber=function(t){return parseInt(g(t.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(t){var e=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),n=i&&"below"===i.highlighted,o=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes,a=n?1:0;if(this.isFromThisGrid(t))r.forEach((function(t){t.rowTop<o&&(a-=1)})),this.moveRows(r,o,a);else{var s=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(o)+1;"above"===this.clientSideRowModel.getHighlightPosition(o)&&l--,this.clientSideRowModel.updateRowData({add:r.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(s?s(t):t.id)})),addIndex:l})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(t,e,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},i.prototype.checkCenterForScrolling=function(t){var e=this.gridPanel.getVScrollPosition();this.needToMoveUp=t<e.top+50,this.needToMoveDown=t>e.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},i.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},i.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},i.prototype.moveInterval=function(){var t,e;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveDown?e=this.gridPanel.scrollVertically(t):this.needToMoveUp&&(e=this.gridPanel.scrollVertically(-t)),0!==e&&this.onDragging(this.lastDraggingEvent)},i.prototype.addRowDropZone=function(t){var i=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(e){t.onDragEnter(i.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_ENTER,e))}),t.onDragLeave&&(n.onDragLeave=function(e){t.onDragLeave(i.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_LEAVE,e))}),t.onDragging&&(n.onDragging=function(e){t.onDragging(i.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_MOVE,e))}),t.onDragStop&&(n.onDragStop=function(e){t.onDragStop(i.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_END,e))})),this.dragAndDropService.addDropTarget(vl({isInterestedIn:function(t){return t===e.DragSourceType.RowDrag},getIconName:function(){return fa.ICON_MOVE},external:!0},n))}else X((function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(t){var e=this,i=this.getContainer.bind(this),n=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),a=this.onDragStop.bind(this);return t?{getContainer:i,onDragEnter:t.onDragEnter?function(i){n(i),t.onDragEnter(e.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_ENTER,i))}:n,onDragLeave:t.onDragLeave?function(i){o(i),t.onDragLeave(e.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_LEAVE,i))}:o,onDragging:t.onDragging?function(i){r(i),t.onDragging(e.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_MOVE,i))}:r,onDragStop:t.onDragStop?function(i){a(i),t.onDragStop(e.draggingToRowDragEvent(jt.EVENT_ROW_DRAG_END,i))}:a,fromGrid:!0}:{getContainer:i,onDragEnter:n,onDragLeave:o,onDragging:r,onDragStop:a,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(t,i){var n,o=this.mouseEventService.getNormalisedPosition(i).y,r=-1,a=null;switch(o>this.rowModel.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(o),a=this.rowModel.getRow(r)),i.vDirection){case e.VerticalDirection.Down:n="down";break;case e.VerticalDirection.Up:n="up";break;default:n=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:r,overNode:a,y:o,vDirection:n}},i.prototype.dispatchGridEvent=function(t,e){var i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)},i.prototype.onDragLeave=function(t){this.dispatchGridEvent(jt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(t){this.dispatchGridEvent(jt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},i.prototype.stopDragging=function(t){this.ensureIntervalCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},Cl([st("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Cl([st("rowModel")],i.prototype,"rowModel",void 0),Cl([st("columnController")],i.prototype,"columnController",void 0),Cl([st("focusController")],i.prototype,"focusController",void 0),Cl([st("sortController")],i.prototype,"sortController",void 0),Cl([st("filterManager")],i.prototype,"filterManager",void 0),Cl([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Cl([st("selectionController")],i.prototype,"selectionController",void 0),Cl([lt("rangeController")],i.prototype,"rangeController",void 0),Cl([st("mouseEventService")],i.prototype,"mouseEventService",void 0),Cl([ot],i.prototype,"postConstruct",null),i}(Bt),wl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),El=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Pl=function(t){function i(){var e=t.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return e.scrollLeft=-1,e.scrollTop=-1,e.resetLastHorizontalScrollElementDebounced=Z(e.resetLastHorizontalScrollElement.bind(e),500),e}return wl(i,t),i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[t&&!e?"showNoRowsOverlay":"hideOverlay"]()},i.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.prototype.init=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(qi(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach((function(e){var i=t.resizeObserverService.observeResize(e,t.onCenterViewportResized.bind(t));t.addDestroyFunc((function(){return i()}))})),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){t.addManagedListener(e,"focusin",(function(){Ue(e,"ag-has-focus")})),t.addManagedListener(e,"focusout",(function(t){e.contains(t.relatedTarget)||Ye(e,"ag-has-focus")}))}))},i.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.setWidthsOfContainers(),this.setPinnedContainerSize())},i.prototype.onCenterViewportResized=function(){if(ui(this.eCenterViewport)){this.checkViewportAndScrolls();var t=this.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.setColumnMovingCss=function(t){this.addOrRemoveCssClass("ag-column-moving",t)},i.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){return Xe(e,"ag-selectable",t)}))},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new bl(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var e=[this.eBodyViewport,this.eBottom,this.eTop],i=function(i){var n=i.relatedTarget;if(null!==Ve(n)){var o=e.some((function(t){return t.contains(n)}));if(!o){var r=t.popupService;o=r.getActivePopups().some((function(t){return t.contains(n)}))||r.isElementWithinCustomPopup(n)}o||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()};e.forEach((function(e){return t.addManagedListener(e,"focusout",i)}))}},i.prototype.addAngularApplyCheck=function(){var t=this,e=!1,i=function(){e||(e=!0,window.setTimeout((function(){e=!1,t.$scope.$apply()}),0))};this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,jt.EVENT_VIRTUAL_COLUMNS_CHANGED,i)},i.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},i.prototype.addDragListeners=function(){var t=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!o(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(e){var i={eElement:e,onDragStart:t.rangeController.onDragStart.bind(t.rangeController),onDragStop:t.rangeController.onDragStop.bind(t.rangeController),onDragging:t.rangeController.onDragging.bind(t.rangeController)};t.dragService.addDragSource(i),t.addDestroyFunc((function(){return t.dragService.removeDragSource(i)}))}))},i.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach((function(e){var i=t.processMouseEvent.bind(t,e);t.eAllCellContainers.forEach((function(n){return t.addManagedListener(n,e,i)}))}))},i.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eAllCellContainers.forEach((function(t){t.addEventListener("touchmove",e,{passive:!1})})),this.addDestroyFunc((function(){t.eAllCellContainers.forEach((function(t){t.removeEventListener("touchmove",e)}))}))},i.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var i=t.processKeyboardEvent.bind(t,e);t.eAllCellContainers.forEach((function(n){t.addManagedListener(n,e,i)}))}))},i.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(e){var i=Dt(e);i!==t.eBodyViewport&&i!==t.eCenterViewport||(t.onContextMenu(e,null,null,null,null),t.preventDefaultOnContextMenu(e))}))},i.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},i.prototype.getRowForEvent=function(t){for(var e=Dt(t);e;){var i=this.gridOptionsWrapper.getDomData(e,Ja.DOM_DATA_KEY_RENDERED_ROW);if(i)return i;e=e.parentElement}return null},i.prototype.processKeyboardEvent=function(t,e){var i=At(this.gridOptionsWrapper,e);if(i&&!e.defaultPrevented){var n=i.getRenderedRow().getRowNode(),o=i.getColumn(),r=i.isEditing();if(!bn(this.gridOptionsWrapper,e,n,o,r))switch(t){case"keydown":!r&&this.navigationService.handlePageScrollingKey(e)||i.onKeyDown(e),this.doGridOperations(e,i);break;case"keypress":i.onKeyPress(e)}if("keydown"===t){var a=i.createEvent(e,jt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}if("keypress"===t){var s=i.createEvent(e,jt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(s)}}},i.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e.isEditing()&&this.mouseEventService.isEventFromThisGrid(t))switch(t.which){case qn.A:return this.onCtrlAndA(t);case qn.C:return this.onCtrlAndC(t);case qn.V:return this.onCtrlAndV();case qn.D:return this.onCtrlAndD(t);case qn.Z:return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case qn.Y:return this.undoRedoService.redo()}},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Rt(e)){var i=this.getRowForEvent(e),n=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?(this.preventDefaultOnContextMenu(e),this.handleContextMenuMouseEvent(e,null,i,n)):(n&&n.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}},i.prototype.mockContextMenuForIPad=function(){var t=this;Ne()&&this.eAllCellContainers.forEach((function(e){var i=new yo(e);t.addManagedListener(i,yo.EVENT_LONG_TAP,(function(e){var i=t.getRowForEvent(e.touchEvent),n=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,i,n)})),t.addDestroyFunc((function(){return i.destroy()}))}))},i.prototype.handleContextMenuMouseEvent=function(t,e,i,n){var o=i?i.getRowNode():null,r=n?n.getColumn():null,a=null;if(r){var s=t||e;n.dispatchCellContextMenuEvent(s),a=this.valueService.getValue(r,o)}this.onContextMenu(t,e,o,r,a)},i.prototype.onContextMenu=function(t,e,i,n,o){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!t||!t.ctrlKey&&!t.metaKey)&&this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()){var r=t||e.touches[0];if(this.contextMenuFactory.showMenu(i,n,o,r))(t||e).preventDefault()}},i.prototype.preventDefaultOnContextMenu=function(t){var e=this.gridOptionsWrapper,i=t.which;(e.isPreventDefaultOnContextMenu()||e.isSuppressMiddleClickScrolls()&&2===i)&&t.preventDefault()},i.prototype.onCtrlAndA=function(t){var e=this,i=e.pinnedRowModel,n=e.paginationProxy,o=e.rangeController,a=mt.PINNED_BOTTOM,s=mt.PINNED_TOP;if(o&&n.isRowsToRender()){var l=[i.isEmpty(s),i.isEmpty(a)],u=l[0]?null:s,h=void 0,p=void 0;l[1]?(h=null,p=this.paginationProxy.getRowCount()-1):(h=a,p=i.getPinnedBottomRowData().length-1);var c=this.columnController.getAllDisplayedColumns();if(r(c))return;o.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:p,rowEndPinned:h,columnStart:c[0],columnEnd:g(c)})}t.preventDefault()},i.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),t.preventDefault())},i.prototype.onCtrlAndV=function(){yt.isRegistered(e.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(t){yt.isRegistered(e.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},i.prototype.ensureIndexVisible=function(t,e){if(!this.printLayout){var i=this.paginationProxy.getRowCount();if("number"!==typeof t||t<0||t>=i)console.warn("invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var n,o=this.paginationProxy.getRow(t);do{var r=o.rowTop,a=o.rowHeight,s=this.paginationProxy.getPixelOffset(),l=o.rowTop-s,u=l+o.rowHeight,h=this.getVScrollPosition(),p=this.heightScaler.getOffset(),c=h.top+p,d=h.bottom+p,f=d-c,g=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-f),y=Math.min((g+m)/2,l),v=null;"top"===e?v=g:"bottom"===e?v=m:"middle"===e?v=y:c>l?v=g:d<u&&(v=m),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),n=r!==o.rowTop||a!==o.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},i.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},i.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return Xe(this.eBodyViewport,"ag-force-vertical-scroll",t),t||Ci(this.eBodyViewport)},i.prototype.isHorizontalScrollShowing=function(){return vi(this.eCenterViewport)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:!1,verticalScrollShowing:!1};t.verticalScrollShowing=this.isVerticalScrollShowing(),t.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(t),this.setHorizontalScrollVisible(t.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},i.prototype.setHorizontalScrollVisible=function(t){var e=this.gridOptionsWrapper.isSuppressHorizontalScroll(),i=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=e?0:i,o=De()&&t;this.eCenterViewport.style.height="calc(100% + "+i+"px)",wi(this.eHorizontalScrollBody,n),wi(this.eBodyHorizontalScrollViewport,n+(o?1:0)),wi(this.eBodyHorizontalScrollContainer,n)},i.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.eTop.style.overflowY=this.eBottom.style.overflowY=e,this.setFakeHScrollSpacerWidths()},i.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.paginationProxy.getType(),i=-1;e===mt.ROW_MODEL_TYPE_CLIENT_SIDE&&(i=0,this.paginationProxy.forEachNode((function(t){t.group||i++})));var n=-1===i?-1:t+i;Ki(this.getGui(),n)},i.prototype.updateColumnCount=function(){var t=this.columnController.getAllGridColumns();$i(this.getGui(),t.length)},i.prototype.ensureColumnVisible=function(t){var e=this.columnController.getGridColumn(t);if(e)if(e.isPinned())console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId());else if(this.columnController.isColumnDisplayed(e)){var i,n,o=e.getLeft(),r=o+e.getActualWidth(),a=this.eCenterViewport.clientWidth,s=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(i=l-s-a,n=l-s):(i=s,n=a+s);var u=i>o,h=n<r,p=a<e.getActualWidth(),c=u||p,d=h,f=this.getCenterViewportScrollLeft();(c||d)&&(f=this.enableRtl?c?l-a-o:l-r:c?o:r-a,this.setCenterViewportScrollLeft(f)),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},i.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},i.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},i.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},i.prototype.sizeColumnsToFit=function(t){var e=this,i=this.eBodyViewport.clientWidth;i>0?this.columnController.sizeColumnsToFit(i,"sizeColumnsToFit"):void 0===t?window.setTimeout((function(){e.sizeColumnsToFit(100)}),0):100===t?window.setTimeout((function(){e.sizeColumnsToFit(500)}),100):500===t?window.setTimeout((function(){e.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.getCenterContainer=function(){return this.eCenterContainer},i.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},i.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},i.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},i.prototype.buildRowContainerComponents=function(){var t=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new ml({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new ml({eContainer:this.eFullWidthContainer}),pinnedLeft:new ml({eContainer:this.eLeftContainer}),pinnedRight:new ml({eContainer:this.eRightContainer}),floatingTop:new ml({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new ml({eContainer:this.eLeftTop}),floatingTopPinnedRight:new ml({eContainer:this.eRightTop}),floatingTopFullWidth:new ml({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new ml({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new ml({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new ml({eContainer:this.eRightBottom}),floatingBottomFullWidth:new ml({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},A(this.rowContainerComponents,(function(e,i){i&&t.getContext().createBean(i)}))},i.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsWrapper.isAnimateRows()&&!t.heightScaler.isScaling();Xe(t.eBodyViewport,"ag-row-animation",e),Xe(t.eBodyViewport,"ag-row-no-animation",!e)};e(),this.addManagedListener(this.eventService,jt.EVENT_HEIGHT_SCALE_CHANGED,e)},i.prototype.suppressScrollOnFloatingRow=function(){var t=this;this.addManagedListener(this.eTopViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0})),this.addManagedListener(this.eBottomViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0}))},i.prototype.getRowContainers=function(){return this.rowContainerComponents},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},i.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},i.prototype.setCenterWidth=function(){var t=this.headerRootComp,e=this.columnController,i=e.getBodyContainerWidth();this.printLayout&&(i+=e.getPinnedLeftContainerWidth()+e.getPinnedRightContainerWidth());t.setHeaderContainerWidth(i);var n=i+"px";this.eCenterContainer.style.width=n,this.eBottomContainer.style.width=n,this.eTopContainer.style.width=n,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=n)},i.prototype.setPinnedLeftWidth=function(){var t=this,e=this.pinningLeft,i=this.columnController.getPinnedLeftContainerWidth(),n=this.pinningLeft=!this.printLayout&&i>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];e!==n&&this.headerRootComp.setLeftVisible(n),o.forEach((function(e){return Ke(e,t.pinningLeft)})),n&&o.forEach((function(t){return bi(t,i)}))},i.prototype.setPinnedRightWidth=function(){var t=this.pinningRight,e=this.columnController.getPinnedRightContainerWidth(),i=this.pinningRight=!this.printLayout&&e>0,n=[this.eRightContainer,this.eRightTop,this.eRightBottom];t!==i&&this.headerRootComp.setRightVisible(i),n.forEach((function(t){return Ke(t,i)})),i&&n.forEach((function(t){return bi(t,e)}))},i.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},i.prototype.setFakeHScrollSpacerWidths=function(){var t=this.columnController.getPinnedRightContainerWidth(),e=!this.enableRtl&&this.isVerticalScrollShowing(),i=this.gridOptionsWrapper.getScrollbarWidth();e&&(t+=i),bi(this.eHorizontalRightSpacer,t),Xe(this.eHorizontalRightSpacer,"ag-scroller-corner",t<=i);var n=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(n+=i),bi(this.eHorizontalLeftSpacer,n),Xe(this.eHorizontalLeftSpacer,"ag-scroller-corner",n<=i)},i.prototype.checkBodyHeight=function(){var t=this.eBodyViewport.clientHeight;if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:jt.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},i.prototype.setHeaderAndFloatingHeights=function(){var t,e,i,n=this,o=n.columnController,r=n.gridOptionsWrapper,a=n.pinnedRowModel,s=n.eTop,l=n.eBottom,u=0,h=o.getHeaderRowCount();o.isPivotMode()?(e=r.getPivotGroupHeaderHeight(),i=r.getPivotHeaderHeight()):(o.hasFloatingFilters()&&(h++,u=1),e=r.getGroupHeaderHeight(),i=r.getHeaderHeight());var p=h-(1+u);t=u*r.getFloatingFiltersHeight(),t+=p*e,t+=i,this.headerRootComp.setHeight(t);var c=a.getPinnedTopTotalHeight();c&&(c+=1);var d=a.getPinnedBottomTotalHeight();d&&(d+=1);var f=c+"px",g=d+"px";s.style.minHeight=f,s.style.height=f,s.style.display=c?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=d?"inherit":"none",this.checkBodyHeight()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.setHorizontalScrollPosition=function(t){var e=this.eCenterViewport.scrollWidth-this.eCenterViewport.clientWidth;this.shouldBlockScrollUpdate("horizontal",t)&&(t=Math.min(Math.max(t,0),e)),this.eCenterViewport.scrollLeft=t,this.doHorizontalScroll(t)},i.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},i.prototype.scrollHorizontally=function(t){var e=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(e+t),this.eCenterViewport.scrollLeft-e},i.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},i.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var t=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Z(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",t)},i.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.scrollTop=t,this.redrawRowsAfterScroll())},i.prototype.shouldBlockScrollUpdate=function(t,e,i){if(void 0===i&&(i=!1),i&&!Ne)return!1;if("vertical"===t){var n=this.eBodyViewport,o=n.clientHeight,r=n.scrollHeight;if(e<0||e+o>r)return!0}if("horizontal"===t){var a=this.eCenterViewport,s=a.clientWidth,l=a.scrollWidth;if(this.enableRtl&&oi()){if(e>0)return!0}else if(e<0)return!0;if(Math.abs(e)+s>l)return!0}return!1},i.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},i.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},i.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},i.prototype.onBodyHorizontalScroll=function(t){var e=this.eCenterViewport.scrollLeft;this.shouldBlockScrollUpdate("horizontal",e,!0)||(this.doHorizontalScroll(Math.floor(ri(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(t){this.scrollLeft=t;var e={type:jt.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged()},i.prototype.redrawRowsAfterScroll=function(){var t={type:jt.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t)},i.prototype.onHorizontalViewportChanged=function(){var t=this.eCenterViewport.clientWidth,e=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(t,e)},i.prototype.getCenterViewportScrollLeft=function(){return ri(this.eCenterViewport,this.enableRtl)},i.prototype.setCenterViewportScrollLeft=function(t){ai(this.eCenterViewport,t,this.enableRtl)},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){void 0===t&&(t=this.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t;this.headerRootComp.setHorizontalScroll(e),this.eBottomContainer.style.transform="translateX("+e+"px)",this.eTopContainer.style.transform="translateX("+e+"px)",ai(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,t,this.enableRtl)},i.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},i.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},El([st("alignedGridsService")],i.prototype,"alignedGridsService",void 0),El([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),El([st("rowRenderer")],i.prototype,"rowRenderer",void 0),El([st("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),El([st("animationFrameService")],i.prototype,"animationFrameService",void 0),El([st("navigationService")],i.prototype,"navigationService",void 0),El([st("autoHeightCalculator")],i.prototype,"autoHeightCalculator",void 0),El([st("columnAnimationService")],i.prototype,"columnAnimationService",void 0),El([st("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),El([st("paginationAutoPageSizeService")],i.prototype,"paginationAutoPageSizeService",void 0),El([st("beans")],i.prototype,"beans",void 0),El([st("paginationProxy")],i.prototype,"paginationProxy",void 0),El([st("columnApi")],i.prototype,"columnApi",void 0),El([st("gridApi")],i.prototype,"gridApi",void 0),El([st("dragService")],i.prototype,"dragService",void 0),El([st("mouseEventService")],i.prototype,"mouseEventService",void 0),El([st("$scope")],i.prototype,"$scope",void 0),El([st("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),El([st("valueService")],i.prototype,"valueService",void 0),El([st("dragAndDropService")],i.prototype,"dragAndDropService",void 0),El([st("maxDivHeightScaler")],i.prototype,"heightScaler",void 0),El([st("resizeObserverService")],i.prototype,"resizeObserverService",void 0),El([st("undoRedoService")],i.prototype,"undoRedoService",void 0),El([st("columnController")],i.prototype,"columnController",void 0),El([st("headerNavigationService")],i.prototype,"headerNavigationService",void 0),El([st("popupService")],i.prototype,"popupService",void 0),El([lt("rangeController")],i.prototype,"rangeController",void 0),El([lt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),El([lt("menuFactory")],i.prototype,"menuFactory",void 0),El([lt("clipboardService")],i.prototype,"clipboardService",void 0),El([Hn("eBodyViewport")],i.prototype,"eBodyViewport",void 0),El([Hn("eCenterContainer")],i.prototype,"eCenterContainer",void 0),El([Hn("eCenterViewport")],i.prototype,"eCenterViewport",void 0),El([Hn("eLeftContainer")],i.prototype,"eLeftContainer",void 0),El([Hn("eRightContainer")],i.prototype,"eRightContainer",void 0),El([Hn("eCenterColsClipper")],i.prototype,"eCenterColsClipper",void 0),El([Hn("eHorizontalScrollBody")],i.prototype,"eHorizontalScrollBody",void 0),El([Hn("eHorizontalLeftSpacer")],i.prototype,"eHorizontalLeftSpacer",void 0),El([Hn("eHorizontalRightSpacer")],i.prototype,"eHorizontalRightSpacer",void 0),El([Hn("eBodyHorizontalScrollViewport")],i.prototype,"eBodyHorizontalScrollViewport",void 0),El([Hn("eBodyHorizontalScrollContainer")],i.prototype,"eBodyHorizontalScrollContainer",void 0),El([Hn("eFullWidthContainer")],i.prototype,"eFullWidthContainer",void 0),El([Hn("eTop")],i.prototype,"eTop",void 0),El([Hn("eLeftTop")],i.prototype,"eLeftTop",void 0),El([Hn("eRightTop")],i.prototype,"eRightTop",void 0),El([Hn("eTopContainer")],i.prototype,"eTopContainer",void 0),El([Hn("eTopViewport")],i.prototype,"eTopViewport",void 0),El([Hn("eTopFullWidthContainer")],i.prototype,"eTopFullWidthContainer",void 0),El([Hn("eBottom")],i.prototype,"eBottom",void 0),El([Hn("eLeftBottom")],i.prototype,"eLeftBottom",void 0),El([Hn("eRightBottom")],i.prototype,"eRightBottom",void 0),El([Hn("eBottomContainer")],i.prototype,"eBottomContainer",void 0),El([Hn("eBottomViewport")],i.prototype,"eBottomViewport",void 0),El([Hn("eBottomFullWidthContainer")],i.prototype,"eBottomFullWidthContainer",void 0),El([Hn("headerRoot")],i.prototype,"headerRootComp",void 0),El([Hn("overlayWrapper")],i.prototype,"overlayWrapper",void 0),El([ot],i.prototype,"init",null),i}(Bn),Sl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Tl=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},t.prototype.init=function(){switch(this.rowModel.getType()){case mt.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case mt.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case mt.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;A(this.detailGridInfoMap,(function(i,o){n(o)&&(t(o,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(yt.assertRegistered(e.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){yt.assertRegistered(e.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getDataAsExcel=function(t){if(yt.assertRegistered(e.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(t)},t.prototype.exportDataAsExcel=function(t){yt.assertRegistered(e.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(t)},t.prototype.setEnterpriseDatasource=function(t){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},t.prototype.setServerSideDatasource=function(t){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+mt.ROW_MODEL_TYPE_SERVER_SIDE+"'")},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+mt.ROW_MODEL_TYPE_INFINITE+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+mt.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var e=this.immutableService.createTransactionForRowData(t);if(!e)return;var i=e[0],n=e[1],o=this.clientSideRowModel.updateRowData(i,n);this.rowRenderer.refreshFullWidthRows(o.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(t);else console.warn("cannot call setRowData unless using normal row model")},t.prototype.setFloatingTopRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},t.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},t.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},t.prototype.getFloatingTopRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},t.prototype.getFloatingBottomRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnController.setColumnDefs(t,e)},t.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},t.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={}),t&&t.rowNodes?this.rowRenderer.redrawRows(t.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},t.prototype.timeFullRedraw=function(t){void 0===t&&(t=1);var e=0,i=0,n=0,o=this;!function r(){var a=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var s=(new Date).getTime();window.setTimeout((function(){var o=(new Date).getTime(),l=s-a,u=o-s;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),e++,i+=l,n+=u,e<t?window.setTimeout(r,1e3):(console.log("tests complete. iteration count = "+e),console.log("average processing = "+i/e+"ms"),console.log("average reflow = "+n/e+"ms"))}),0)}()},t.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},t.prototype.refreshRows=function(t){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:t})},t.prototype.rowDataChanged=function(t){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},t.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},t.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},t.prototype.onGroupExpandedOrCollapsed=function(t){o(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),n(t)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:mt.STEP_MAP})},t.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},t.prototype.refreshClientSideRowModel=function(t){o(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=mt.STEP_EVERYTHING,i={group:mt.STEP_EVERYTHING,filter:mt.STEP_FILTER,map:mt.STEP_MAP,aggregate:mt.STEP_AGGREGATE,sort:mt.STEP_SORT,pivot:mt.STEP_PIVOT};if(n(t)&&(e=i[t]),o(e))console.error("ag-Grid: invalid step "+t+", available steps are "+Object.keys(i).join(", "));else{var r={step:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0};this.clientSideRowModel.refreshModel(r)}},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},t.prototype.expandAll=function(){o(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},t.prototype.collapseAll=function(){o(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},t.prototype.getToolPanelInstance=function(t){return this.gridCore.getToolPanelInstance(t)},t.prototype.addVirtualRowListener=function(t,e,i){"string"!==typeof t&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,i)},t.prototype.addRenderedRowListener=function(t,e,i){"virtualRowSelected"===t&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,i)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,i){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),i&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(t)},t.prototype.selectNode=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),i&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},t.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},t.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},t.prototype.recomputeAggregates=function(){o(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:mt.STEP_AGGREGATE})},t.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t){this.gridPanel.ensureColumnVisible(t)},t.prototype.ensureIndexVisible=function(t,e){this.gridPanel.ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){this.gridCore.ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterApiForColDef=function(t){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.getFilterInstance=function(t,e){var i=this.columnController.getPrimaryColumn(t);if(i){var n=this.filterManager.getFilterComponent(i,"NO_UI"),o=n.resolveNow(null,(function(t){return t}));return e&&(o?setTimeout(e,0,o):n.then(e)),o}},t.prototype.getFilterApi=function(t){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.destroyFilter=function(t){var e=this.columnController.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},t.prototype.getStatusPanel=function(t){if(this.statusBarService)return this.statusBarService.getStatusPanel(t)},t.prototype.getColumnDef=function(t){var e=this.columnController.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged()},t.prototype.setSortModel=function(t,e){console.warn("ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var i=[];t&&t.forEach((function(t,e){i.push({colId:t.colId,sort:t.sort,sortIndex:e})})),this.columnController.applyColumnState({state:i,defaultState:{sort:null}})},t.prototype.getSortModel=function(){console.warn("ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var t=this.columnController.getColumnState().filter((function(t){return null!=t.sort})),e={};t.forEach((function(t){return e[t.colId]=t.sortIndex}));var i=t.map((function(t){return{colId:t.colId,sort:t.sort}}));return i.sort((function(t,i){return e[t.colId]-e[i.colId]})),i},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,i){this.focusController.setFocusedCell(t,e,i,!0)},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_SUPPRESS_ROW_DRAG,t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},t.prototype.addRowDropZone=function(t){this.gridPanel.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridPanel.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_DOM_LAYOUT,t)},t.prototype.setEnableCellTextSelection=function(t){this.gridPanel.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_FILL_HANDLE_DIRECTION,t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_FLOATING_FILTERS_HEIGHT,t),this.doLayout()},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_PIVOT_HEADER_HEIGHT,t),this.doLayout()},t.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},t.prototype.setSideBarVisible=function(t){this.gridCore.setSideBarVisible(t)},t.prototype.setSideBarPosition=function(t){this.gridCore.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.gridCore.openToolPanel(t)},t.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},t.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},t.prototype.getSideBar=function(){return this.gridCore.getSideBar()},t.prototype.setSideBar=function(t){return this.gridCore.setSideBar(t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},t.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},t.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},t.prototype.resetRowHeights=function(){n(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var i=this.columnController.getPrimaryColumn(t);return o(i)&&(i=this.columnController.getGridColumn(t)),o(i)?null:this.valueService.getValue(i,e)},t.prototype.addEventListener=function(t,e){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,i)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,i)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Dn.removeAllReferences.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("ag-Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},t.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},t.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},t.prototype.camelCaseToHumanReadable=function(t){return $t(t)},t.prototype.addRangeSelection=function(t){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},t.prototype.addCellRange=function(t){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(t)},t.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},t.prototype.undoCellEditing=function(){this.undoRedoService.undo()},t.prototype.redoCellEditing=function(){this.undoRedoService.redo()},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.getChartModels")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.createRangeChart=function(t){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createPivotChart=function(t){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copySelectedRowsToClipboard=function(t,e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t,e)},t.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var i=this.columnController.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(i,e)},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var i=this.columnController.getGridColumn(t);i||(i=this.columnController.getPrimaryColumn(t)),i?this.menuFactory.showMenuAfterMouseEvent(i,e):console.error("ag-Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(ta.PROP_POPUP_PARENT,t)},t.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},t.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnController.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e};o(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),this.rowRenderer.startEditingCell(i,t.keyPress,t.charPress)}else console.warn("ag-Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t,e){void 0===e&&(e=[]),this.serverSideRowModel&&this.serverSideRowModel.applyTransaction(t,e)},t.prototype.applyTransaction=function(t){var e=null;if(this.clientSideRowModel)e=this.clientSideRowModel.updateRowData(t);else{if(!this.infiniteRowModel)return void console.error("ag-Grid: updateRowData() only works with ClientSideRowModel.");X((function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")}),"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(t)}return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e},t.prototype.updateRowData=function(t){return X((function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(t)},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.batchUpdateRowData=function(t,e){X((function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},t.prototype.insertItemsAtIndex=function(t,e,i){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},t.prototype.removeItems=function(t,e){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var i=t.map((function(t){return t.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:i})},t.prototype.addItems=function(t,e){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},t.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},t.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},t.prototype.purgeServerSideCache=function(t){this.serverSideRowModel?this.serverSideRowModel.purgeCache(t):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},t.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},t.prototype.setVirtualRowCount=function(t,e){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(t,e)},t.prototype.setInfiniteRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(t,e):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},t.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Sl([lt("immutableService")],t.prototype,"immutableService",void 0),Sl([lt("csvCreator")],t.prototype,"csvCreator",void 0),Sl([lt("excelCreator")],t.prototype,"excelCreator",void 0),Sl([st("rowRenderer")],t.prototype,"rowRenderer",void 0),Sl([st("filterManager")],t.prototype,"filterManager",void 0),Sl([st("columnController")],t.prototype,"columnController",void 0),Sl([st("selectionController")],t.prototype,"selectionController",void 0),Sl([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sl([st("valueService")],t.prototype,"valueService",void 0),Sl([st("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Sl([st("eventService")],t.prototype,"eventService",void 0),Sl([st("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Sl([st("context")],t.prototype,"context",void 0),Sl([st("rowModel")],t.prototype,"rowModel",void 0),Sl([st("sortController")],t.prototype,"sortController",void 0),Sl([st("paginationProxy")],t.prototype,"paginationProxy",void 0),Sl([st("focusController")],t.prototype,"focusController",void 0),Sl([st("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Sl([lt("rangeController")],t.prototype,"rangeController",void 0),Sl([lt("clipboardService")],t.prototype,"clipboardService",void 0),Sl([lt("aggFuncService")],t.prototype,"aggFuncService",void 0),Sl([st("menuFactory")],t.prototype,"menuFactory",void 0),Sl([lt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Sl([st("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),Sl([st("valueCache")],t.prototype,"valueCache",void 0),Sl([st("animationFrameService")],t.prototype,"animationFrameService",void 0),Sl([lt("statusBarService")],t.prototype,"statusBarService",void 0),Sl([lt("chartService")],t.prototype,"chartService",void 0),Sl([lt("undoRedoService")],t.prototype,"undoRedoService",void 0),Sl([ot],t.prototype,"init",null),Sl([rt],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Sl([at("gridApi")],t)}(),_l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ml=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Rl=function(t,e){return function(i,n){e(i,n,t)}},Ol=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return _l(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("function"===typeof t)return t(e);if("string"===typeof t){var i=t;return this.evaluateExpression(i,e)}console.error("ag-Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+i),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Ml([Rl(0,ht("loggerFactory"))],e.prototype,"setBeans",null),e=Ml([at("expressionService")],e)}(Bt),Al=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Dl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},kl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Al(e,t),e.prototype.getTemplate=function(t,e){var i=this.templateCache[t];if(i)return i;var n=this.waitingCallbacks[t],o=this;if(!n){n=[],this.waitingCallbacks[t]=n;var r=new XMLHttpRequest;r.onload=function(){o.handleHttpResult(this,t)},r.open("GET",t),r.send()}return e&&n.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var i=this.waitingCallbacks[e],n=0;n<i.length;n++){(0,i[n])()}if(this.$scope){var o=this;window.setTimeout((function(){o.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+t.status+" - "+e)},Dl([st("$scope")],e.prototype,"$scope",void 0),e=Dl([at("templateService")],e)}(Bt),Fl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Il=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ll=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}return Fl(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_KEYBOARD_FOCUS,(function(){_(t.popupList,(function(t){return Ue(t.element,"ag-keyboard-focus")}))})),this.addManagedListener(this.eventService,jt.EVENT_MOUSE_FOCUS,(function(){_(t.popupList,(function(t){return Ye(t.element,"ag-keyboard-focus")}))}))},e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getPopupParent=function(){var t=this.gridOptionsWrapper.getPopupParent();return t||this.gridCore.getRootGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),i=this.getParentRect(),n=this.keepYWithinBounds(t,e.top-i.top),o=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=o+"px";var r,a=i.right-i.left-o;function s(){return e.right-i.left-2}function l(){return e.left-i.left-o}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=s()),r>a&&(r=0)):((r=s())>a&&(r=l()),r<0&&(r=0)),t.ePopup.style.left=r+"px",t.ePopup.style.top=n+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this.calculatePointerAlign(t.mouseEvent),i=e.x,n=e.y,o=t.ePopup,r=t.nudgeX,a=t.nudgeY;this.positionPopup({ePopup:o,x:i,y:n,nudgeX:r,nudgeY:a,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupUnderComponent=function(t){var e=t.eventSource.getBoundingClientRect(),i=t.alignSide||"left",n=this.getParentRect(),o=e.left-n.left;"right"===i&&(o-=t.ePopup.offsetWidth-e.width),this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,minHeight:t.minHeight,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:o,y:e.top-n.top+e.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.positionPopupOverComponent=function(t){var e=t.eventSource.getBoundingClientRect(),i=this.getParentRect();this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-i.left,y:e.top-i.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.callPostProcessPopup=function(t,e,i,n,o,r){var a=this.gridOptionsWrapper.getPostProcessPopupFunc();a&&a({column:o,rowNode:r,ePopup:e,type:t,eventSource:i,mouseEvent:n})},e.prototype.positionPopup=function(t){var e=t.x,i=t.y;t.nudgeX&&(e+=t.nudgeX),t.nudgeY&&(i+=t.nudgeY),t.keepWithinBounds&&(e=this.keepXWithinBounds(t,e),i=this.keepYWithinBounds(t,i)),t.ePopup.style.left=e+"px",t.ePopup.style.top=i+"px"},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getParentRect=function(){var t=this.getPopupParent(),e=this.gridOptionsWrapper.getDocument();t===e.body&&(t=e.documentElement);var i=getComputedStyle(t),n=t.getBoundingClientRect();return{top:n.top+parseFloat(i.borderTopWidth)||0,left:n.left+parseFloat(i.borderLeftWidth)||0,right:n.right+parseFloat(i.borderRightWidth)||0,bottom:n.bottom+parseFloat(i.borderBottomWidth)||0}},e.prototype.keepYWithinBounds=function(t,e){var i=this.gridOptionsWrapper.getDocument(),n=i.documentElement,o=this.getPopupParent(),r=o.getBoundingClientRect(),a=i.documentElement.getBoundingClientRect(),s=o===i.body,l=Math.min(200,r.height),u=0;t.minHeight&&t.minHeight<l?l=t.minHeight:t.ePopup.offsetHeight>0&&(l=t.ePopup.clientHeight,u=ii(t.ePopup)-l);var h=s?ii(n)+n.scrollTop:r.height;s&&(h-=Math.abs(a.top-r.top));var p=h-l-u;return Math.min(Math.max(e,0),Math.abs(p))},e.prototype.keepXWithinBounds=function(t,e){var i=this.gridOptionsWrapper.getDocument(),n=i.documentElement,o=this.getPopupParent(),r=o.getBoundingClientRect(),a=i.documentElement.getBoundingClientRect(),s=o===i.body,l=t.ePopup,u=Math.min(200,r.width),h=0;t.minWidth&&t.minWidth<u?u=t.minWidth:l.offsetWidth>0&&(u=l.offsetWidth,l.style.minWidth=u+"px",h=ni(l)-u);var p=s?ni(n)+n.scrollLeft:r.width;s&&(p-=Math.abs(a.left-r.left));var c=p-u-h;return Math.min(Math.max(e,0),Math.abs(c))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this.getPopupParent(),i=e.getBoundingClientRect(),n=t.element.getBoundingClientRect(),o=i.top-n.top,r=o,a=t.ePopup.style.top,s=parseInt(a.substring(0,a.length-1),10),l=window.setInterval((function(){var i=e.getBoundingClientRect(),n=t.element.getBoundingClientRect(),a=i.top-n.top;if(a!=r){var l=s+o-a;t.ePopup.style.top=l+"px"}r=a}),200);return function(){window.clearInterval(l)}},e.prototype.addPopup=function(t){var e=this,i=t.modal,n=t.eChild,o=t.closeOnEsc,r=t.closedCallback,a=t.click,s=t.alwaysOnTop,l=t.positionCallback,u=t.anchorToElement,h=this.gridOptionsWrapper.getDocument();if(!h)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var p=P(this.popupList,(function(t){return t.element===n}));if(-1!==p)return this.popupList[p].hideFunc;var c=this.getPopupParent();c.appendChild(n),null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var d=document.createElement("div"),f=this.environment.getTheme().theme;f&&Ue(d,f),Ue(d,"ag-popup"),Ue(n,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Ue(n,"ag-popup-child"),d.appendChild(n),c.appendChild(d),s?this.setAlwaysOnTop(d,!0):this.bringPopupToFront(d);var g,m=!1,y=function(t){d.contains(document.activeElement)&&((t.which||t.keyCode)===qn.ESCAPE&&x({keyboardEvent:t}))},v=function(t){return x({mouseEvent:t})},C=function(t){return x({touchEvent:t})},x=function(t){void 0===t&&(t={});var i=t.mouseEvent,o=t.touchEvent,s=t.keyboardEvent;e.isEventFromCurrentPopup({mouseEvent:i,touchEvent:o},n)||e.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:i,touchEvent:o})||m||(m=!0,c.removeChild(d),h.removeEventListener("keydown",y),h.removeEventListener("mousedown",v),h.removeEventListener("touchstart",C),h.removeEventListener("contextmenu",v),e.eventService.removeEventListener(jt.EVENT_DRAG_STARTED,v),r&&r(i||o||s),e.popupList=e.popupList.filter((function(t){return t.element!==n})),g&&g())};return window.setTimeout((function(){o&&h.addEventListener("keydown",y),i&&(h.addEventListener("mousedown",v),e.eventService.addEventListener(jt.EVENT_DRAG_STARTED,v),h.addEventListener("touchstart",C),h.addEventListener("contextmenu",v))}),0),this.popupList.push({element:n,hideFunc:x}),l&&l(),u&&(g=this.keepPopupPositionedRelativeTo({element:u,ePopup:n})),x},e.prototype.isEventFromCurrentPopup=function(t,e){var i=t.mouseEvent,n=t.touchEvent,o=i||n;if(!o)return!1;var r=P(this.popupList,(function(t){return t.element===e}));if(-1===r)return!1;for(var a=r;a<this.popupList.length;a++){if(kt(this.popupList[a].element,o))return!0}return this.isElementWithinCustomPopup(o.target)},e.prototype.isElementWithinCustomPopup=function(t){if(!this.popupList.length)return!1;for(;t&&t!==document.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,i=t.mouseEvent,n=t.touchEvent,o=null;if(i?o=i:n&&(o=n.touches[0]),o&&e){var r=i?i.screenX:0,a=i?i.screenY:0,s=Math.abs(e.screenX-r)<5,l=Math.abs(e.screenY-a)<5;if(s&&l)return!0}return!1},e.prototype.getWrapper=function(t){for(;!qe(t,"ag-popup")&&t.parentElement;)t=t.parentElement;return qe(t,"ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var i=this.getWrapper(t);i&&(Xe(i,"ag-always-on-top",!!e),e&&this.bringPopupToFront(i))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,a=this.getWrapper(t);if(a&&!(n<=1)&&e.contains(t)){var s=i.indexOf(a);if(r)qe(a,"ag-always-on-top")?s!==n-1&&g(o).insertAdjacentElement("afterend",a):s!==n-r-1&&o[0].insertAdjacentElement("beforebegin",a);else s!==n-1&&g(i).insertAdjacentElement("afterend",a);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:a};this.eventService.dispatchEvent(l)}},Il([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Il([st("environment")],e.prototype,"environment",void 0),Il([ot],e.prototype,"init",null),e=Il([at("popupService")],e)}(Bt),Nl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Bl=function(t,e){return function(i,n){e(i,n,t)}},Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nl(e,t),e.prototype.setBeans=function(t){this.logging=t.isDebug()},e.prototype.create=function(t){return new Gl(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Vl([Bl(0,ht("gridOptionsWrapper"))],e.prototype,"setBeans",null),e=Vl([at("loggerFactory")],e)}(Bt),Gl=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+t)},t}(),Hl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hl(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},e.prototype.getPreferredWidthForColumn=function(t,e){var i=this.getHeaderCellForColumn(t);if(!i)return-1;var n=document.createElement("span");n.style.position="fixed";var o=this.gridPanel.getCenterContainer();o.appendChild(n),this.putRowCellsIntoDummyContainer(t,n),e||this.cloneItemIntoDummy(i,n);var r=n.offsetWidth;return o.removeChild(n),r+this.gridOptionsWrapper.getAutoSizePadding()},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.headerRootComp.forEachHeaderElement((function(i){if(i instanceof Ms){var n=i;n.getColumn()===t&&(e=n)}})),e?e.getGui():null},e.prototype.putRowCellsIntoDummyContainer=function(t,e){var i=this;this.rowRenderer.getAllCellsForColumn(t).forEach((function(t){return i.cloneItemIntoDummy(t,e)}))},e.prototype.cloneItemIntoDummy=function(t,e){var i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var n=document.createElement("div");qe(i,"ag-header-cell")?(Ue(n,"ag-header"),Ue(n,"ag-header-row"),n.style.position="static"):Ue(n,"ag-row"),n.style.display="table-row",n.appendChild(i),e.appendChild(n)},zl([st("rowRenderer")],e.prototype,"rowRenderer",void 0),zl([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=zl([at("autoWidthCalculator")],e)}(Bt),Ul=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ul(e,t),e.prototype.addResizeBar=function(t){var e=this,i={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(i,!0);return function(){return e.dragService.removeDragSource(i)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var i=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(i)},e.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Yl([st("dragService")],e.prototype,"dragService",void 0),Yl([st("eGridDiv")],e.prototype,"eGridDiv",void 0),e=Yl([at("horizontalResizeService")],e)}(Bt),ql=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Kl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ql=function(t){function i(){return t.call(this,void 0,!0)||this}return ql(i,t),i.prototype.postConstruct=function(){var i=this;this.logger=this.loggerFactory.create("GridCore");var n=this.createTemplate();if(this.setTemplate(n),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach((function(t){return t.registerGridCore(i)})),yt.isRegistered(e.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){i.eGridDiv.removeChild(i.getGui())})),this.$scope){var o=this.$scope.$watch(this.quickFilterOnScope,(function(t){return i.filterManager.setQuickFilter(t)}));this.addDestroyFunc(o)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var r=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return r()}));var a=this.getGui();this.addManagedListener(this.eventService,jt.EVENT_KEYBOARD_FOCUS,(function(){Ue(a,"ag-keyboard-focus")})),this.addManagedListener(this.eventService,jt.EVENT_MOUSE_FOCUS,(function(){Ye(a,"ag-keyboard-focus")})),t.prototype.postConstruct.call(this)},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.createTemplate=function(){var t=yt.isRegistered(e.ModuleNames.SideBarModule),i=yt.isRegistered(e.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(yt.isRegistered(e.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(t?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(i?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(yt.isRegistered(e.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableContainers=function(){var t=[this.gridPanel.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return ui(t)}))},i.prototype.focusNextInnerContainer=function(t){var e=this.getFocusableContainers(),i=P(e,(function(t){return t.contains(document.activeElement)}))+(t?-1:1);return!(i<0||i>=e.length)&&(0===i?this.focusGridHeader():this.focusController.focusInto(e[i]))},i.prototype.focusInnerElement=function(t){var e=this.getFocusableContainers();if(t){if(e.length>1)return this.focusController.focusInto(g(e));var i=g(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(i,!0))return!0}return this.focusGridHeader()},i.prototype.focusGridHeader=function(){var t=this.columnController.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnController.getColumnGroupAtLevel(t,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:t}),!0)},i.prototype.onGridSizeChanged=function(){var t={type:jt.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight};this.eventService.dispatchEvent(t)},i.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";Ue(this.getGui(),t)},i.prototype.getRootGui=function(){return this.getGui()},i.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},i.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("ag-Grid: sideBar is not loaded")},i.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("ag-Grid: sideBar is not loaded")},i.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},i.prototype.getSideBar=function(){return this.gridOptions.sideBar},i.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(t);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},i.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},i.prototype.setSideBar=function(t){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Xr.parse(t),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},i.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},i.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},i.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},i.prototype.destroy=function(){this.logger.log("Grid DOM removed"),t.prototype.destroy.call(this)},i.prototype.ensureNodeVisible=function(t,e){if(void 0===e&&(e=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var i=this.rowModel.getRowCount(),n="function"===typeof t,o=-1,r=0;r<i;r++){var a=this.rowModel.getRow(r);if(n){if(t(a)){o=r;break}}else if(t===a||t===a.data){o=r;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,e)},i.prototype.onTabKeyDown=function(){},Kl([st("gridOptions")],i.prototype,"gridOptions",void 0),Kl([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Kl([st("rowModel")],i.prototype,"rowModel",void 0),Kl([st("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Kl([st("rowRenderer")],i.prototype,"rowRenderer",void 0),Kl([st("filterManager")],i.prototype,"filterManager",void 0),Kl([st("eGridDiv")],i.prototype,"eGridDiv",void 0),Kl([st("$scope")],i.prototype,"$scope",void 0),Kl([st("quickFilterOnScope")],i.prototype,"quickFilterOnScope",void 0),Kl([st("popupService")],i.prototype,"popupService",void 0),Kl([st("columnController")],i.prototype,"columnController",void 0),Kl([st("loggerFactory")],i.prototype,"loggerFactory",void 0),Kl([st("columnApi")],i.prototype,"columnApi",void 0),Kl([st("gridApi")],i.prototype,"gridApi",void 0),Kl([lt("clipboardService")],i.prototype,"clipboardService",void 0),Kl([Hn("gridPanel")],i.prototype,"gridPanel",void 0),Kl([Hn("sideBar")],i.prototype,"sideBarComp",void 0),Kl([Hn("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),i}(no),$l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jl=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $l(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var i=this;this.showPopup(t,(function(n){i.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:n})}),e.target)},e.prototype.showMenuAfterButtonClick=function(t,e){var i=this;this.showPopup(t,(function(n){i.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:e,ePopup:n,keepWithinBounds:!0,column:t})}),e)},e.prototype.showPopup=function(t,e,i){var n,o=this,r=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"),a=document.createElement("div");a.setAttribute("role","presentation"),Ue(a,"ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(t){return o.trapFocusWithin(t,a)})),r.guiPromise.then((function(t){return a.appendChild(t)}));var s=function(t){"horizontal"===t.direction&&n()};this.eventService.addEventListener("bodyScroll",s);n=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(e){o.eventService.removeEventListener("bodyScroll",s),t.setMenuVisible(!1,"contextMenu");var n=e instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),n&&i&&ui(i)){var r=o.focusController.findTabbableParent(i);r&&r.focus()}}}),r.filterPromise.then((function(t){e(a),t.afterGuiAttached&&t.afterGuiAttached({container:"columnMenu",hidePopup:n})})),this.hidePopup=n,t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.keyCode!==qn.TAB||t.defaultPrevented||this.focusController.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusController.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},Jl([st("filterManager")],e.prototype,"filterManager",void 0),Jl([st("popupService")],e.prototype,"popupService",void 0),Jl([st("focusController")],e.prototype,"focusController",void 0),e=Jl([at("menuFactory")],e)}(Bt),tu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),eu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},iu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return tu(e,t),e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){var n=t.touchStartListener;e.removeEventListener("touchstart",n,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=h(this.dragSources,(function(e){return e.dragSource===t}));e&&(this.removeListener(e),v(this.dragSources,e))},e.prototype.setNoSelectToBody=function(t){var e=this.gridOptionsWrapper.getDocument().querySelector("body");n(e)&&Xe(e,"ag-unselectable",t)},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var i=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",i);var n=null,o=this.gridOptionsWrapper.isSuppressTouch();e&&!o&&(n=this.onTouchStart.bind(this,t),t.eElement.addEventListener("touchstart",n,{passive:!0})),this.dragSources.push({dragSource:t,mouseDownListener:i,touchStartListener:n,touchEnabled:e})},e.prototype.onTouchStart=function(t,e){var i=this;this.currentDragParams=t,this.dragging=!1;var n=e.touches[0];this.touchLastTime=n,this.touchStart=n;var o=function(e){return i.onTouchUp(e,t.eElement)},r=t.eElement,a=[{target:document,type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(e){return i.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:o,options:{passive:!0}},{target:r,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(a),0===t.dragStartPixels&&this.onCommonMove(n,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var i=this,n=e;if((!t.skipMouseEvent||!t.skipMouseEvent(e))&&!n._alreadyProcessedByDragService&&(n._alreadyProcessedByDragService=!0,0===e.button)){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e;var o=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0);var r=[{target:o,type:"mousemove",listener:function(e,n){return i.onMouseMove(e,t.eElement)}},{target:o,type:"mouseup",listener:function(e,n){return i.onMouseUp(e,t.eElement)}},{target:o,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(r),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,i=t.type,n=t.listener,o=t.options;e.addEventListener(i,n,o)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,i=t.type,n=t.listener,o=t.options;e.removeEventListener(i,n,o)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var i=this.currentDragParams.dragStartPixels;return Sn(t,e,n(i)?i:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var n={type:jt.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:i};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.onTouchUp=function(t,e){var i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var i={type:jt.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:e};this.eventService.dispatchEvent(i)}this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},eu([st("loggerFactory")],e.prototype,"loggerFactory",void 0),eu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),eu([st("columnApi")],e.prototype,"columnApi",void 0),eu([st("gridApi")],e.prototype,"gridApi",void 0),eu([ot],e.prototype,"init",null),eu([rt],e.prototype,"removeAllListeners",null),e=eu([at("dragService")],e)}(Bt),nu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ou=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ru=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getSortModel=function(){return e.getColumnsWithSortingOrdered().map((function(t){return{colId:t.getColId(),sort:t.getSort()}}))},e}var i;return nu(e,t),i=e,e.prototype.progressSort=function(t,e,i){void 0===i&&(i="api");var n=this.getNextSortDirection(t);this.setSortForColumn(t,n,e,i)},e.prototype.setSortForColumn=function(t,e,i,n){void 0===n&&(n="api"),e!==mt.SORT_ASC&&e!==mt.SORT_DESC&&(e=null),t.setSort(e,n),i&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(t,n),this.updateSortIndex(t),this.dispatchSortChangedEvents()},e.prototype.updateSortIndex=function(t){var e=this.getColumnsWithSortingOrdered(),i=0;e.forEach((function(e){e!==t&&(e.setSortIndex(i),i++)})),t.getSort()&&t.setSortIndex(i),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return null==t.getSort()})).forEach((function(t){return t.setSortIndex(void 0)}))},e.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},e.prototype.isSortActive=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(){var t={type:jt.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.clearSortBarThisColumn=function(t,e){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(i){i!==t&&i.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():i.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var n,o=e.indexOf(t.getSort()),r=o<0,a=o==e.length-1;return n=r||a?e[0]:e[o+1],i.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("ag-grid: invalid sort type "+n),null):n},e.prototype.getColumnsWithSortingOrdered=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t.sort((function(t,e){return t.getSortIndex()-e.getSortIndex()})),t},e.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{inverter:t.getSort()===mt.SORT_ASC?1:-1,column:t}}))},e.DEFAULT_SORTING_ORDER=[mt.SORT_ASC,mt.SORT_DESC,null],ou([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ou([st("columnController")],e.prototype,"columnController",void 0),ou([st("columnApi")],e.prototype,"columnApi",void 0),ou([st("gridApi")],e.prototype,"gridApi",void 0),e=i=ou([at("sortController")],e)}(Bt),au=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),su=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},lu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyboardFocusActive=!1,e}var n;return au(e,t),n=e,e.prototype.init=function(){var t=this.gridOptionsWrapper.getDocument(),e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(t,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(t,"mousedown",this.activateMouseMode.bind(this))},e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnController.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},e.prototype.activateMouseMode=function(){this.keyboardFocusActive&&(this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:jt.EVENT_MOUSE_FOCUS}))},e.prototype.activateKeyboardMode=function(){this.keyboardFocusActive||(this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:jt.EVENT_KEYBOARD_FOCUS}))},e.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},e.prototype.getGridCellForDomElement=function(t){for(var e=t;e;){var i=this.gridOptionsWrapper.getDomData(e,qa.DOM_DATA_KEY_CELL_COMP);if(i)return i.getCellPosition();e=e.parentNode}return null},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(t,e,n,o){void 0===o&&(o=!1);var r=this.columnController.getGridColumn(e);r?(this.focusedCellPosition={rowIndex:t,rowPinned:i(n),column:i(r)},this.onCellFocused(o)):this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumn(),i=t.getParentComponent().getRowIndex(),n=t.getPinned(),o=this.focusedHeaderPosition,r=o.column,a=o.headerRowIndex;return e===r&&i===a&&n==r.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t,e,i,n,o){if(void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1),n){var r,a=this.gridOptionsWrapper,s=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(i){if(r=a.getTabToNextHeaderFunc())t=r({backwards:"Before"===e,previousHeaderPosition:s,nextHeaderPosition:t,headerRowCount:l})}else if(r=a.getNavigateToNextHeaderFunc())t=r({key:o.key,previousHeaderPosition:s,nextHeaderPosition:t,headerRowCount:l,event:o})}if(!t)return!1;if(-1===t.headerRowIndex)return this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,e);var u=this.headerNavigationService.getHeaderContainer(t.column.getPinned()).getRowComps()[t.headerRowIndex].getHeaderComps()[t.column.getUniqueId()];return!!u&&(u.getFocusableElement().focus(),!0)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===i(e))},e.prototype.findFocusableElements=function(t,e,i){void 0===i&&(i=!1);var o=n.FOCUSABLE_SELECTOR,r=n.FOCUSABLE_EXCLUDE;e&&(r+=", "+e),i&&(r+=', [tabindex="-1"]');var a=Array.prototype.slice.apply(t.querySelectorAll(o)),s=Array.prototype.slice.apply(t.querySelectorAll(r));if(!s.length)return a;var l;return l=s,a.filter((function(t){return-1===l.indexOf(t)}))},e.prototype.focusInto=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=this.findFocusableElements(t,null,i),o=e?g(n):n[0];return!!o&&(o.focus(),!0)},e.prototype.findNextFocusableElement=function(t,e,i){var n=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),o=(e?P(n,(function(t){return t.contains(document.activeElement)})):n.indexOf(document.activeElement))+(i?-1:1);return o<0||o>=n.length?null:n[o]},e.prototype.isFocusUnderManagedComponent=function(t){var e=t.querySelectorAll("."+no.FOCUS_MANAGED_CLASS);if(!e.length)return!1;for(var i=0;i<e.length;i++)if(e[i].contains(document.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var i=0;t&&null===Ve(t)&&++i<=e;)t=t.parentElement;return null===Ve(t)?null:t},e.prototype.onCellFocused=function(t){var e={type:jt.EVENT_CELL_FOCUSED,forceBrowserFocus:t,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(e.rowIndex=this.focusedCellPosition.rowIndex,e.column=this.focusedCellPosition.column,e.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(e)},e.prototype.focusGridView=function(t,e){var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var o=n.rowIndex,r=n.rowPinned,a=this.getFocusedHeader();if(t||(t=a.column),null==o)return!1;if(this.rowRenderer.ensureCellVisible({rowIndex:o,column:t,rowPinned:r}),this.setFocusedCell(o,t,i(r),!0),this.rangeController){var s={rowIndex:o,rowPinned:r,column:t};this.rangeController.setRangeToCell(s)}return!0},e.prototype.focusNextGridCoreContainer=function(t){if(this.gridCore.focusNextInnerContainer(t))return!0;t||this.gridCore.forceFocusOutOfContainer()},e.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",e.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",su([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),su([st("columnController")],e.prototype,"columnController",void 0),su([st("headerNavigationService")],e.prototype,"headerNavigationService",void 0),su([st("columnApi")],e.prototype,"columnApi",void 0),su([st("gridApi")],e.prototype,"gridApi",void 0),su([st("rowRenderer")],e.prototype,"rowRenderer",void 0),su([st("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),su([lt("rangeController")],e.prototype,"rangeController",void 0),su([ot],e.prototype,"init",null),e=n=su([at("focusController")],e)}(Bt),uu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},pu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=i.gridInstanceSequence.next(),e}var i;return uu(e,t),i=e,e.prototype.init=function(){this.stampDomElementWithGridInstance()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[i.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return At(this.gridOptionsWrapper,t)},e.prototype.isEventFromThisGrid=function(t){for(var e=It(t),o=0;o<e.length;o++){var r=e[o][i.GRID_DOM_KEY];if(n(r))return r===this.gridInstanceId}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,i,n=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_NORMAL,o=t;if(null!=o.clientX||null!=o.clientY?(e=o.clientX,i=o.clientY):(e=o.x,i=o.y),n){var r=this.gridPanel.getVScrollPosition();e+=this.gridPanel.getHScrollPosition().left,i+=r.top}return{x:e,y:i}},e.gridInstanceSequence=new kn,e.GRID_DOM_KEY="__ag_grid_instance",hu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),hu([st("eGridDiv")],e.prototype,"eGridDiv",void 0),hu([ot],e.prototype,"init",null),e=i=hu([at("mouseEventService")],e)}(Bt),cu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),du=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cu(e,t),e.prototype.getNextCellToFocus=function(t,e){for(var i=e,n=!1;!n;){switch(t){case qn.UP:i=this.getCellAbove(i);break;case qn.DOWN:i=this.getCellBelow(i);break;case qn.RIGHT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(i):this.getCellToRight(i);break;case qn.LEFT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("ag-Grid: unknown key for navigation "+t)}n=!i||this.isCellGoodToFocusOn(i)}return i},e.prototype.isCellGoodToFocusOn=function(t){var e,i=t.column;switch(t.rowPinned){case mt.PINNED_TOP:e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case mt.PINNED_BOTTOM:e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!i.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnController.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnController.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case mt.PINNED_BOTTOM:return null;case mt.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(mt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:mt.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(mt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:mt.PINNED_BOTTOM}:null}return{rowIndex:e+1,rowPinned:i}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,i=t.rowIndex;return e===mt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:e===mt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},e.prototype.getRowAbove=function(t){var e=t.rowIndex,i=t.rowPinned;return(i?0===e:e===this.paginationProxy.getPageFirstRow())?i===mt.PINNED_TOP?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(mt.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:e-1,rowPinned:i}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:mt.PINNED_TOP}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnController.getAllDisplayedColumns(),i=t.rowIndex,n=t.rowPinned,r=this.columnController.getDisplayedColAfter(t.column);if(!r){r=e[0];var a=this.getRowBelow(t);if(o(a))return null;if(!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnController.getAllDisplayedColumns(),i=t.rowIndex,n=t.rowPinned,r=this.columnController.getDisplayedColBefore(t.column);if(!r){r=g(e);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(o(a))return null;if(!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}},du([st("columnController")],e.prototype,"columnController",void 0),du([st("rowModel")],e.prototype,"rowModel",void 0),du([st("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),du([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),du([st("paginationProxy")],e.prototype,"paginationProxy",void 0),e=du([at("cellNavigationService")],e)}(Bt),gu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},mu=function(){function t(){this.cellRendererMap={}}var e;return e=t,t.prototype.init=function(){this.cellRendererMap[e.ANIMATE_SLIDE]=er,this.cellRendererMap[e.ANIMATE_SHOW_CHANGE]=Jo,this.cellRendererMap[e.GROUP]=Ko},t.prototype.addCellRenderer=function(t,e){this.cellRendererMap[t]=e},t.prototype.getCellRenderer=function(t){var e=this.cellRendererMap[t];return o(e)?(console.warn("ag-Grid: unable to find cellRenderer for key "+t),null):e},t.ANIMATE_SLIDE="animateSlide",t.ANIMATE_SHOW_CHANGE="animateShowChange",t.GROUP="group",gu([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gu([st("expressionService")],t.prototype,"expressionService",void 0),gu([st("eventService")],t.prototype,"eventService",void 0),gu([ot],t.prototype,"init",null),t=e=gu([at("cellRendererFactory")],t)}(),yu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yu(e,t),e.prototype.formatValue=function(t,e,i,n,o,r){void 0===r&&(r=!0);var a,s=null,l=t.getColDef();if(o?a=o:r&&(a=e&&e.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),a){var u={value:n,node:e,data:e?e.data:null,colDef:l,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u.$scope=i,s=this.expressionService.evaluate(a,u)}else if(l.refData)return l.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},vu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),vu([st("expressionService")],e.prototype,"expressionService",void 0),e=vu([at("valueFormatterService")],e)}(Bt),xu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bu=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return xu(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,jt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(xs),wu=function(){function t(){}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.addEventListenerOutsideAngular=function(t,e,i,n){t.addEventListener(e,i,n)},t}(),Eu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Eu(e,t),e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:jt.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Pu([st("columnController")],e.prototype,"columnController",void 0),Pu([st("columnApi")],e.prototype,"columnApi",void 0),Pu([st("gridApi")],e.prototype,"gridApi",void 0),Pu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Pu([at("scrollVisibleService")],e)}(Bt),Tu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_u=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tu(e,t),e.prototype.processAllCellClasses=function(t,e,i,n){this.processClassRules(t.cellClassRules,e,i,n),this.processStaticCellClasses(t,e,i)},e.prototype.processClassRules=function(t,e,i,n){if(H(t))for(var o=Object.keys(t),r=0;r<o.length;r++){var a=o[r],s=t[a],l=void 0;"string"===typeof s?l=this.expressionService.evaluate(s,e):"function"===typeof s&&(l=s(e)),l?i(a):n&&n(a)}},e.prototype.processStaticCellClasses=function(t,e,i){if(t.cellClass){var n=void 0;if("function"===typeof t.cellClass)n=(0,t.cellClass)(e);else n=t.cellClass;"string"===typeof n?i(n):Array.isArray(n)&&n.forEach((function(t){i(t)}))}},_u([st("expressionService")],e.prototype,"expressionService",void 0),e=_u([at("stylingService")],e)}(Bt),Ru=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ou=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ru(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:jt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:jt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},Ou([st("columnApi")],e.prototype,"columnApi",void 0),Ou([st("gridApi")],e.prototype,"gridApi",void 0),e=Ou([at("columnHoverService")],e)}(Bt),Du=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ku=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return Du(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridPanel.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},ku([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=ku([at("columnAnimationService")],e)}(Bt),Iu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return Iu(e,t),i=e,e.prototype.createAutoGroupColumns=function(t){var e=this,i=[],n=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return n&&o&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?t.forEach((function(t,n){i.push(e.createOneAutoGroupColumn(t,n))})):i.push(this.createOneAutoGroupColumn()),i},e.prototype.createOneAutoGroupColumn=function(t,e){var n,r=this.generateDefaultColDef(t);(n=t?mt.GROUP_AUTO_COLUMN_ID+"-"+t.getId():i.GROUP_AUTO_COLUMN_BUNDLE_ID,V(r,this.gridOptionsWrapper.getAutoGroupColumnDef()),(r=this.columnFactory.mergeColDefs(r)).colId=n,this.gridOptionsWrapper.isTreeData())||o(r.field)&&o(r.valueGetter)&&o(r.filterValueGetter)&&(r.filter=!1);e&&e>0&&(r.headerCheckboxSelection=!1);var a=new Ct(r,null,n,!0);return this.context.createBean(a),a},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsWrapper.getAutoGroupColumnDef(),i={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework)||(i.cellRenderer="agGroupCellRenderer"),t){var n=t.getColDef();B(i,{headerName:this.columnController.getDisplayNameForColumn(t,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&B(i,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),i.showRowGroup=t.getColId()}else i.showRowGroup=!0;return i},e.GROUP_AUTO_COLUMN_BUNDLE_ID=mt.GROUP_AUTO_COLUMN_ID,Lu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Lu([st("columnController")],e.prototype,"columnController",void 0),Lu([st("columnFactory")],e.prototype,"columnFactory",void 0),e=i=Lu([at("autoGroupColService")],e)}(Bt),Vu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Wu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Vu(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,jt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,i,n){var o=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:jt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var t={type:jt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t){this.currentPage=t;var e={type:jt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return o(this.topRowBounds)||o(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,e){return this.rowModel.getNodesInRangeForSelection(t,e)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(n(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:jt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ae(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var e=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ae(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Bu([st("rowModel")],e.prototype,"rowModel",void 0),Bu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Bu([st("columnApi")],e.prototype,"columnApi",void 0),Bu([st("gridApi")],e.prototype,"gridApi",void 0),Bu([ot],e.prototype,"postConstruct",null),e=Bu([at("paginationProxy")],e)}(Bt),Gu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gu(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.addManagedListener(this.eventService,jt.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),e=this.gridPanel.getBodyHeight();if(e>0){var i=Math.floor(e/t);this.gridOptionsWrapper.setProperty("paginationPageSize",i)}}},Hu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Hu([at("paginationAutoPageSizeService")],e)}(Bt),ju=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Uu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return ju(e,t),e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},Uu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Uu([ot],e.prototype,"init",null),e=Uu([at("valueCache")],e)}(Bt),Xu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qu=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xu(e,t),e.prototype.init=function(){this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,jt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==mt.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var i=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),n=new ea(i,this.clientSideRowModel.getRootNode());n.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},qu([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),qu([st("rowModel")],e.prototype,"rowModel",void 0),qu([st("rowRenderer")],e.prototype,"rowRenderer",void 0),qu([ot],e.prototype,"init",null),e=qu([at("changeDetectionService")],e)}(Bt),Qu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$u=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ju=function(t,e){return function(i,n){e(i,n,t)}},Zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return Qu(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.init=function(){this.addManagedListener(this.eventService,jt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getAlignedGrids();e&&e.forEach((function(e){if(e.api){var i=e.api.__getAlignedGridService();t(i)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.gridPanel.setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case jt.EVENT_COLUMN_MOVED:case jt.EVENT_COLUMN_VISIBLE:case jt.EVENT_COLUMN_PINNED:case jt.EVENT_COLUMN_RESIZED:var i=t;e.processColumnEvent(i);break;case jt.EVENT_COLUMN_GROUP_OPENED:var n=t;e.processGroupOpenedEvent(n);break;case jt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e,i=t.columnGroup;if(i){var n=i.getGroupId();e=this.columnController.getOriginalColumnGroup(n)}i&&!e||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+i.isExpanded()),this.columnController.setColumnGroupOpened(e,i.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,i=this,n=t.column;if(n&&(e=this.columnController.getPrimaryColumn(n.getColId())),!n||e){var o=this.getColumnIds(t),r=this.getMasterColumns(t);switch(t.type){case jt.EVENT_COLUMN_MOVED:var a=t;this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+a.toIndex),this.columnController.moveColumns(o,a.toIndex,"alignedGridChanged");break;case jt.EVENT_COLUMN_VISIBLE:var s=t;this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+s.visible),this.columnController.setColumnsVisible(o,s.visible,"alignedGridChanged");break;case jt.EVENT_COLUMN_PINNED:var l=t;this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(o,l.pinned,"alignedGridChanged");break;case jt.EVENT_COLUMN_RESIZED:var u=t;r.forEach((function(e){i.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth());var n=[{key:e.getColId(),newWidth:e.getActualWidth()}];i.columnController.setColumnWidths(n,!1,u.finished,"alignedGridChanged")}))}var h=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach((function(t){t.api.setAlwaysShowVerticalScroll(h)}))}},$u([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),$u([st("columnController")],e.prototype,"columnController",void 0),$u([Ju(0,ht("loggerFactory"))],e.prototype,"setBeans",null),$u([ot],e.prototype,"init",null),e=$u([at("alignedGridsService")],e)}(Bt),th=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),eh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return th(e,t),e.prototype.adaptFunction=function(t,e,i,n){if(null==e)return{component:null,componentFromFramework:i,source:n,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(t);return o&&o.functionAdapter?{componentFromFramework:i,component:o.functionAdapter(e),source:n,paramsFromSelector:null}:null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){var e=t(this.params),i=typeof e;return"string"===i||"number"===i||"boolean"===i?hi("<span>"+e+"</span>"):e},e.prototype.init=function(t){this.params=t},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},eh([st("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=eh([at("agComponentUtils")],e)}(Bt),nh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nh(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},oh([st("agComponentUtils")],e.prototype,"agComponentUtils",void 0),oh([ot],e.prototype,"postConstruct",null),e=oh([at("componentMetadataProvider")],e)}(Bt),ah=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},sh=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},ah([st("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ah([st("paginationProxy")],t.prototype,"paginationProxy",void 0),ah([st("context")],t.prototype,"context",void 0),ah([st("columnApi")],t.prototype,"columnApi",void 0),ah([st("gridApi")],t.prototype,"gridApi",void 0),ah([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ah([st("expressionService")],t.prototype,"expressionService",void 0),ah([st("rowRenderer")],t.prototype,"rowRenderer",void 0),ah([st("$compile")],t.prototype,"$compile",void 0),ah([st("templateService")],t.prototype,"templateService",void 0),ah([st("valueService")],t.prototype,"valueService",void 0),ah([st("eventService")],t.prototype,"eventService",void 0),ah([st("columnController")],t.prototype,"columnController",void 0),ah([st("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ah([st("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ah([lt("rangeController")],t.prototype,"rangeController",void 0),ah([st("focusController")],t.prototype,"focusController",void 0),ah([lt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ah([st("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),ah([st("popupService")],t.prototype,"popupService",void 0),ah([st("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ah([st("stylingService")],t.prototype,"stylingService",void 0),ah([st("columnHoverService")],t.prototype,"columnHoverService",void 0),ah([st("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ah([st("animationFrameService")],t.prototype,"taskQueue",void 0),ah([st("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ah([st("sortController")],t.prototype,"sortController",void 0),ah([st("filterManager")],t.prototype,"filterManager",void 0),ah([st("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),ah([st("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),ah([st("detailRowCompCache")],t.prototype,"detailRowCompCache",void 0),ah([st("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ah([st("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ah([st("selectionController")],t.prototype,"selectionController",void 0),ah([lt("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),ah([st("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),ah([st("rowModel")],t.prototype,"rowModel",void 0),ah([ot],t.prototype,"postConstruct",null),t=ah([at("beans")],t)}(),lh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),uh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},hh={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},ph={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},ch={},dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lh(e,t),e.prototype.getSassVariable=function(t,e){var i="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),n=hh[i][e],o=0;if(ch[t]||(ch[t]={}),ch[t][e])return ch[t][e];if(ph[e]){var r=ph[e],a=document.createElement("div");Ue(a,t),a.style.position="absolute";var s=r.reduce((function(t,e){var i=document.createElement("div");return i.style.position="static",Ue(i,e),t.appendChild(i),i}),a);if(document.body){document.body.appendChild(a);var l=-1!==e.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(s)[l],10),document.body.removeChild(a)}}return ch[t][e]=o||n,ch[t][e]},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t,e=/\bag-(material|(?:theme-([\w\-]*)))\b/,i=this.eGridDiv;i&&!(t=e.exec(i.className));)i=i.parentElement;if(!t)return{};var n=t[0];if(void 0===t[2]){var o=n.replace("ag-","ag-theme-");X((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+n+" with "+o+".")}),"using-old-theme")}return{theme:n,el:i,themeFamily:n.replace(/-dark$/,"")}},uh([st("eGridDiv")],e.prototype,"eGridDiv",void 0),e=uh([at("environment")],e)}(Bt),fh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},mh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return fh(e,t),e.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,i){this.verifyAnimationFrameOn(i);var n={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,i){return t.index!==i.index?e*(i.index-t.index):i.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,i=e.list,n=this.createTasksP2,o=n.list,r=this.destroyTasks,a=(new Date).getTime(),s=(new Date).getTime()-a,l=t<=0;l||s<t;){var u=void 0;if(i.length)this.sortTaskList(e),u=i.pop().task;else if(o.length)this.sortTaskList(n),u=o.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u(),s=(new Date).getTime()-a}i.length||o.length||r.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1;var t={type:jt.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},gh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),gh([ot],e.prototype,"init",null),e=gh([at("animationFrameService")],e)}(Bt),yh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ch=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeLastPageEventProcessed=0,e}return yh(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.handlePageScrollingKey=function(t){var e=t.which||t.keyCode,i=t.altKey,n=t.ctrlKey,o=this.mouseEventService.getCellPositionForEvent(t);if(!o)return!1;var r=!1;switch(e){case qn.PAGE_HOME:case qn.PAGE_END:n||i||(this.onHomeOrEndKey(e),r=!0);break;case qn.LEFT:case qn.RIGHT:n&&!i&&(this.onCtrlLeftOrRight(e,o),r=!0);break;case qn.UP:case qn.DOWN:n&&!i&&(this.onCtrlUpOrDown(e,o),r=!0);break;case qn.PAGE_DOWN:n||i||(this.onPageDown(o),r=!0);break;case qn.PAGE_UP:n||i||(this.onPageUp(o),r=!0)}return r&&t.preventDefault(),r},e.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},e.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},e.prototype.onPageDown=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),i=this.gridOptionsWrapper.getScrollbarWidth(),n=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=i);var o=this.paginationProxy.getPixelOffset(),r=e.top+n,a=this.paginationProxy.getRowIndexAtPixel(r+o),s=this.paginationProxy.getRow(t.rowIndex).rowTop+n-o,l=this.paginationProxy.getRowIndexAtPixel(s+o),u=this.paginationProxy.getPageLastRow();l>u&&(l=u),a>u&&(a=u),this.navigateTo(a,"top",null,l,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.onPageUp=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),i=this.gridOptionsWrapper.getScrollbarWidth(),n=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=i);var o=this.paginationProxy.getPixelOffset(),r=e.top,a=this.paginationProxy.getRowIndexAtPixel(r+o),s=this.paginationProxy.getRow(t.rowIndex),l=s.rowTop+s.rowHeight-n-o,u=this.paginationProxy.getRowIndexAtPixel(l+o),h=this.paginationProxy.getPageFirstRow();u<h&&(u=h),a<h&&(a=h),this.navigateTo(a,"bottom",null,u,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.navigateTo=function(t,e,i,o,r){if(n(i)&&this.gridPanel.ensureColumnVisible(i),n(t)&&this.gridPanel.ensureIndexVisible(t,e),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(o,r,null,!0),this.rangeController){var a={rowIndex:o,rowPinned:null,column:r};this.rangeController.setRangeToCell(a)}},e.prototype.onCtrlUpOrDown=function(t,e){var i=t===qn.UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(i,null,e.column,i,e.column)},e.prototype.onCtrlLeftOrRight=function(t,e){var i=t===qn.LEFT,n=this.columnController.getAllDisplayedColumns(),o=i?n[0]:g(n);this.navigateTo(e.rowIndex,null,o,e.rowIndex,o)},e.prototype.onHomeOrEndKey=function(t){var e=t===qn.PAGE_HOME,i=this.columnController.getAllDisplayedColumns(),n=e?i[0]:g(i),o=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo(o,null,n,o,n)},vh([st("mouseEventService")],e.prototype,"mouseEventService",void 0),vh([st("paginationProxy")],e.prototype,"paginationProxy",void 0),vh([st("focusController")],e.prototype,"focusController",void 0),vh([st("animationFrameService")],e.prototype,"animationFrameService",void 0),vh([lt("rangeController")],e.prototype,"rangeController",void 0),vh([st("columnController")],e.prototype,"columnController",void 0),vh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=vh([at("navigationService")],e)}(Bt),xh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return xh(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,jt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Be()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isScaling=function(){return this.scaling},e.prototype.getOffset=function(){return this.offset},e.prototype.updateOffset=function(){if(this.scaling){var t=this.gridPanel.getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY;this.setOffset(t*this.pixelsToShave)},e.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},e.prototype.setOffset=function(t){var e="number"===typeof t?Math.floor(t):null;this.offset!==e&&(this.offset=e,this.eventService.dispatchEvent({type:jt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.scaling=this.maxDivHeight>0&&t>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.offset},e.prototype.getUiBodyHeight=function(){var t=this.gridPanel.getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},bh([ot],e.prototype,"postConstruct",null),e=bh([at("maxDivHeightScaler")],e)}(Bt),Eh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ph=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Eh(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},e.prototype.updateSelectableAfterFiltering=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterFilter}))}},e.prototype.recurseDown=function(t,e){var i=this;t.forEach((function(t){if(t.group){var o;if(t.hasChildren()&&i.recurseDown(e(t),e),i.groupSelectsChildren)o=n(h(e(t),"selectable",!0));else o=!!i.isRowSelectableFunc&&i.isRowSelectableFunc(t);t.setRowSelectable(o)}}))},Ph([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ph([ot],e.prototype,"init",null),e=Ph([at("selectableService")],e)}(Bt),Th=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_h=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Th(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.getPreferredHeightForRow=function(t){var e=this,i=document.createElement("div");this.addInRowCssClasses(t,i);var n=this.gridPanel.getCenterContainer();n.appendChild(i);var o=Qa.createChildScopeOrNull(t,this.$scope,this.beans.gridOptionsWrapper),r=o?o.scope:void 0,a=o?o.scopeDestroyFunc:void 0,s=[],l=this.columnController.getAllAutoRowHeightCols(),u=this.columnController.getAllDisplayedColumns();l.filter((function(t){return u.indexOf(t)>=0})).forEach((function(n){var o=new qa(r,e.beans,n,t,null,!0,!1);o.setParentRow(i),s.push(o)}));var h=s.map((function(t){return t.getCreateTemplate()})).join(" ");i.innerHTML=h,s.forEach((function(t){return t.afterAttached()})),r&&this.$compile(i)(r);for(var p=0,c=0;c<i.children.length;c++){var d=i.children[c];d.offsetHeight>p&&(p=d.offsetHeight)}return n.removeChild(i),s.forEach((function(t){t.detach(),t.destroy()})),a&&a(),p},e.prototype.addInRowCssClasses=function(t,e){var i=t.rowIndex,n={rowNode:t,rowIsEven:i%2===0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(t),firstRowOnPage:i===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:i===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:t.isExpandable()};Ue(e,this.rowCssClassCalculator.getInitialRowClasses(n).join(" "))},_h([st("beans")],e.prototype,"beans",void 0),_h([st("$scope")],e.prototype,"$scope",void 0),_h([st("columnController")],e.prototype,"columnController",void 0),_h([st("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),_h([st("$compile")],e.prototype,"$compile",void 0),e=_h([at("autoHeightCalculator")],e)}(Bt),Rh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Oh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ah=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return Rh(e,t),e.prototype.postConstruct=function(){var t=this,e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",yn(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",yn(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",yn(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",yn(e?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===mt.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,jt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var i=e.el,n=e.fn;t.addManagedListener(i,"click",n),t.addManagedListener(i,"keydown",(function(t){t.keyCode!==qn.ENTER&&t.keyCode!==qn.SPACE||(t.preventDefault(),n())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),i=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},e.prototype.formatNumber=function(t){var e=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return e?e({value:t}):ue(t)},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),n=t("of","of"),o=t("firstPage","First Page"),r=t("previousPage","Previous Page"),a=t("nextPage","Next Page"),s=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'" aria-live="polite" aria-describedby="'+("ag-"+l+"-start-page ag-"+l+"-start-page-number ag-"+l+"-of-page ag-"+l+"-of-page-number")+" "+("ag-"+l+"-first-row ag-"+l+"-to ag-"+l+"-last-row ag-"+l+"-of ag-"+l+"-row-count")+'">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+i+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+n+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+n+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,Xe(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),zi(this.btFirst,this.previousAndFirstButtonsDisabled),Xe(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),zi(this.btPrevious,this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay(),o=e&&t===i-1;this.nextButtonDisabled=o||n,Xe(this.btNext,"ag-disabled",this.nextButtonDisabled),zi(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!e||n||t===i-1,Xe(this.btLast,"ag-disabled",this.lastButtonDisabled),zi(this.btLast,this.lastButtonDisabled)},e.prototype.updateRowLabels=function(){var t,e,i=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?t=e=0:(e=(t=n*i+1)+n-1,o&&e>r&&(e=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.serverSideRowModel&&this.serverSideRowModel.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},Oh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Oh([st("paginationProxy")],e.prototype,"paginationProxy",void 0),Oh([st("rowModel")],e.prototype,"rowModel",void 0),Oh([Hn("btFirst")],e.prototype,"btFirst",void 0),Oh([Hn("btPrevious")],e.prototype,"btPrevious",void 0),Oh([Hn("btNext")],e.prototype,"btNext",void 0),Oh([Hn("btLast")],e.prototype,"btLast",void 0),Oh([Hn("lbRecordCount")],e.prototype,"lbRecordCount",void 0),Oh([Hn("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),Oh([Hn("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),Oh([Hn("lbCurrent")],e.prototype,"lbCurrent",void 0),Oh([Hn("lbTotal")],e.prototype,"lbTotal",void 0),Oh([ot],e.prototype,"postConstruct",null),e}(Bn),Dh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dh(e,t),e.prototype.observeResize=function(t,e,i){void 0===i&&(i=50);var n=this.getFrameworkOverrides(),o=Z(e,i),r=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!window.ResizeObserver&&!r?function(){var e=new window.ResizeObserver(o);return e.observe(t),function(){return e.disconnect()}}():function(){var o=di(t),r=ci(t),a=!0;return function s(){if(a){var l=di(t),u=ci(t);(l!==o||u!==r)&&(o=l,r=u,e()),n.setTimeout(s,i)}}(),function(){return a=!1}}()},kh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=kh([at("resizeObserverService")],e)}(Bt),Ih=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(il||(il={}));var Nh=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.inProgress=!1,i.destroyRequested=!1,i}return Ih(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},e.prototype.setWrapperTypeClass=function(t){Xe(this.eOverlayWrapper,"ag-overlay-loading-wrapper",t===il.Loading),Xe(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",t===il.NoRows)},e.prototype.showLoadingOverlay=function(){var t=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,il.Loading)},e.prototype.showNoRowsOverlay=function(){var t=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,il.NoRows)},e.prototype.showOverlay=function(t,e){var i=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t.then((function(t){i.inProgress=!1,i.eOverlayWrapper.appendChild(t.getGui()),i.activeOverlay=t,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())})),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),si(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Lh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Lh([st("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Lh([Hn("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Lh([ot],e.prototype,"postConstruct",null),e}(Bn),Vh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Wh=function(t){function e(i){void 0===i&&(i={});var n=t.call(this,e.getTemplate(i))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var o=i.title,r=i.enabled,a=i.items,s=i.suppressEnabledCheckbox,l=i.suppressOpenCloseIcons;return n.title=o,n.cssIdentifier=i.cssIdentifier||"default",n.enabled=null==r||r,n.items=a||[],n.alignItems=i.alignItems||"center",null!=s&&(n.suppressEnabledCheckbox=s),null!=l&&(n.suppressOpenCloseIcons=l),n}return Vh(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(mn("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(mn("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.keyCode){case qn.ENTER:t.toggleGroupExpand();break;case qn.RIGHT:t.toggleGroupExpand(!0);break;case qn.LEFT:t.toggleGroupExpand(!1)}}))},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Ke(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ke(this.eGroupOpenedIcon,t&&this.expanded),Ke(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){var e=this.getGui();return this.alignItems!==t&&Ye(e,"ag-group-item-alignment-"+this.alignItems),this.alignItems=t,Ue(e,"ag-group-item-alignment-"+this.alignItems),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ke(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshChildDisplay(),Ke(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,i=t instanceof Bn?t.getGui():t;Ue(i,"ag-group-item"),Ue(i,"ag-"+this.cssIdentifier+"-group-item"),e.appendChild(i),this.items.push(i)},e.prototype.hideItem=function(t,e){Xe(this.items[e],"ag-hidden",t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){Ue(this.eTitleBar,t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(i){e.setEnabled(i,!0),t(i)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){Xe(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Ue(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Ye(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),Xe(this.eContainer,"ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",Bh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Bh([Hn("eTitleBar")],e.prototype,"eTitleBar",void 0),Bh([Hn("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),Bh([Hn("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),Bh([Hn("eToolbar")],e.prototype,"eToolbar",void 0),Bh([Hn("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),Bh([Hn("eTitle")],e.prototype,"eTitle",void 0),Bh([Hn("eContainer")],e.prototype,"eContainer",void 0),Bh([ot],e.prototype,"postConstruct",null),e}(Bn),Gh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},zh=function(t){function e(i){var n=t.call(this,e.getTemplate(i))||this;return n.closable=!0,n.positioned=!1,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.size={width:void 0,height:void 0},n.config=i,n}return Gh(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,i=e.component,n=e.closable,o=e.hideTitleBar,r=e.title,a=e.minWidth,s=e.width,l=e.minHeight,u=e.height,h=e.centered,p=e.x,c=e.y,d=this.getGui();i&&this.setBodyComponent(i),o?Ue(this.eTitleBar,"ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=n?n:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){if(d.contains(e.relatedTarget)||d.contains(document.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var i=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");i&&i.focus()}})),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=a?a:250,this.popupParent=this.popupService.getPopupParent(),s&&this.setWidth(s),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),s&&u||this.refreshSize(),h?this.center():(p||c)&&this.offsetElement(p,c),this.positioned=!0,this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=this.popupParent.getBoundingClientRect(),i=t.e,n=t.isLeft,o=t.isTop,r=t.anywhereWithin,a=t.topBuffer,s=i.clientX-this.dragStartPosition.x,l=i.clientY-this.dragStartPosition.y,u=this.getWidth(),h=this.getHeight(),p=e.left>=i.clientX&&this.position.x<=0||e.right<=i.clientX&&e.right<=this.position.x+e.left+u;return p||(p=n?s<0&&i.clientX>this.position.x+e.left||s>0&&i.clientX<this.position.x+e.left:r?s<0&&i.clientX>this.position.x+e.left+u||s>0&&i.clientX<this.position.x+e.left:s<0&&i.clientX>this.position.x+e.left+u||s>0&&i.clientX<this.position.x+e.left+u),{movementX:s=p?0:s,movementY:l=e.top>=i.clientY&&this.position.y<=0||e.bottom<=i.clientY&&e.bottom<=this.position.y+e.top+h||o&&(l<0&&i.clientY>this.position.y+e.top+(a||0)||l>0&&i.clientY<this.position.y+e.top)||!o&&(l<0&&i.clientY>this.position.y+e.top+h||l>0&&i.clientY<this.position.y+e.top+h)?0:l}},e.prototype.refreshSize=function(){var t=this.size,e=t.width,i=t.height;e||this.setWidth(this.getGui().offsetWidth),i||this.setHeight(this.getGui().offsetHeight)},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getGui();this.popupService.positionPopup({ePopup:i,x:t,y:e,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(i.style.left,10),this.position.y=parseInt(i.style.top,10)},e.prototype.getHeight=function(){return this.size.height},e.prototype.setHeight=function(t){var e=this.getGui(),i=!1;if("string"===typeof t&&-1!==t.indexOf("%"))wi(e,t),t=ii(e),i=!0;else{t=Math.max(this.minHeight,t);var n=e.offsetParent;n&&n.clientHeight&&t+this.position.y>n.clientHeight&&(t=n.clientHeight-this.position.y)}this.size.height!==t&&(this.size.height=t,i?(e.style.maxHeight="unset",e.style.minHeight="unset"):wi(e,t))},e.prototype.getWidth=function(){return this.size.width},e.prototype.setWidth=function(t){var e=this.getGui(),i=!1;if("string"===typeof t&&-1!==t.indexOf("%"))bi(e,t),t=ni(e),i=!0;else{t=Math.max(this.minWidth,t);var n=e.offsetParent;n&&n.clientWidth&&t+this.position.x>n.clientWidth&&(t=n.clientWidth-this.position.x)}this.size.width!==t&&(this.size.width=t,i?(e.style.maxWidth="unset",e.style.minWidth="unset"):bi(e,t))},e.prototype.center=function(){var t=this.getGui(),e=t.offsetParent.clientWidth/2-this.getWidth()/2,i=t.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(e,i)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var i=this.closeButtonComp=new Bn(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i),(n=i.getGui()).appendChild(Ue(yn("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var n;(n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var i=this.eTitleBarButtons,n=i.children,o=n.length;null==e&&(e=o),e=Math.max(0,Math.min(e,o));var r=t.getGui();Ue(r,"ag-panel-title-bar-button"),0===e?i.insertAdjacentElement("afterbegin",r):e===o?i.insertAdjacentElement("beforeend",r):n[e-1].insertAdjacentElement("afterend",r),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return ti(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return ei(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Hh([st("popupService")],e.prototype,"popupService",void 0),Hh([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Hh([Hn("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Hh([Hn("eTitleBar")],e.prototype,"eTitleBar",void 0),Hh([Hn("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Hh([Hn("eTitle")],e.prototype,"eTitle",void 0),Hh([ot],e.prototype,"postConstruct",null),e}(Bn),jh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Uh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Yh=function(t){function e(e){var i=t.call(this,e)||this;return i.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',i.resizable={},i.movable=!1,i.isMoving=!1,i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.isResizing=!1,i.lastPosition={x:0,y:0,width:0,height:0},i}return jh(e,t),e.prototype.postConstruct=function(){var e=this,i=this.getGui(),n=this.config,o=n.movable,r=n.resizable,a=n.maximizable;Ue(i,"ag-dialog"),this.moveElement=this.eTitleBar,t.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",(function(t){i.contains(t.relatedTarget)||e.popupService.bringPopupToFront(i)})),o&&this.setMovable(o),a&&this.setMaximizable(a),this.addResizers(),r&&this.setResizable(r)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,i=e.alwaysOnTop,n=e.modal;this.close=this.popupService.addPopup({modal:n,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i})},e.prototype.addResizers=function(){var t=this.getGui();if(t){var e=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;t.appendChild(e.firstChild),this.createMap()}},e.prototype.createMap=function(){var t=this.getGui();this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t){this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onResize=function(t,e){if(this.isResizing){var i=!!e.match(/left/i),n=!!e.match(/right/i),o=!!e.match(/top/i),r=!!e.match(/bottom/i),a=i||n,s=o||r,l=this.calculateMouseMovement({e:t,isLeft:i,isTop:o}),u=l.movementX,h=l.movementY,p=0,c=0;if(a&&u){var d=i?-1:1,f=this.getWidth(),g=f+u*d,m=!1;i&&(p=f-g,(this.position.x+p<=0||g<=this.minWidth)&&(m=!0,p=0)),m||this.setWidth(g)}if(s&&h){d=o?-1:1;var y=this.getHeight(),v=y+h*d,C=!1;o&&(c=y-v,(this.position.y+c<=0||v<=this.minHeight)&&(C=!0,c=0)),C||this.setHeight(v)}this.updateDragStartPosition(t.clientX,t.clientY),(p||c)&&this.offsetElement(this.position.x+p,this.position.y+c)}},e.prototype.onResizeEnd=function(){this.isResizing=!1;var t={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(t)},e.prototype.onMoveStart=function(t){this.isMoving=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e=this.position,i=e.x,n=e.y,o=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()}),r=o.movementX,a=o.movementY;this.offsetElement(i+r,n+a),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1},e.prototype.toggleMaximize=function(){if(this.isMaximized){var t=this.lastPosition,e=t.x,i=t.y,n=t.width,o=t.height;this.setWidth(n),this.setHeight(o),this.offsetElement(e,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Ke(this.maximizeIcon,!this.isMaximized),Ke(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){var e=this;"boolean"===typeof t&&(t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}),Object.keys(t).forEach((function(i){var n=i,o=!!t[n],r=e.getResizerElement(n),a=e.resizerMap[n].dragSource||{eElement:r,onDragStart:e.onResizeStart.bind(e),onDragging:function(t){return e.onResize(t,n)},onDragStop:e.onResizeEnd.bind(e)};!!e.resizable[n]===o&&(e.isAlive()||o)||(o?(e.dragService.addDragSource(a),r.style.pointerEvents="all"):(e.dragService.removeDragSource(a),r.style.pointerEvents="none"),e.resizerMap[n].dragSource=o?a:void 0)}))},e.prototype.setMovable=function(t){if(t!==this.movable){this.movable=t;var e=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(e),this.moveElementDragListener=e):(this.dragService.removeDragSource(e),this.moveElementDragListener=void 0)}},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&t!==this.isMaximizable){var n=this.maximizeButtonComp=this.createBean(new Bn('<div class="ag-dialog-button"></span>')),o=n.getGui();o.appendChild(this.maximizeIcon=yn("maximize",this.gridOptionsWrapper)),Ue(this.maximizeIcon,"ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=yn("minimize",this.gridOptionsWrapper)),Ue(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Ue(this.minimizeIcon,"ag-hidden"),n.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},Uh([st("dragService")],e.prototype,"dragService",void 0),e}(zh),Xh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qh=function(t){function e(e,i,n){return void 0===i&&(i="ag-text-field"),void 0===n&&(n="text"),t.call(this,e,i,n)||this}return Xh(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,i){var o=t.prototype.setValue.call(this,e,i);return this.eInput.value!==e&&(this.eInput.value=n(e)?e:""),o},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){T(e.clipboardData.getData("text"),(function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(ys),Kh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qh=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return Kh(e,t),e.prototype.setValue=function(e,i){var n=t.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(ys),$h=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jh=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Zh=function(t){function e(i){var n=t.call(this,i,e.TEMPLATE)||this;return n.labelAlignment="top",n}return $h(e,t),e.prototype.init=function(){Ue(this.eSlider.getGui(),"ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,i=fs.EVENT_CHANGED;return this.addManagedListener(this.eText,i,(function(){var i=parseFloat(e.eText.getValue());e.eSlider.setValue(i.toString(),!0),t(i||0)})),this.addManagedListener(this.eSlider,i,(function(){var i=e.eSlider.getValue();e.eText.setValue(i,!0),t(parseFloat(i))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:fs.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Jh([Hn("eLabel")],e.prototype,"eLabel",void 0),Jh([Hn("eSlider")],e.prototype,"eSlider",void 0),Jh([Hn("eText")],e.prototype,"eText",void 0),Jh([ot],e.prototype,"init",null),e}(cs),tp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ep=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ip=function(t){function e(i){var n=t.call(this,e.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=i.picker,n}return tp(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var i=t.clientX-e.left,n=t.clientY-e.top;i=Math.max(i,0),i=Math.min(i,e.width),n=Math.max(n,0),n=Math.min(n,e.height),this.setSpectrumValue(i/e.width,1-n/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var i=this.spectrumHueSlider,n=i.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.H=1-o/e.width,i.style.left=o+n.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var i=this.spectrumAlphaSlider,n=i.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.A=o/e.width,i.style.left=o+n.width/2+"px",this.update()}},e.prototype.update=function(){var t=Ee.fromHSB(360*this.H,this.S,this.B,this.A),e=Ee.fromHSB(360*this.H,1,1),i=t.toRgbaString(),n=this.picker;Ee.fromString(n.getValue()).toRgbaString()!==i&&(this.colorChanged=!0),n.setValue(i),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},e.prototype.setSpectrumValue=function(t,e){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i){var n=this.spectrumDragger,o=n.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,n.style.left=t*i.width-o.width/2+"px",n.style.top=(1-e)*i.height-o.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Ee.fromString(t),i=e.toHSB(),n=i[0],o=i[1],r=i[2];this.H=(isNaN(n)?0:n)/360,this.A=e.a;var a=this.spectrumHueRect||this.refreshHueRect(),s=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width+"px",this.spectrumAlphaSlider.style.left=this.A*s.width+"px",this.setSpectrumValue(o,r)},e.prototype.onRecentColorClick=function(t){var i=t.target;if(n(i.id)){var o=parseInt(i.id,10);this.setValue(e.recentColors[o]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Ee.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),i=e.recentColors;this.colorChanged&&i[0]!==t&&(i=i.filter((function(e){return e!=t})),(i=[t].concat(i)).length>e.maxRecentColors&&(i=i.slice(0,e.maxRecentColors)),e.recentColors=i)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',ep([Hn("spectrumColor")],e.prototype,"spectrumColor",void 0),ep([Hn("spectrumVal")],e.prototype,"spectrumVal",void 0),ep([Hn("spectrumDragger")],e.prototype,"spectrumDragger",void 0),ep([Hn("spectrumHue")],e.prototype,"spectrumHue",void 0),ep([Hn("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),ep([Hn("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),ep([Hn("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),ep([Hn("recentColors")],e.prototype,"recentColors",void 0),ep([ot],e.prototype,"postConstruct",null),e}(Bn),np=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),op=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},rp=function(t){function e(e,i,n,o){var r=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(o?'aria-haspopup="'+o+'"':"")+'>\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',i)||this;return r.pickerIcon=n,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return np(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var i=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",i),Hi(this.eWrapper,i);var n=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();this.addManagedListener(o,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&ui(e.pickerComponent.getGui())&&o.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(t){switch(t.keyCode){case qn.UP:case qn.DOWN:case qn.ENTER:case qn.SPACE:n();case qn.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",n),this.addManagedListener(this.eLabel,"click",n),this.pickerIcon&&this.eIcon.appendChild(yn(this.pickerIcon,this.gridOptionsWrapper))},e.prototype.refreshLabel=function(){n(this.getLabel())?Gi(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return Wi(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return xi(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},op([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),op([Hn("eLabel")],e.prototype,"eLabel",void 0),op([Hn("eWrapper")],e.prototype,"eWrapper",void 0),op([Hn("eDisplayField")],e.prototype,"eDisplayField",void 0),op([Hn("eIcon")],e.prototype,"eIcon",void 0),e}(fs),ap=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sp=function(t){function e(e){var i=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(i.value=e.color),i}return ap(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),i=this.createBean(new Yh({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,Ue(i.getGui(),"ag-color-dialog");var n=this.createBean(new ip({picker:this}));return n.addDestroyFunc((function(){i.isAlive()&&t.destroyBean(i)})),i.setParentComponent(this),i.setBodyComponent(n),n.setValue(this.getValue()),i.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,n.isAlive()&&t.destroyBean(n)),t.isAlive()&&t.getFocusableElement().focus(),t.isPickerDisplayed=!1})),i},e.prototype.setValue=function(t){return this.value===t||(this.value=t,this.eDisplayField.style.backgroundColor=t,this.dispatchEvent({type:fs.EVENT_CHANGED})),this},e.prototype.getValue=function(){return this.value},e}(rp),lp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),up=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return lp(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),i=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==i&&e.setValue(i)}))},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,Ri(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,Ri(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,Ri(this.eInput,"step",t)),this},e.prototype.setValue=function(e,i){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:t.prototype.setValue.call(this,e,i)},e}(qh),hp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pp=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return hp(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,i=e.min,n=e.max,o=e.step;null!=i&&this.setMinValue(i),null!=n&&this.setMaxValue(n),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this,e=De()?"change":"input";this.addManagedListener(this.eInput,e,(function(e){var i=e.target.value;t.setValue(i)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var n=t.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},e}(ys),cp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},fp=function(t){function e(e){void 0===e&&(e="default");var i=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return cp(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.keyCode;switch(e){case qn.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case qn.DOWN:case qn.UP:var n=e===qn.DOWN,o=void 0;if(t.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),o=this.itemEls[r]}else o=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(o)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,i=Qt(t.text||e);return this.options.push({value:e,text:i}),this.renderOption(e,i),this},e.prototype.renderOption=function(t,e){var i=this,n=document.createElement("div");n.setAttribute("role","option"),Ue(n,"ag-list-item"),Ue(n,"ag-"+this.cssIdentifier+"-list-item"),n.innerHTML=e,n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",(function(){return i.highlightItem(n)})),this.addManagedListener(n,"mouseleave",(function(){return i.clearHighlighted()})),this.addManagedListener(n,"click",(function(){return i.setValue(t)})),this.getGui().appendChild(n)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var i=P(this.options,(function(e){return e.value===t}));if(-1!==i){var n=this.options[i];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[i]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=P(this.options,(function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,Ue(this.highlightedEl,e.ACTIVE_CLASS),nn(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(Ye(this.highlightedEl,e.ACTIVE_CLASS),nn(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:fs.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",dp([ot],e.prototype,"init",null),e}(Bn),gp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},yp=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return gp(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new fp("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,fp.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList()})),this.listComponent.addManagedListener(this.listComponent,fs.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),i=this.addManagedListener(document.body,"wheel",(function(i){!e.contains(i.target)&&t.hideList&&t.hideList()})),n=this.addManagedListener(e,"focusout",(function(i){!e.contains(i.relatedTarget)&&t.hideList&&t.hideList()}));return this.hideList=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,n(),i(),t.isAlive()&&t.getFocusableElement().focus()}}),this.isPickerDisplayed=!0,xi(e,ni(this.eWrapper)),e.style.maxHeight=ti(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,i,n){return this.value===e?this:(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,i)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},mp([st("popupService")],e.prototype,"popupService",void 0),mp([ot],e.prototype,"init",null),e}(rp),vp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},xp=function(t){function e(i){var n=t.call(this,i,e.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return vp(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var i=parseFloat(t);i>180&&(i-=360),e.setValue(i)})),this.updateNumberInput(),n(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,fs.EVENT_CHANGED,(function(){e.eAngleValue.getInputElement().contains(document.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,n=e.width/2,o=e.height/2;i.style.left=n+8*Math.cos(t)+"px",i.style.top=o+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,i=Math.atan2(e,t);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(i)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,i=e.width/2,n=e.height/2,o=t.clientX-e.left-i,r=t.clientY-e.top-n,a=Math.atan2(r,o);this.setValue(a,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,fs.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var i;return i=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(i),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:fs.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return bi(this.getGui(),t),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Cp([Hn("eLabel")],e.prototype,"eLabel",void 0),Cp([Hn("eParentCircle")],e.prototype,"eParentCircle",void 0),Cp([Hn("eChildCircle")],e.prototype,"eChildCircle",void 0),Cp([Hn("eAngleValue")],e.prototype,"eAngleValue",void 0),Cp([st("dragService")],e.prototype,"dragService",void 0),e}(cs),bp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wp=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return bp(e,t),e.prototype.setValue=function(e,i){return t.prototype.setValue.call(this,e,i),Xe(this.getGui(),"ag-selected",this.getValue()),this},e}(xs),Ep=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Sp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheItems=[],e}return Ep(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},e.prototype.addOrDestroy=function(t,e,i){if(!this.active||!t.detail)this.destroyFullWidthRow(i);else{var n=this.getCacheItem(t,!0);switch(e){case mt.PINNED_LEFT:this.destroyFullWidthRow(n.left),n.left=i;break;case mt.PINNED_RIGHT:this.destroyFullWidthRow(n.right),n.right=i;break;default:this.destroyFullWidthRow(n.center),n.center=i}this.cacheItems.sort((function(t,e){return e.lastAccessedTime-t.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}},e.prototype.getCacheItem=function(t,e){var i;void 0===e&&(e=!1);for(var n=0;n<this.cacheItems.length;n++){var o=this.cacheItems[n];if(o.rowNode===t){i=o;break}}return!i&&e&&(i={rowNode:t},this.cacheItems.push(i)),i&&this.stampCacheItem(i),i},e.prototype.stampCacheItem=function(t){t.lastAccessedTime=(new Date).getTime()},e.prototype.destroyFullWidthRow=function(t){this.getContext().destroyBean(t)},e.prototype.purgeCache=function(t){for(var e=t;e<this.cacheItems.length;e++){var i=this.cacheItems[e];this.destroyFullWidthRow(i.center),this.destroyFullWidthRow(i.left),this.destroyFullWidthRow(i.right)}this.cacheItems.length>t&&(this.cacheItems.length=t)},e.prototype.get=function(t,e){if(t.detail){var i,n=this.getCacheItem(t);if(n)switch(e){case mt.PINNED_LEFT:n.left&&(i=n.left,n.left=void 0);break;case mt.PINNED_RIGHT:n.right&&(i=n.right,n.right=void 0);break;default:n.center&&(i=n.center,n.center=void 0)}return i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.purgeCache(0)},Pp([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pp([ot],e.prototype,"postConstruct",null),Pp([rt],e.prototype,"destroy",null),e=Pp([at("detailRowCompCache")],e)}(Bt),Tp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_p=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t=mt.PINNED_TOP:this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t=mt.PINNED_BOTTOM),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e,i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(e=mt.PINNED_BOTTOM,t=i-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):n&&(e=mt.PINNED_TOP,t=n-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case mt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case mt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case mt.PINNED_TOP:if(e.rowPinned!==mt.PINNED_TOP)return!0;break;case mt.PINNED_BOTTOM:if(e.rowPinned!==mt.PINNED_BOTTOM)return!1;break;default:if(n(e.rowPinned))return e.rowPinned!==mt.PINNED_TOP}return t.rowIndex<e.rowIndex},_p([st("rowModel")],e.prototype,"rowModel",void 0),_p([st("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),_p([st("paginationProxy")],e.prototype,"paginationProxy",void 0),e=_p([at("rowPositionUtils")],e)}(Bt),Rp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Op=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rp(e,t),e.prototype.createId=function(t){var e=t.rowIndex,i=t.rowPinned,n=t.column;return this.createIdFromValues(e,n,i)},e.prototype.createIdFromValues=function(t,e,i){return t+"."+(null==i?"null":i)+"."+e.getId()},e.prototype.equals=function(t,e){var i=t.column===e.column,n=t.rowPinned===e.rowPinned,o=t.rowIndex===e.rowIndex;return i&&n&&o},e=Op([at("cellPositionUtils")],e)}(Bt),Dp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dp(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(t){return r(t===mt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var i=e===mt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(r(i))return 0;for(var n=0;n<i.length;n++){var o=i[n];if(o.rowTop+o.rowHeight-1>=t)return n}return i.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:jt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:jt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var i=this,n=[];if(t){var o=0;t.forEach((function(t,r){var a=new So;i.context.createBean(a),a.data=t;var s=e?So.ID_PREFIX_TOP_PINNED:So.ID_PREFIX_BOTTOM_PINNED;a.id=s+r,a.rowPinned=e?mt.PINNED_TOP:mt.PINNED_BOTTOM,a.setRowTop(o),a.setRowHeight(i.gridOptionsWrapper.getRowHeightForNode(a).height),a.setRowIndex(r),o+=a.rowHeight,n.push(a)}))}return n},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){r(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){r(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=g(t);return e.rowTop+e.rowHeight},kp([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),kp([st("columnApi")],e.prototype,"columnApi",void 0),kp([st("gridApi")],e.prototype,"gridApi",void 0),kp([ot],e.prototype,"init",null),e=kp([at("pinnedRowModel")],e)}(Bt),Ip=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lp=function(t){this.cellValueChanges=t},Np=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.initialRange=i,o.finalRange=n,o}return Ip(e,t),e}(Lp),Vp=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),Bp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Gp=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.isCellEditing=!1,e.isRowEditing=!1,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(t){if(e.isCellEditing||e.isRowEditing||e.isPasting||e.isFilling){var i=t.rowPinned,n=t.rowIndex,o=t.column,r=t.oldValue,a=t.value,s={rowPinned:i,rowIndex:n,columnId:o.getColId(),oldValue:r,newValue:a};e.cellValueChanges.push(s)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Bp(i,t),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new Vp(t),this.redoStack=new Vp(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,jt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,jt.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,jt.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.oldValue})),t instanceof Np?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},i.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.newValue})),t instanceof Np?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},i.prototype.processAction=function(t,e){var i=this;t.cellValueChanges.forEach((function(t){var n=t.rowIndex,o=t.rowPinned,r=t.columnId,a={rowIndex:n,rowPinned:o},s=i.getRowNode(a);null!=s.rowTop&&s.setDataValue(r,e(t))}))},i.prototype.processRangeAndCellFocus=function(t,e){if(e){var i=e.startRow,n=e.endRow,o={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:e.startColumn.getColId()};this.setLastFocusedCell(o);var r={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:e.startColumn,columns:e.columns};this.gridApi.addCellRange(r)}else{var a=t[0],s={rowIndex:a.rowIndex,rowPinned:a.rowPinned},l=this.getRowNode(s),u={rowPinned:a.rowPinned,rowIndex:l.rowIndex,columnId:a.columnId};this.setLastFocusedCell(u)}},i.prototype.setLastFocusedCell=function(t){var i=t.rowIndex,n=t.columnId,o=t.rowPinned;this.gridApi.ensureIndexVisible(i),this.gridApi.ensureColumnVisible(n),yt.isRegistered(e.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(i,n,o,!0)},i.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_ROW_EDITING_STARTED,(function(){t.isRowEditing=!0})),this.addManagedListener(this.eventService,jt.EVENT_ROW_EDITING_STOPPED,(function(){var e=new Lp(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isRowEditing=!1}))},i.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_CELL_EDITING_STARTED,(function(){t.isCellEditing=!0})),this.addManagedListener(this.eventService,jt.EVENT_CELL_EDITING_STOPPED,(function(){if(t.isCellEditing=!1,!t.isRowEditing&&!t.isPasting&&!t.isFilling){var e=new Lp(t.cellValueChanges);t.pushActionsToUndoStack(e)}}))},i.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,jt.EVENT_PASTE_END,(function(){var e=new Lp(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},i.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,jt.EVENT_FILL_START,(function(){t.isFilling=!0})),this.addManagedListener(this.eventService,jt.EVENT_FILL_END,(function(e){var i=new Np(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(i),t.isFilling=!1}))},i.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(t){switch(t.rowPinned){case mt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case mt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Wp([st("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Wp([st("focusController")],i.prototype,"focusController",void 0),Wp([st("gridApi")],i.prototype,"gridApi",void 0),Wp([st("rowModel")],i.prototype,"rowModel",void 0),Wp([st("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Wp([ot],i.prototype,"init",null),i=Wp([at("undoRedoService")],i)}(Bt),Hp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},jp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Hp(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=zp([at("agStackComponentsRegistry")],e)}(Bt),Up=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Up(e,t),e.prototype.findHeader=function(t,e){var i,n,o;if(t.column instanceof bt?(n="getDisplayedGroup"+e,i=this.columnController[n](t.column)):(o="getDisplayedCol"+e,i=this.columnController[o](t.column)),i)return{column:i,headerRowIndex:t.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var i=this.columnController.getAllDisplayedColumns(),n=i["start"===e?0:i.length-1];if(n){var o=this.headerNavigationService.getHeaderContainer(n.getPinned()).getRowComps()[t];return(o&&o.getType())==Oa.COLUMN_GROUP?{headerRowIndex:t,column:this.columnController.getColumnGroupAtLevel(n,t)}:{headerRowIndex:o?t:-1,column:n}}},Yp([st("columnController")],e.prototype,"columnController",void 0),Yp([st("headerNavigationService")],e.prototype,"headerNavigationService",void 0),e=Yp([at("headerPositionUtils")],e)}(Bt),qp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Kp=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,i){var n=this,o=[],r={};return t.forEach((function(t){for(var a=!0,s=n.createDefFromColumn(t,e,i),l=t;l.getParent();){var u=l.getParent(),h=void 0;if(u.isPadding())l=u;else{var p=r[u.getGroupId()];if(p){p.children.push(s),a=!1;break}(h=n.createDefFromGroup(u)).children=[s],r[h.groupId]=h,s=h,l=u}}a&&o.push(s)})),o},t.prototype.createDefFromGroup=function(t){var e=k(t.getColGroupDef(),["children"]);return e.groupId=t.getGroupId(),e},t.prototype.createDefFromColumn=function(t,e,i){var n=k(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?i.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=!t.isVisible()||void 0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,n},t=qp([at("columnDefFactory")],t)}(),Qp=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},$p=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return n(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),E(e,this.processClassesFromGridOptions(t.rowNode)),E(e,this.preProcessRowClassRules(t.rowNode,t.scope)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],i=function(t){"string"===typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},n=this.gridOptionsWrapper.getRowClass();if(n){if("function"===typeof n)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");i(n)}var o=this.gridOptionsWrapper.getRowClassFunc();o&&i(o({node:t,data:t.data,rowIndex:t.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}));return e},t.prototype.preProcessRowClassRules=function(t,e){var i=[];return this.processRowClassRules(t,e,(function(t){i.push(t)}),(function(t){})),i},t.prototype.processRowClassRules=function(t,e,i,n){this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:e,context:this.gridOptionsWrapper.getContext()},i,n)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},Qp([st("stylingService")],t.prototype,"stylingService",void 0),Qp([st("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Qp([at("rowCssClassCalculator")],t)}(),Jp=function(){function t(t,i,n){if(t)if(i){var o=!!i.debug;this.gridOptions=i;var r=this.getRegisteredModules(n),a=this.createBeansList(r),s=this.createProvidedBeans(t,n);if(a){var l={providedBeanInstances:s,beanClasses:a,debug:o};this.logger=new Gl("ag-Grid",(function(){return i.debug}));var u=new Gl("Context",(function(){return l.debug}));this.context=new it(l,u),this.registerModuleUserComponents(r),this.registerStackComponents(r);var h=new(n&&n.rootComponent||Ql);this.context.createBean(h),this.setColumnsAndData(),this.dispatchGridReadyEvent(i);var p=yt.isRegistered(e.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+p)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return t.prototype.registerStackComponents=function(t){var e=this.createAgStackComponentsList(t);this.context.getBean("agStackComponentsRegistry").setupComponents(e)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,i=yt.getRegisteredModules(),n=[],o={};function r(t,e){!function(e){o[e.moduleName]||(o[e.moduleName]=!0,n.push(e),yt.register(e,t))}(e),e.dependantModules&&e.dependantModules.forEach(r.bind(null,t))}return e&&e.forEach(r.bind(null,!0)),i&&i.forEach(r.bind(null,!yt.isPackageBased())),n},t.prototype.registerModuleUserComponents=function(t){var e=this.context.getBean("userComponentRegistry");this.extractModuleEntity(t,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(t){e.registerDefaultComponent(t.componentName,t.componentClass)}))},t.prototype.createProvidedBeans=function(t,e){var i=e?e.frameworkOverrides:null;o(i)&&(i=new wu);var n={gridOptions:this.gridOptions,eGridDiv:t,$scope:e?e.$scope:null,$compile:e?e.$compile:null,quickFilterOnScope:e?e.quickFilterOnScope:null,globalEventListener:e?e.globalEventListener:null,frameworkOverrides:i};return e&&e.providedBeanInstances&&B(n,e.providedBeanInstances),n},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:xs},{componentName:"AgRadioButton",componentClass:bu},{componentName:"AgToggleButton",componentClass:wp},{componentName:"AgInputTextField",componentClass:qh},{componentName:"AgInputTextArea",componentClass:Qh},{componentName:"AgInputNumberField",componentClass:up},{componentName:"AgInputRange",componentClass:pp},{componentName:"AgSelect",componentClass:yp},{componentName:"AgSlider",componentClass:Zh},{componentName:"AgAngleSelect",componentClass:xp},{componentName:"AgColorPicker",componentClass:sp},{componentName:"AgGridComp",componentClass:Pl},{componentName:"AgHeaderRoot",componentClass:sl},{componentName:"AgPagination",componentClass:Ah},{componentName:"AgOverlayWrapper",componentClass:Nh},{componentName:"AgGroupComponent",componentClass:Wh},{componentName:"AgPanel",componentClass:zh},{componentName:"AgDialog",componentClass:Yh}],i=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(i)},t.prototype.createBeansList=function(t){var e=this.getRowModelClass(t);if(e){var i=[e,sh,Mp,Ap,Xp,zu,Tl,Yr,ih,rh,Fh,Yo,wh,Mh,mu,Xl,Fp,iu,me,gt,ta,Ll,ra,pl,ne,nl,Wu,is,Ol,zt,kl,Zu,Ch,Yu,fl,Wl,de,jl,Zl,fa,sa,lu,pu,dh,fu,Cu,Mu,Su,ru,Au,Fu,Sh,Nu,Ku,mh,Sp,Gp,jp,Kp,$p],n=this.extractModuleEntity(t,(function(t){return t.beans?t.beans:[]}));i.push.apply(i,n);var o=[];return i.forEach((function(t){o.indexOf(t)<0&&o.push(t)})),o}},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],t.map(e))},t.prototype.setColumnsAndData=function(){var t=this.context.getBean("gridOptionsWrapper"),e=this.context.getBean("columnController"),i=t.getColumnDefs();e.setColumnDefs(i||[],"gridInitializing"),this.context.getBean("rowModel").start()},t.prototype.dispatchGridReadyEvent=function(t){var e=this.context.getBean("eventService"),i={type:jt.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi};e.dispatchEvent(i)},t.prototype.getRowModelClass=function(t){var i=this.gridOptions.rowModelType;i||(i=mt.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};t.forEach((function(t){A(t.rowModels,(function(t,e){o[t]=e}))}));var r=o[i];if(n(r))return r;i===mt.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+e.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+i),i===mt.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+e.ModuleNames.ViewportRowModelModule+" is registered.';"),i===mt.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+e.ModuleNames.ServerSideRowModelModule+" is registered.';"),i===mt.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+e.ModuleNames.ClientSideRowModelModule+" is registered.';")},t.prototype.destroy=function(){this.gridOptions.api.destroy()},t}();function Zp(t,e,i,n){var o,r,a=n.agGrid;if(r=a+".quickFilterText",o=e.$eval(a)){var s=t[0],l=new Jp(s,o,{$scope:e,$compile:i,quickFilterOnScope:r});e.$on("$destroy",(function(){l.destroy(),l=null}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var tc=!1;var ec=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ic=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},nc=function(t){function e(i){var n=t.call(this,e.getTemplate(i.cssClass))||this;return n.items=[],n.params=i,i.items&&i.items.forEach((function(t){return n.addItem(t)})),n}return ec(e,t),e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case qn.RIGHT:case qn.LEFT:if(!this.eHeader.contains(document.activeElement))return;var e=this.items.indexOf(this.activeItem),i=t.keyCode===qn.RIGHT?Math.min(e+1,this.items.length-1):Math.max(e-1,0);if(e===i)return;t.preventDefault();var n=this.items[i];this.showItemWrapper(n),n.eHeaderButton.focus();break;case qn.UP:case qn.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,i=e.focusController,n=e.eHeader,o=e.eBody,r=e.activeItem,a=document.activeElement;if(t.preventDefault(),n.contains(a))i.focusInto(o,t.shiftKey);else if(i.isFocusUnderManagedComponent(o))r.eHeaderButton.focus();else{var s=i.findNextFocusableElement(o,!1,t.shiftKey);s?s.focus():r.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.getMinDimensions=function(){var t=this.getGui().cloneNode(!0),e=t.querySelector('[ref="eBody"]');t.style.position="fixed",this.getGui().appendChild(t);var i=0,n=0;return this.items.forEach((function(o){si(e);var r=o.tabbedItem.bodyPromise.resolveNow(null,(function(t){return t.cloneNode(!0)}));null!=r&&(e.appendChild(r),i<t.offsetWidth&&(i=t.offsetWidth),n<t.offsetHeight&&(n=t.offsetHeight))})),this.getGui().removeChild(t),{height:n,width:i}},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");e.setAttribute("tabIndex","-1"),e.setAttribute("role","menuitem"),e.appendChild(t.title),Ue(e,"ag-tab"),this.eHeader.appendChild(e),Wi(e,t.titleLabel);var i={tabbedItem:t,eHeaderButton:e};this.items.push(i),e.addEventListener("click",this.showItemWrapper.bind(this,i))},e.prototype.showItem=function(t){var e=h(this.items,(function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e=this;this.params.onItemClicked&&this.params.onItemClicked({item:t.tabbedItem}),this.activeItem!==t?(si(this.eBody),t.tabbedItem.bodyPromise.then((function(t){e.eBody.appendChild(t);var i=!e.focusController.isKeyboardFocus();e.focusController.focusInto(e.eBody,!1,i)})),this.activeItem&&Ye(this.activeItem.eHeaderButton,"ag-tab-selected"),Ue(t.eHeaderButton,"ag-tab-selected"),this.activeItem=t,t.tabbedItem.afterAttachedCallback&&t.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):tt(this.params.onActiveItemClicked)},ic([Hn("eHeader")],e.prototype,"eHeader",void 0),ic([Hn("eBody")],e.prototype,"eBody",void 0),e}(no);var oc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),rc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ac=function(t){function e(i,n){var o=t.call(this)||this;return o.version=0,o.state=e.STATE_DIRTY,o.rowNodeCacheParams=n,o.blockNumber=i,o.startRow=i*n.blockSize,o.endRow=o.startRow+n.blockSize,o}return oc(e,t),e.prototype.isAnyNodeOpen=function(t){var e=!1;return this.forEachNodeCallback((function(t){t.expanded&&(e=!0)}),t),e},e.prototype.forEachNodeCallback=function(t,e){for(var i=this.startRow;i<this.endRow;i++){if(i<e)t(this.getRowUsingLocalIndex(i),i)}},e.prototype.forEachNode=function(t,e,i,n){this.forEachNodeCallback((function(i){t(i,e.next()),n&&i.childrenCache&&i.childrenCache.forEachNodeDeep(t,e)}),i)},e.prototype.forEachNodeDeep=function(t,e,i){this.forEachNode(t,e,i,!0)},e.prototype.forEachNodeShallow=function(t,e,i){this.forEachNode(t,e,i,!1)},e.prototype.getVersion=function(){return this.version},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRowUsingLocalIndex=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next());var i=t-this.startRow;return this.rowNodes[i]},e.prototype.init=function(){this.createRowNodes()},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.getBlockNumber=function(){return this.blockNumber},e.prototype.setDirty=function(){this.version++,this.state=e.STATE_DIRTY},e.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach((function(t){return t.setData(null)}))},e.prototype.getState=function(){return this.state},e.prototype.setRowNode=function(t,e){var i=t-this.startRow;this.rowNodes[i]=e},e.prototype.setBlankRowNode=function(t){var e=this.createBlankRowNode(t),i=t-this.startRow;return this.rowNodes[i]=e,e},e.prototype.setNewData=function(t,e){var i=this.setBlankRowNode(t);return this.setDataAndId(i,e,this.startRow+t),i},e.prototype.createBlankRowNode=function(t){var e=this.getContext().createBean(new So);return e.setRowHeight(this.rowNodeCacheParams.rowHeight),e},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.rowNodeCacheParams.blockSize;t++){var e=this.startRow+t,i=this.createBlankRowNode(e);this.rowNodes.push(i)}},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.pageLoadFailed=function(){this.state=e.STATE_FAILED;var t={type:e.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null};this.dispatchEvent(t)},e.prototype.populateWithRowData=function(t){var e=this,i=[];this.rowNodes.forEach((function(n,o){var r=t[o];n.stub&&i.push(n),e.setDataAndId(n,r,e.startRow+o)})),i.length>0&&this.rowRenderer.redrawRows(i)},e.prototype.destroyRowNodes=function(){var t=this;this.rowNodes.forEach((function(e){e.childrenCache&&(t.destroyBean(e.childrenCache),e.childrenCache=null),e.clearRowTop()}))},e.prototype.pageLoaded=function(t,i,n){t===this.version&&(this.state=e.STATE_LOADED,this.populateWithRowData(i)),n=le(n);var o={type:e.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:n};this.dispatchEvent(o)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_DIRTY="dirty",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",rc([st("rowRenderer")],e.prototype,"rowRenderer",void 0),rc([ot],e.prototype,"init",null),rc([rt],e.prototype,"destroyRowNodes",null),e}(Bt),sc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},uc=function(t,e){return function(i,n){e(i,n,t)}},hc=function(t){function e(e,i){var n=t.call(this)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n.maxConcurrentRequests=e,i&&i>0&&(n.checkBlockToLoadDebounce=Z(n.performCheckBlocksToLoad.bind(n),i)),n}return sc(e,t),e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.addBlock=function(t){this.blocks.push(t)},e.prototype.removeBlock=function(t){v(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=null;this.blocks.forEach((function(e){e.getState()===ac.STATE_DIRTY&&(t=e)})),t?(t.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+t.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},e.prototype.getBlockState=function(){var t={};return this.blocks.forEach((function(e){var i=e.getNodeIdPrefix(),o={blockNumber:e.getBlockNumber(),startRow:e.getStartRow(),endRow:e.getEndRow(),pageStatus:e.getState()};n(i)?t[i+e.getBlockNumber()]=o:t[e.getBlockNumber()]=o})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},lc([uc(0,ht("loggerFactory"))],e.prototype,"setBeans",null),e}(Bt),pc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},dc=function(t){function e(e){var i=t.call(this)||this;return i.maxRowFound=!1,i.blocks={},i.blockCount=0,i.virtualRowCount=e.initialRowCount,i.cacheParams=e,i}return pc(e,t),e.prototype.destroyAllBlocks=function(){var t=this;this.forEachBlockInOrder((function(e){return t.destroyBlock(e)}))},e.prototype.init=function(){var t=this;this.active=!0,this.addDestroyFunc((function(){return t.active=!1}))},e.prototype.isActive=function(){return this.active},e.prototype.getVirtualRowCount=function(){return this.virtualRowCount},e.prototype.hack_setVirtualRowCount=function(t){this.virtualRowCount=t},e.prototype.isMaxRowFound=function(){return this.maxRowFound},e.prototype.onPageLoaded=function(t){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+t.page.getBlockNumber()+", lastRow = "+t.lastRow),t.success&&(this.checkVirtualRowCount(t.page,t.lastRow),this.onCacheUpdated()))},e.prototype.purgeBlocksIfNeeded=function(t){var i=this,n=[];this.forEachBlockInOrder((function(e){e!==t&&n.push(e)})),n.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.cacheParams.maxBlocksInCache>0,r=o?this.cacheParams.maxBlocksInCache-1:null,a=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((function(t,e){if(t.getState()===ac.STATE_DIRTY&&e>=a||!!o&&e>=r){if(t.isAnyNodeOpen(i.virtualRowCount))return;if(i.isBlockCurrentlyDisplayed(t))return;i.removeBlockFromCache(t)}}))},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=this.rowRenderer.getFirstVirtualRenderedRow(),i=this.rowRenderer.getLastVirtualRenderedRow(),n=t.getDisplayIndexStart(),o=t.getDisplayIndexEnd()-1;return null!=n&&null!=o&&(!(n>i)&&!(o<e))},e.prototype.postCreateBlock=function(t){t.addEventListener(ac.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(t.getBlockNumber(),t),this.purgeBlocksIfNeeded(t),this.checkBlockToLoad()},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.checkVirtualRowCount=function(t,e){if("number"===typeof e&&e>=0)this.virtualRowCount=e,this.maxRowFound=!0;else if(!this.maxRowFound){var i=(t.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}},e.prototype.setVirtualRowCount=function(t,e){this.virtualRowCount=t,n(e)&&(this.maxRowFound=e),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize===0&&this.virtualRowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t,e){var i=this;void 0===e&&(e=new kn),this.forEachBlockInOrder((function(n){return n.forEachNodeDeep(t,e,i.virtualRowCount)}))},e.prototype.forEachBlockInOrder=function(t){var e=this.getBlockIdsSorted();this.forEachBlockId(e,t)},e.prototype.forEachBlockInReverseOrder=function(t){var e=this.getBlockIdsSorted().reverse();this.forEachBlockId(e,t)},e.prototype.forEachBlockId=function(t,e){var i=this;t.forEach((function(t){var n=i.blocks[t];e(n,t)}))},e.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}))},e.prototype.getBlock=function(t){return this.blocks[t]},e.prototype.setBlock=function(t,e){this.blocks[t]=e,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(e)},e.prototype.destroyBlock=function(t){delete this.blocks[t.getBlockNumber()],this.destroyBean(t),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isActive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:e.EVENT_CACHE_UPDATED};this.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.forEachBlockInOrder((function(i,n){n*t.cacheParams.blockSize>=t.virtualRowCount&&e.push(i)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.forEachBlockInOrder((function(e){return t.removeBlockFromCache(e)})),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var i=this,n=[],r=-1,a=!1,s=new kn;o(t)&&(a=!0);var l=!1;return this.forEachBlockInOrder((function(o,u){l||(a&&r+1!==u?l=!0:(r=u,o.forEachNodeShallow((function(i){var o=i===t||i===e;(a||o)&&n.push(i),o&&(a=!a)}),s,i.virtualRowCount)))})),l||a?[]:n},e.EVENT_CACHE_UPDATED="cacheUpdated",e.MAX_EMPTY_BLOCKS_TO_KEEP=2,cc([st("rowRenderer")],e.prototype,"rowRenderer",void 0),cc([rt],e.prototype,"destroyAllBlocks",null),cc([ot],e.prototype,"init",null),e}(Bt),fc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},mc=function(t){function e(i,n){void 0===i&&(i="default"),void 0===n&&(n="listbox");var o=t.call(this,e.getTemplate(i),!0)||this;return o.cssIdentifier=i,o.ariaRole=n,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return fc(e,t),e.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),t.prototype.postConstruct.call(this)},e.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),e=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(e){t.prototype.onFocusIn.call(this,e);var i=e.target;qe(i,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=Bi(i)-1)},e.prototype.onFocusOut=function(e){t.prototype.onFocusOut.call(this,e),this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case qn.UP:case qn.DOWN:this.navigate(t.keyCode===qn.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusController.focusInto(this.getGui(),!t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){var i=e.renderedRows.get(t);i&&i.eDiv.focus()}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!==typeof t||t<0||t>=e)console.warn("invalid row index for ensureIndexVisible: "+t);else{var i=t*this.rowHeight,n=i+this.rowHeight,o=this.getGui(),r=o.scrollTop,a=o.offsetHeight,s=r+a<n;if(r>i)o.scrollTop=i;else if(s){var l=n-a;o.scrollTop=l}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var e=this.model.getRowCount();this.eContainer.style.height=e*this.rowHeight+"px",setTimeout((function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())}),0)}},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,i){return t.removeRow(i)}))},e.prototype.drawVirtualRows=function(){var t=this.getGui(),e=t.scrollTop,i=e+t.offsetHeight,n=Math.floor(e/this.rowHeight),o=Math.floor(i/this.rowHeight);this.ensureRowsRendered(n,o)},e.prototype.ensureRowsRendered=function(t,e){var i=this;this.renderedRows.forEach((function(n,o){(o<t||o>e)&&o!==i.lastFocusedRowIndex&&i.removeRow(o)}));for(var n=t;n<=e;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)},e.prototype.insertRow=function(t){var e=this,i=this.model.getRow(t),n=document.createElement("div");if(Ue(n,"ag-virtual-list-item"),Ue(n,"ag-"+this.cssIdentifier+"-virtual-list-item"),n.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),Yi(n,this.model.getRowCount()),Xi(n,t+1),n.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var o=this.model.isRowSelected(t);nn(n,!!o),on(n,o)}n.style.height=this.rowHeight+"px",n.style.top=this.rowHeight*t+"px";var r=this.componentCreator(i,n);r.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),n.appendChild(r.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(t,{rowComponent:r,eDiv:n})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}))},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,t.prototype.destroy.call(this))},gc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),gc([st("resizeObserverService")],e.prototype,"resizeObserverService",void 0),gc([Hn("eContainer")],e.prototype,"eContainer",void 0),e}(no);var yc,vc,Cc=function(){function t(){}return t.prototype.wrap=function(t,e,i,n,o){var r=this;void 0===i&&(i=[]);var a=this.createWrapper(t,n,o);return e.forEach((function(t){r.createMethod(a,t,!0)})),i.forEach((function(t){r.createMethod(a,t,!1)})),a},t.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},t.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("ag-Grid: Framework component is missing the method "+e+"()"),null)}},t}();(yc=e.ChartType||(e.ChartType={})).GroupedColumn="groupedColumn",yc.StackedColumn="stackedColumn",yc.NormalizedColumn="normalizedColumn",yc.GroupedBar="groupedBar",yc.StackedBar="stackedBar",yc.NormalizedBar="normalizedBar",yc.Line="line",yc.Scatter="scatter",yc.Bubble="bubble",yc.Pie="pie",yc.Doughnut="doughnut",yc.Area="area",yc.StackedArea="stackedArea",yc.NormalizedArea="normalizedArea",yc.Histogram="histogram",(vc=e.LegendPosition||(e.LegendPosition={})).Top="top",vc.Right="right",vc.Bottom="bottom",vc.Left="left";var xc="undefined"===typeof t?{}:t;xc.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,xc.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,xc.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,xc.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,xc.Node="undefined"===typeof Node?{}:Node,xc.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var bc,wc=function(){function t(e,i,n,o,r,a,s,l){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=i,this.context=n,this.eventService=o,this.columnController=r,this.gridApi=a,this.columnApi=s,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return Dn.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!e)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(e,this.rootNode,t.TOP_LEVEL)},t.prototype.updateRowData=function(t,e){var i={remove:[],update:[],add:[]},n=[];return this.executeAdd(t,i),this.executeRemove(t,i,n),this.executeUpdate(t,i,n),this.updateSelection(n),e&&Dn.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),i},t.prototype.updateSelection=function(t){var e=t.length>0;if(e&&t.forEach((function(t){t.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),e){var i={type:jt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(t,e){var i=this,n=t.add,o=t.addIndex;Dn.missingOrEmpty(n)||("number"===typeof o&&o>=0?n.reverse().forEach((function(t){var n=i.addRowNode(t,o);e.add.push(n)})):n.forEach((function(t){var n=i.addRowNode(t);e.add.push(n)})))},t.prototype.executeRemove=function(t,e,i){var n=this,o=t.remove;if(!Dn.missingOrEmpty(o)){var r={};o.forEach((function(t){var o=n.lookupRowNode(t);o&&(o.isSelected()&&i.push(o),o.clearRowTop(),r[o.id]=!0,delete n.allNodesMap[o.id],e.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!r[t.id]}))}},t.prototype.executeUpdate=function(e,i,n){var o=this,r=e.update;Dn.missingOrEmpty(r)||r.forEach((function(e){var r=o.lookupRowNode(e);r&&(r.updateData(e),!r.selectable&&r.isSelected()&&n.push(r),o.setMasterForRow(r,e,t.TOP_LEVEL,!1),i.update.push(r))}))},t.prototype.addRowNode=function(e,i){var n=this.createNode(e,this.rootNode,t.TOP_LEVEL);return Dn.exists(i)?Dn.insertIntoArray(this.rootNode.allLeafChildren,n,i):this.rootNode.allLeafChildren.push(n),n},t.prototype.lookupRowNode=function(t){var e,i=this.gridOptionsWrapper.getRowNodeIdFunc();if(Dn.exists(i)){var n=i(t);if(!(e=this.allNodesMap[n]))return console.error("ag-Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(e=Dn.find(this.rootNode.allLeafChildren,(function(e){return e.data===t}))))return console.error("ag-Grid: could not find data item as object was not found",t),null;return e},t.prototype.recursiveFunction=function(t,e,i){var n=this;if("string"!==typeof t){var o=[];return t.forEach((function(t){var r=n.createNode(t,e,i);o.push(r)})),o}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.createNode=function(t,e,i){var n=new So;return this.context.createBean(n),n.group=!1,this.setMasterForRow(n,t,i,!0),e&&!this.suppressParentsInRowNodes&&(n.parent=e),n.level=i,n.setDataAndId(t,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("ag-grid: duplicate node id '"+n.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},t.prototype.setMasterForRow=function(t,e,i,n){if(this.doingTreeData)t.setMaster(!1),n&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),n){var o=this.columnController.getRowGroupColumns(),r=i+(o?o.length:0);t.expanded=!!t.master&&this.isExpanded(r)}},t.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},t.prototype.setLeafChildren=function(t){t.allLeafChildren=[],t.childrenAfterGroup&&t.childrenAfterGroup.forEach((function(e){e.group?e.allLeafChildren&&e.allLeafChildren.forEach((function(e){return t.allLeafChildren.push(e)})):t.allLeafChildren.push(e)}))},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),Ec=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(bc||(bc={}));var Sc,Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ec(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:mt.STEP_EVERYTHING}),e=this.refreshModel.bind(this,{step:mt.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,jt.EVENT_COLUMN_EVERYTHING_CHANGED,e),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:mt.STEP_PIVOT})),this.addManagedListener(this.eventService,jt.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var i=this.refreshModel.bind(this,{step:mt.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,ta.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i),this.addManagedListener(this.gridOptionsWrapper,ta.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i),this.rootNode=new So,this.nodeManager=new wc(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},e.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,i,n){var o,r=!1;do{o=!1;for(var a=this.getRowIndexAtPixel(t),s=this.getRowIndexAtPixel(e),l=Math.max(a,i),u=Math.min(s,n),h=l;h<=u;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var c=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(c.height),o=!0,r=!0}}o&&this.setRowTops()}while(o);return r},e.prototype.setRowTops=function(){for(var t=0,e=0;e<this.rowsToDisplay.length;e++){var i=this.gridOptionsWrapper.getDomLayout()===mt.DOM_LAYOUT_NORMAL,n=this.rowsToDisplay[e];if(Dn.missing(n.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(n,i);n.setRowHeight(o.height,o.estimated)}n.setRowTop(t),n.setRowIndex(e),t+=n.rowHeight}},e.prototype.resetRowTops=function(t,e){if(t.clearRowTop(),t.hasChildren()){if(t.childrenAfterGroup)if(!(e.isActive()&&!t.expanded))for(var i=0;i<t.childrenAfterGroup.length;i++)this.resetRowTops(t.childrenAfterGroup[i],e);t.sibling&&t.sibling.clearRowTop()}t.detailNode&&t.detailNode.clearRowTop()},e.prototype.ensureRowsAtPixel=function(t,e,i){var n=this;void 0===i&&(i=0);var o=this.getRowIndexAtPixel(e);return this.getRow(o)!==t[0]&&(t.forEach((function(t){Dn.removeFromArray(n.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){Dn.insertIntoArray(n.rootNode.allLeafChildren,t,Math.max(o+i,0)+e)})),this.refreshModel({step:mt.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var i=null!=e?this.getRowIndexAtPixel(e):null,n=null!=i?this.getRow(i):null;if(n&&t&&n!==t&&null!=e){var o=this.getHighlightPosition(e,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var i=this.getRowIndexAtPixel(t);if(!(e=this.getRow(i||0)))return"below"}return t-e.rowTop<e.rowHeight/2?"above":"below"},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowFound=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(Dn.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:mt.STEP_MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:mt.STEP_FILTER,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:mt.STEP_SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return mt.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:mt.STEP_PIVOT}):this.refreshModel({step:mt.STEP_AGGREGATE})},e.prototype.createChangePath=function(t){var e=Dn.missingOrEmpty(t),i=new ea(!1,this.rootNode);return(e||this.gridOptionsWrapper.isTreeData())&&i.setInactive(),i},e.prototype.refreshModel=function(t){var e=this,i=this.createChangePath(t.rowNodeTransactions);switch(t.step){case mt.STEP_EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,i,t.afterColumnsChanged);case mt.STEP_FILTER:this.doFilter(i);case mt.STEP_PIVOT:this.doPivot(i);case mt.STEP_AGGREGATE:this.doAggregate(i);case mt.STEP_SORT:this.doSort(t.rowNodeTransactions,i);case mt.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,i),this.setRowTops();var n={type:jt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1};this.eventService.dispatchEvent(n),this.$scope&&window.setTimeout((function(){e.$scope.$apply()}),0)},e.prototype.isEmpty=function(){var t=Dn.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Dn.missing(this.rootNode)||t||!this.columnController.isReady()},e.prototype.isRowsToRender=function(){return Dn.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var i,n=!e,o=!1,r=[],a=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(s){var l=n&&!o;if(n||s!==e&&s!==t||(n=!0),!(s.group&&a)){var u=n&&!o,h=s.isParentOfNode(i);(u||h)&&r.push(s)}l&&(s!==e&&s!==t||(o=!0,i=s===e?e:t))})),r},e.prototype.setDatasource=function(t){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Dn.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var n=Math.floor((e+i)/2),o=this.rowsToDisplay[n];if(this.isRowInPixel(o,t))return n;o.rowTop<t?e=n+1:o.rowTop>t&&(i=n-1)}},e.prototype.isRowInPixel=function(t,e){var i=t.rowTop,n=t.rowTop+t.rowHeight;return i<=e&&n>e},e.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var t=Dn.last(this.rowsToDisplay);return t.rowTop+t.rowHeight}return 0},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,i){return t(e,i)}))},e.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,bc.Normal,0)},e.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,bc.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,bc.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,bc.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(t,e,i,n){if(!t)return n;for(var o=0;o<t.length;o++){var r=t[o];if(e(r,n++),r.hasChildren()){var a=null;switch(i){case bc.Normal:a=r.childrenAfterGroup;break;case bc.AfterFilter:a=r.childrenAfterFilter;break;case bc.AfterFilterAndSort:a=r.childrenAfterSort;break;case bc.PivotNodes:a=r.leafGroup?null:r.childrenAfterSort}a&&(n=this.recursivelyWalkNodesAndCallback(a,e,i,n))}}return n},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsWrapper.isTreeData();this.rootNode&&function i(n){if(!n)return;n.forEach((function(n){(e?Dn.exists(n.childrenAfterGroup):n.group)&&(n.expanded=t,i(n.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:mt.STEP_MAP});var i=t?"expandAll":"collapseAll",n={api:this.gridApi,columnApi:this.columnApi,type:jt.EVENT_EXPAND_COLLAPSE_ALL,source:i};this.eventService.dispatchEvent(n)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,i,n,o){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:i,changedPath:n}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:o}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(n)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(t){t&&Dn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,i){"boolean"===typeof t[i]&&(e.expanded=t[i])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return Dn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,i){return t[i]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t);var i={type:jt.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i),this.refreshModel({step:mt.STEP_EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){i.executeBatchUpdateRowData()}),n)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],i=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(n){var o=t.nodeManager.updateRowData(n.rowDataTransaction,null);i.push(o),n.callback&&e.push(n.callback.bind(null,o))})),this.commonUpdateRowData(i),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(t,e);return"number"===typeof t.addIndex&&(e=this.createRowNodeOrder()),this.commonUpdateRowData([i],e),i},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!t){var e=t?null:{};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){e[this.rootNode.allLeafChildren[i].id]=i}return e}},e.prototype.commonUpdateRowData=function(t,e){this.refreshModel({step:mt.STEP_EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0});var i={type:jt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:mt.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},e.prototype.resetRowHeights=function(){var t=!1;this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t=!0})),t&&this.onRowHeightChanged()},Pc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pc([st("columnController")],e.prototype,"columnController",void 0),Pc([st("filterManager")],e.prototype,"filterManager",void 0),Pc([st("$scope")],e.prototype,"$scope",void 0),Pc([st("selectionController")],e.prototype,"selectionController",void 0),Pc([st("valueService")],e.prototype,"valueService",void 0),Pc([st("valueCache")],e.prototype,"valueCache",void 0),Pc([st("columnApi")],e.prototype,"columnApi",void 0),Pc([st("gridApi")],e.prototype,"gridApi",void 0),Pc([st("filterStage")],e.prototype,"filterStage",void 0),Pc([st("sortStage")],e.prototype,"sortStage",void 0),Pc([st("flattenStage")],e.prototype,"flattenStage",void 0),Pc([lt("groupStage")],e.prototype,"groupStage",void 0),Pc([lt("aggregationStage")],e.prototype,"aggregationStage",void 0),Pc([lt("pivotStage")],e.prototype,"pivotStage",void 0),Pc([ot],e.prototype,"init",null),e=Pc([at("rowModel")],e)}(Bt),_c=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Mc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _c(e,t),e.prototype.execute=function(t){var e=t.rowNode,i=t.changedPath;this.filterService.filter(i),this.selectableService.updateSelectableAfterFiltering(e)},Mc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Mc([st("selectableService")],e.prototype,"selectableService",void 0),Mc([st("filterService")],e.prototype,"filterService",void 0),e=Mc([at("filterStage")],e)}(Bt),Oc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ac=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oc(e,t),e.prototype.execute=function(t){var e=this.sortController.getSortForRowController(),i=Dn.exists(e)&&e.length>0,n=i&&Dn.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=n?this.calculateDirtyNodes(t.rowNodeTransactions):null,r=this.columnController.getValueColumns(),a=Dn.missingOrEmpty(r);this.sortService.sort(e,i,n,o,t.changedPath,a)},e.prototype.calculateDirtyNodes=function(t){var e={},i=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t.forEach((function(t){i(t.add),i(t.update),i(t.remove)})),e},Ac([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ac([st("sortService")],e.prototype,"sortService",void 0),Ac([st("sortController")],e.prototype,"sortController",void 0),Ac([st("columnController")],e.prototype,"columnController",void 0),e=Ac([at("sortStage")],e)}(Bt),kc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kc(e,t),e.prototype.execute=function(t){var e=t.rowNode,i=[],n={value:0},o=this.columnController.isPivotMode(),r=o&&e.leafGroup,a=r?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(a,i,n,o,0),!r&&i.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(e),this.addRowNodeToRowsToDisplay(e.sibling,i,n,0)),i},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,i,n,o){if(!Dn.missingOrEmpty(t))for(var r=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<t.length;l++){var u=t[l],h=u.hasChildren(),p=n&&!h,c=a&&h&&1===u.childrenAfterGroup.length,d=s&&h&&u.leafGroup&&1===u.childrenAfterGroup.length,f=n&&u.leafGroup,g=r&&u.expanded&&!f;if(!p&&!g&&!c&&!d&&this.addRowNodeToRowsToDisplay(u,e,i,o),!n||!u.leafGroup)if(h){var m=c||d;if(u.expanded||m){var y=m?o:o+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,e,i,n,y),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(u),this.addRowNodeToRowsToDisplay(u.sibling,e,i,o))}}else if(u.master&&u.expanded){var v=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(v,e,i,o)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,i,n){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(o?0:n)},e.prototype.ensureFooterNodeExists=function(t){if(!Dn.exists(t.sibling)){var e=new So;this.context.createBean(e),Object.keys(t).forEach((function(i){e[i]=t[i]})),e.footer=!0,e.rowTop=null,e.oldRowTop=null,Dn.exists(e.id)&&(e.id="rowGroupFooter_"+e.id),e.sibling=t,t.sibling=e}},e.prototype.createDetailNode=function(t){if(Dn.exists(t.detailNode))return t.detailNode;var e=new So;return this.context.createBean(e),e.detail=!0,e.selectable=!1,e.parent=t,Dn.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},Fc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Fc([st("selectionController")],e.prototype,"selectionController",void 0),Fc([st("columnController")],e.prototype,"columnController",void 0),e=Fc([at("flattenStage")],e)}(Bt),Lc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lc(e,t),e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(t,e,i,n,o,r){var a=this;o.forEachChangedNodeDepthFirst((function(s){if(a.pullDownGroupDataForHideOpenParents(s.childrenAfterFilter,!0),e){var l=i?a.doDeltaSort(s,t,n,o,r):a.doFullSort(s,t);s.childrenAfterSort=l.map((function(t){return t.rowNode}))}else s.childrenAfterSort=s.childrenAfterFilter.slice(0);a.updateChildIndexes(s),a.postSortFunc&&a.postSortFunc(s.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(o)},e.prototype.doFullSort=function(t,e){var i=t.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return i.sort(this.compareRowNodes.bind(this,e)),i},e.prototype.mapNodeToSortedNode=function(t,e){return{currentPos:e,rowNode:t}},e.prototype.doDeltaSort=function(t,e,i,n,o){var r=t.childrenAfterSort.filter((function(t){var e=!i[t.id],r=o||n.canSkip(t);return e&&r})).map(this.mapNodeToSortedNode.bind(this)),a={};r.forEach((function(t){return a[t.rowNode.id]=t.rowNode}));var s=t.childrenAfterFilter.filter((function(t){return!a[t.id]})).map(this.mapNodeToSortedNode.bind(this));return s.sort(this.compareRowNodes.bind(this,e)),0===s.length?r:0===r.length?s:this.mergeSortedArrays(e,r,s)},e.prototype.mergeSortedArrays=function(t,e,i){for(var n=[],o=0,r=0;o<e.length&&r<i.length;){this.compareRowNodes(t,e[o],i[r])<0?n.push(e[o++]):n.push(i[r++])}for(;o<e.length;)n.push(e[o++]);for(;r<i.length;)n.push(i[r++]);return n},e.prototype.compareRowNodes=function(t,e,i){for(var n=e.rowNode,o=i.rowNode,r=0,a=t.length;r<a;r++){var s=t[r],l=-1===s.inverter,u=this.getValue(n,s.column),h=this.getValue(o,s.column),p=void 0,c=s.column.getColDef().comparator;if(0!==(p=c?c(u,h,n,o,l):Dn.defaultComparator(u,h,this.gridOptionsWrapper.isAccentedSort())))return p*s.inverter}return e.currentPos-i.currentPos},e.prototype.getValue=function(t,e){return this.valueService.getValue(e,t)},e.prototype.updateChildIndexes=function(t){if(!Dn.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,i=0;i<e.length;i++){var n=e[i],o=0===i,r=i===t.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(r),n.setChildIndex(i)}},e.prototype.updateGroupDataForHiddenOpenParents=function(t){var e=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var i=function t(i){e.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach((function(e){e.hasChildren()&&t(e)}))};t.executeFromRootNode((function(t){return i(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var i=this;Dn.missing(t)||this.gridOptionsWrapper.isGroupHideOpenParents()&&t.forEach((function(t){i.columnController.getGroupDisplayColumns().forEach((function(n){var o=n.getColDef().showRowGroup;if("string"===typeof o){var r=o,a=i.columnController.getPrimaryColumn(r);if(!(a===t.rowGroupColumn))if(e)t.setGroupValue(n.getId(),null);else{var s=t.getFirstChildOfFirstChild(a);s&&t.setGroupValue(n.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Nc([st("sortController")],e.prototype,"sortController",void 0),Nc([st("columnController")],e.prototype,"columnController",void 0),Nc([st("valueService")],e.prototype,"valueService",void 0),Nc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Nc([ot],e.prototype,"init",null),e=Nc([at("sortService")],e)}(Bt),Bc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bc(e,t),e.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},e.prototype.filter=function(t){var e=this.filterManager.isAnyFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var i=this,n=function(e,n){e.hasChildren()?(e.childrenAfterFilter=t&&!n?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,n=t.data&&i.filterManager.doesRowPassFilter(t);return e||n})):e.childrenAfterGroup,i.setAllChildrenCount(e)):(e.childrenAfterFilter=e.childrenAfterGroup,e.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var o=function t(e,o){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var a=e.childrenAfterGroup[r],s=o||i.filterManager.doesRowPassFilter(a);a.childrenAfterGroup?t(e.childrenAfterGroup[r],s):n(a,s)}n(e,o)};e.executeFromRootNode((function(t){return o(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return n(t,!1)}),!0)}},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){this.doingTreeData?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t)},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Wc([st("filterManager")],e.prototype,"filterManager",void 0),Wc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Wc([ot],e.prototype,"postConstruct",null),e=Wc([at("filterService")],e)}(Bt),Hc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hc(e,t),e.prototype.postConstruct=function(){this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.createTransactionForRowData=function(t){if(Dn.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsWrapper.getRowNodeIdFunc();if(e&&!Dn.missing(e)){var i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Dn.exists(t)&&t.forEach((function(t,r){var a=e(t),s=n[a];(o&&(o[a]=r),s)?(s.data!==t&&i.update.push(t),n[a]=void 0):i.add.push(t)})),Dn.iterateObject(n,(function(t,e){e&&i.remove.push(e.data)})),[i,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},zc([st("rowModel")],e.prototype,"rowModel",void 0),zc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),zc([ot],e.prototype,"postConstruct",null),e=zc([at("immutableService")],e)}(Bt),Uc={moduleName:e.ModuleNames.ClientSideRowModelModule,beans:[Rc,Dc,Ic,Vc,Gc,jc],rowModels:{clientSide:Tc}},Yc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},qc=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.cacheParams=i,n}return Yc(e,t),e.prototype.getDisplayIndexStart=function(){return this.getBlockNumber()*this.cacheParams.blockSize},e.prototype.getDisplayIndexEnd=function(){return this.getDisplayIndexStart()+this.cacheParams.blockSize},e.prototype.createBlankRowNode=function(e){var i=t.prototype.createBlankRowNode.call(this);return i.uiLevel=0,this.setIndexAndTopOnRowNode(i,e),i},e.prototype.setDataAndId=function(t,e,i){Dn.exists(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)},e.prototype.setRowNode=function(e,i){t.prototype.setRowNode.call(this,e,i),this.setIndexAndTopOnRowNode(i,e)},e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.getNodeIdPrefix=function(){return null},e.prototype.getRow=function(t){return this.getRowUsingLocalIndex(t)},e.prototype.setIndexAndTopOnRowNode=function(t,e){t.setRowIndex(e),t.rowTop=this.cacheParams.rowHeight*e},e.prototype.loadFromDatasource=function(){var t=this,e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};Dn.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout((function(){t.cacheParams.datasource.getRows(e)}),0)},Xc([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(ac),Kc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qc=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},$c=function(t,e){return function(i,n){e(i,n,t)}},Jc=function(t){function e(e){return t.call(this,e)||this}return Kc(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.moveItemsDown=function(t,e,i){for(var n=t.getStartRow(),o=e+i,r=t.getEndRow()-1;r>=n;r--)if(!(r<o)){var a=r-i,s=this.getRow(a,!0);s?t.setRowNode(r,s):(t.setBlankRowNode(r),t.setDirty())}},e.prototype.insertItems=function(t,e,i){for(var n=t.getStartRow(),o=t.getEndRow(),r=[],a=0;a<i.length;a++){var s=e+a;if(s>=n&&s<o){var l=i[a],u=t.setNewData(s,l);r.push(u)}}return r},e.prototype.insertItemsAtIndex=function(t,e){var i=this,n=[];this.forEachBlockInReverseOrder((function(o){o.getEndRow()<=t||(i.moveItemsDown(o,t,e.length),i.insertItems(o,t,e).forEach((function(t){return n.push(t)})))})),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+e.length),this.onCacheUpdated();var o={type:jt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var i=Math.floor(t/this.cacheParams.blockSize),n=this.getBlock(i);if(!n){if(e)return null;n=this.createBlock(i)}return n.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new qc(t,this.cacheParams));return this.postCreateBlock(e),e},e.prototype.refreshCache=function(){this.forEachBlockInOrder((function(t){return t.setDirty()})),this.checkBlockToLoad()},Qc([st("columnApi")],e.prototype,"columnApi",void 0),Qc([st("gridApi")],e.prototype,"gridApi",void 0),Qc([$c(0,ht("loggerFactory"))],e.prototype,"setBeans",null),e}(dc),Zc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),td=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zc(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,i,n){return!1},e.prototype.init=function(){var t=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})))},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.isLastRowFound=function(){return null!=this.infiniteCache&&this.infiniteCache.isMaxRowFound()},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,jt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,jt.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Dn.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return mt.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){Dn.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:jt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},e.prototype.resetCache=function(){this.destroyCache();var t=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=this.createBean(new hc(t,e)),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(t,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new kn},this.infiniteCache=this.createBean(new Jc(this.cacheParams)),this.infiniteCache.addEventListener(dc.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache)),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader=this.destroyBean(this.rowNodeBlockLoader))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){return this.infiniteCache?this.infiniteCache.getRow(t):null},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(i){i.id===t&&(e=i)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t,new kn)},e.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},e.prototype.updateRowData=function(t){Dn.exists(t.remove)||Dn.exists(t.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):Dn.missing(t.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(t.addIndex,t.add)},e.prototype.isRowPresent=function(t){return!1},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},e.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},e.prototype.setVirtualRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(t,e)},e.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},td([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),td([st("filterManager")],e.prototype,"filterManager",void 0),td([st("sortController")],e.prototype,"sortController",void 0),td([st("selectionController")],e.prototype,"selectionController",void 0),td([st("gridApi")],e.prototype,"gridApi",void 0),td([st("columnApi")],e.prototype,"columnApi",void 0),td([st("rowRenderer")],e.prototype,"rowRenderer",void 0),td([ot],e.prototype,"init",null),td([rt],e.prototype,"destroyDatasource",null),e=td([at("rowModel")],e)}(Bt),id={moduleName:e.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:ed}},nd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),od=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},rd=function(){function t(t){this.groupColumns=[];var e=t.columnController,i=t.valueService,n=t.gridOptionsWrapper,o=t.processCellCallback,r=t.processHeaderCallback,a=t.processGroupHeaderCallback,s=t.processRowGroupCallback;this.columnController=e,this.valueService=i,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=r,this.processGroupHeaderCallback=a,this.processRowGroupCallback=s}return t.prototype.prepare=function(t){this.groupColumns=Dn.filter(t,(function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,i,n){var o,r=this.gridOptionsWrapper.isGroupMultiAutoColumn()?n.rowGroupIndex:0;o=n&&n.group&&(e===r&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(t,n);var a=this.processCell(n,t,o,this.processCellCallback,i);return null!=a?a:""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,e.push(t.key);return e.reverse().join(" -> ")},t.prototype.processCell=function(t,e,i,n,o){return n?n({column:e,node:t,value:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):i},t}(),ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var i=e.shouldRowBeSkipped||function(){return!1},n=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),r=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),s=this.gridOptionsWrapper.getContext(),l=this.columnController.isPivotMode(),u=this.rowModel.getType()===mt.ROW_MODEL_TYPE_CLIENT_SIDE,h=!u&&e.onlySelected,p=[];if(p=Dn.existsAndNotEmpty(e.columnKeys)?this.columnController.getGridColumns(e.columnKeys):e.allColumns&&!l?(p=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([mt.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),e.customHeader&&t.addCustomContent(e.customHeader),t.prepare(p),e.columnGroups){var c=new Ut,d=this.displayedGroupCreator.createDisplayedGroups(p,this.columnController.getGridBalancedTree(),c,null);this.recursivelyAddHeaderGroups(d,t,e.processGroupHeaderCallback)}if(!e.skipHeader){var f=t.onNewHeaderRow();p.forEach((function(t,e){f.onColumn(t,e,void 0)}))}(this.pinnedRowModel.forEachPinnedTopRow(g),l)?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(g):this.rowModel.forEachNode(g):e.onlySelectedAllPages||h?this.selectionController.getSelectedNodes().forEach((function(t){g(t)})):u?this.rowModel.forEachNodeAfterFilterAndSort(g):this.rowModel.forEachNode(g);function g(l){var u=a&&l.leafGroup,h=1===l.allChildrenCount&&(r||u);if((!l.group||!e.skipGroups&&!h)&&((!e.skipFooters||!l.footer)&&(!e.onlySelected||l.isSelected())&&(!e.skipPinnedTop||"top"!==l.rowPinned)&&(!e.skipPinnedBottom||"bottom"!==l.rowPinned)&&(!(-1===l.level)||l.leafGroup)&&!i({node:l,api:n,context:s}))){var c=t.onNewBodyRow();if(p.forEach((function(t,e){c.onColumn(t,e,l)})),e.getCustomContentBelowRow){var d=e.getCustomContentBelowRow({node:l,api:n,columnApi:o,context:s});d&&t.addCustomContent(d)}}}return this.pinnedRowModel.forEachPinnedBottomRow(g),e.customFooter&&t.addCustomContent(e.customFooter),t.parse()},e.prototype.recursivelyAddHeaderGroups=function(t,e,i){var n=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return n.push(t)}))})),t.length>0&&t[0]instanceof bt&&this.doAddHeaderHeader(e,t,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,e,i)},e.prototype.doAddHeaderHeader=function(t,e,i){var n=this,o=t.onNewHeaderGroupingRow(),r=0;e.forEach((function(t){var e,a=t;e=i?i({columnGroup:a,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnController.getDisplayNameForColumnGroup(a,"header"),o.onColumn(e||"",r++,a.getLeafColumns().length-1)}))},od([st("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),od([st("columnController")],e.prototype,"columnController",void 0),od([st("rowModel")],e.prototype,"rowModel",void 0),od([st("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),od([st("selectionController")],e.prototype,"selectionController",void 0),od([st("columnFactory")],e.prototype,"columnFactory",void 0),od([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=od([at("gridSerializer")],e)}(Bt);!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(Sc||(Sc={}));var sd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ld=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},ud=function(t){function e(e){var i=t.call(this,e)||this;i.isFirstLine=!0,i.result="";var n=e.suppressQuotes,o=e.columnSeparator;return i.suppressQuotes=n,i.columnSeparator=o,i}return sd(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"===typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,i){0!==i&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,i){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e,i){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,i){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,mt.EXPORT_TYPE_CSV,i))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null===t||void 0===t?'""':("string"===typeof t?e=t:"function"===typeof t.toString?e=t.toString():(console.warn("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(rd),hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sd(e,t),e.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t){return this.getData(t)},e.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this,i=e.columnController,n=e.valueService,o=e.gridOptionsWrapper,r=t.processCellCallback,a=t.processHeaderCallback,s=t.processGroupHeaderCallback,l=t.processRowGroupCallback,u=t.suppressQuotes,h=t.columnSeparator;return new ud({columnController:i,valueService:n,gridOptionsWrapper:o,processCellCallback:r||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:s||void 0,processRowGroupCallback:l||void 0,suppressQuotes:u||!1,columnSeparator:h||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},ld([st("columnController")],e.prototype,"columnController",void 0),ld([st("valueService")],e.prototype,"valueService",void 0),ld([st("downloader")],e.prototype,"downloader",void 0),ld([st("gridSerializer")],e.prototype,"gridSerializer",void 0),ld([st("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ld([ot],e.prototype,"postConstruct",null),e=ld([at("csvCreator")],e)}(function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParamsAndData(t),i=e.mergedParams,n=e.data,o=i&&i.fileName&&0!==i.fileName.length?i.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(n)),n},t.prototype.getData=function(t){return this.getMergedParamsAndData(t).data},t.prototype.getMergedParamsAndData=function(t){var e=this.mergeDefaultParams(t);return{mergedParams:e,data:this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}},t.prototype.mergeDefaultParams=function(t){var e=this.beans.gridOptionsWrapper.getDefaultExportParams(),i={};return Dn.assign(i,e),Dn.assign(i,t),i},t.prototype.packageFile=function(t){return new Blob(["\ufeff",t],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},t}()),pd=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},cd=function(){function t(){}return t.prototype.download=function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var i=document.createElement("a"),n=window.URL.createObjectURL(e);i.setAttribute("href",n),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(i),window.setTimeout((function(){window.URL.revokeObjectURL(n)}),0)}},t=pd([at("downloader")],t)}(),dd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fd=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},gd="\r\n",md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dd(e,t),e.prototype.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},e.prototype.createXml=function(t,e){var i=this,n="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(o){n+=i.returnAttributeIfPopulated(t.prefix+o,t.map[o],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(o){n+=i.returnAttributeIfPopulated(o,t.properties.rawMap[o],e)})));var o="<"+t.name+n;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">"+gd:(o+=">\r\n",t.children&&t.children.forEach((function(t){o+=i.createXml(t,e)})),o+"</"+t.name+">"+gd):o+"/>"+gd},e.prototype.returnAttributeIfPopulated=function(t,e,i){if(!e&&""!==e&&0!==e)return"";var n=e;return"boolean"===typeof e&&i&&(n=i(e))," "+t+'="'+n+'"'},e=fd([at("xmlFactory")],e)}(Bt),yd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vd=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Cd=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],xd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.folders=[],e.files=[],e.addFolder=function(t){e.folders.push({path:t,created:new Date})},e}return yd(e,t),e.prototype.addFolders=function(t){t.forEach(this.addFolder)},e.prototype.addFile=function(t,e){this.files.push({path:t,created:new Date,content:e})},e.prototype.clearStream=function(){this.folders=[],this.files=[]},e.prototype.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),i=this.buildUint8Array(e);return this.clearStream(),new Blob([i],{type:t})},e.prototype.buildFileStream=function(t){void 0===t&&(t="");for(var e=this.folders.concat(this.files),i=e.length,n="",o=0,r=0,a=0,s=e;a<s.length;a++){var l=s[a],u=this.getHeader(l,o),h=u.fileHeader,p=u.folderHeader,c=u.content;o+=h.length+c.length,r+=p.length,t+=h+c,n+=p}return t+n+this.buildFolderEnd(i,r,o)},e.prototype.getHeader=function(t,e){var i=t.content,n=t.path,o=t.created,r=Dn.utf8_encode,a=Dn.decToHex,s=r(n),l=s!==n,u=this.convertTime(o),h=this.convertDate(o),p="";if(l){var c=a(1,1)+a(this.getFromCrc32Table(s),4)+s;p="up"+a(c.length,2)+c}var d="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(h,2)+a(i?this.getFromCrc32Table(i):0,4)+a(i?i.length:0,4)+a(i?i.length:0,4)+a(s.length,2)+a(p.length,2);return{fileHeader:"PK\x03\x04"+d+s+p,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(i?"\0\0\0\0":"\x10\0\0\0")+a(e,4)+s+p,content:i||""}},e.prototype.buildFolderEnd=function(t,e,i){var n=Dn.decToHex;return"PK\x05\x06\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(i,4)+"\0\0"},e.prototype.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),i=0;i<e.length;i++)e[i]=t.charCodeAt(i);return e},e.prototype.getFromCrc32Table=function(t,e){if(void 0===e&&(e=0),!t.length)return 0;e^=-1;for(var i=0,n=0;n<t.length;n++)i=t.charCodeAt(n),e=e>>>8^Cd[255&(e^i)];return-1^e},e.prototype.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},e.prototype.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},e=vd([at("zipContainer")],e)}(Bt),bd={moduleName:e.ModuleNames.CsvExportModule,beans:[hd,cd,md,ad,xd]};yt.register(Uc,!1),yt.register(id,!1),yt.register(bd,!1),e.AgAbstractField=fs,e.AgAngleSelect=xp,e.AgCheckbox=xs,e.AgColorPicker=sp,e.AgDialog=Yh,e.AgGroupComponent=Wh,e.AgInputNumberField=up,e.AgInputRange=pp,e.AgInputTextArea=Qh,e.AgInputTextField=qh,e.AgPanel=zh,e.AgRadioButton=bu,e.AgSelect=yp,e.AgSlider=Zh,e.AgToggleButton=wp,e.AlignedGridsService=Zu,e.AnimateShowChangeCellRenderer=Jo,e.AnimateSlideCellRenderer=er,e.AutoWidthCalculator=jl,e.Autowired=st,e.BaseComponentWrapper=Cc,e.Bean=at,e.BeanStub=Bt,e.BodyDropPivotTarget=Ys,e.BodyDropTarget=Qs,e.CellComp=qa,e.CellNavigationService=fu,e.CellPositionUtils=Ap,e.CellRendererFactory=mu,e.ChangedPath=ea,e.CheckboxSelectionComponent=Mo,e.ColDefUtil=we,e.Color=Ee,e.Column=Ct,e.ColumnApi=sa,e.ColumnController=ne,e.ColumnFactory=zt,e.ColumnGroup=bt,e.ColumnKeyCreator=d,e.ColumnUtils=de,e.Component=Bn,e.ComponentUtil=xe,e.Constants=mt,e.Context=it,e.CssClassApplier=ns,e.DateFilter=mo,e.DisplayedGroupCreator=me,e.DragAndDropService=fa,e.DragService=iu,e.Environment=dh,e.EventService=gt,e.Events=jt,e.ExpressionService=Ol,e.FilterManager=pl,e.FloatingFilterMapper=Is,e.FloatingFilterWrapper=Vs,e.FocusController=lu,e.Grid=Jp,e.GridApi=Tl,e.GridCore=Ql,e.GridListener=function(t){return jn.bind(this,t)},e.GridOptionsWrapper=ta,e.GridPanel=Pl,e.GroupCellRenderer=Ko,e.GroupInstanceIdCreator=Ut,e.GuiListener=function(t,e){return Un.bind(this,t,e)},e.HeaderContainer=Zs,e.HeaderNavigationService=nl,e.HeaderPositionUtils=Xp,e.HeaderRootComp=sl,e.HeaderRowComp=Hs,e.HorizontalResizeService=Xl,e.KeyCode=qn,e.KeyName=ol,e.LargeTextCellEditor=fr,e.Logger=Gl,e.LoggerFactory=Wl,e.ManagedFocusComponent=no,e.ModuleRegistry=yt,e.MouseEventService=pu,e.MoveColumnController=js,e.NumberFilter=yr,e.NumberSequence=kn,e.Optional=lt,e.OriginalColumnGroup=wt,e.PaginationProxy=Wu,e.PinnedRowModel=Fp,e.PopupComponent=Gn,e.PopupEditorWrapper=Ea,e.PopupSelectCellEditor=pr,e.PopupService=Ll,e.PopupTextCellEditor=ur,e.PostConstruct=ot,e.PreConstruct=nt,e.PreDestroy=rt,e.Promise=Fn,e.PropertyKeys=ve,e.ProvidedFilter=ao,e.Qualifier=ht,e.QuerySelector=function(t){return zn.bind(this,t)},e.RefSelector=Hn,e.ResizeObserverService=Fh,e.RowComp=Ja,e.RowNode=So,e.RowNodeBlock=ac,e.RowNodeBlockLoader=hc,e.RowNodeCache=dc,e.RowPositionUtils=Mp,e.RowRenderer=is,e.ScalarFilter=co,e.ScrollVisibleService=Su,e.SelectCellEditor=sr,e.SelectableService=Sh,e.SelectionController=ra,e.SetLeftFeature=us,e.SimpleFilter=ho,e.SortController=ru,e.StandardMenuFactory=Zl,e.StylingService=Mu,e.TabbedLayout=nc,e.TemplateService=kl,e.TextCellEditor=$n,e.TextFilter=Lr,e.TextFloatingFilter=zr,e.Timer=In,e.TooltipFeature=Aa,e.TouchListener=yo,e.UserComponentFactory=Yo,e.UserComponentRegistry=Yr,e.ValueCache=Yu,e.ValueFormatterService=Cu,e.ValueService=fl,e.VanillaFrameworkOverrides=wu,e.VirtualList=mc,e._=Dn,e.defaultGroupComparator=function(t,e,i,o,r){void 0===r&&(r=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var a=n(i)&&i.group,s=n(o)&&o.group,l=!a&&!s;return a&&s?u(i.key,o.key,r):l?u(t,e,r):a?1:-1},e.initialiseAgGridWithAngular1=function(t){t.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",Zp],scope:!0}}))},e.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!tc){tc=!0,"undefined"!==typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var t=Object.create(HTMLElement.prototype);xe.ALL_PROPERTIES.forEach((function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)},enumerable:!0,configurable:!0})}));var e=t;e.__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var i={};i[t]={currentValue:e},this.onChange(i)},e.onChange=function(t){this._initialised&&xe.processOnChange(t,this._gridOptions,this.api,this.columnApi)},e.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},e.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=xe.copyAttributesToGridOptions(t,this);var i={globalEventListener:e};this._agGrid=new Jp(this,this._gridOptions,i),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},e.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},e.setPropertyFromAttribute=function(t){var e,i="string"===typeof(e=t.nodeName)?e.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()})):e,n=t.nodeValue;xe.ALL_PROPERTIES.indexOf(i)>=0&&(this[i]=n)},e.attachedCallback=function(t){},e.detachedCallback=function(t){},e.attributeChangedCallback=function(t){var e=this.attributes[t];this.setPropertyFromAttribute(e)},e.globalEventListener=function(t,e){var i=t.toLowerCase(),n=new Event(i);n.agGridDetails=e,this.dispatchEvent(n);var o="on"+i;"function"===typeof this[o]&&this[o](n)},document.registerElement("ag-grid",{prototype:t})}},e.simpleHttpRequest=function(t){return new Fn((function(e){var i=new XMLHttpRequest;i.open("GET",t.url),i.send(),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(JSON.parse(i.responseText))}}))},e.stringToArray=Pe}).call(this,i(32))},function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(43)},function(t,e,i){"use strict";var n,o,r;o=[],void 0===(r="function"===typeof(n=function(){function t(){return!0}function e(){return!1}function i(){}function n(){var o=[{name:"number",test:function(t){return"number"===typeof t}},{name:"string",test:function(t){return"string"===typeof t}},{name:"boolean",test:function(t){return"boolean"===typeof t}},{name:"Function",test:function(t){return"function"===typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],r={name:"any",test:t},a=[],s=[],l={types:o,conversions:s,ignore:a};function u(t){var e=q(l.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return r;var i=q(l.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(i?'. Did you mean "'+i.name+'"?':""))}function h(t){return t===r?999:l.types.indexOf(t)}function p(t){var e=q(l.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function c(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var i;if("string"===typeof e){i=e.split(",");for(var n=0;n<i.length;n++)i[n]=i[n].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");i=e}var o=i.join(","),r=t.signatures[o];if(r)return r;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+i.join(", ")+"))")}function d(t,e){var i=p(t);if(e===i)return t;for(var n=0;n<l.conversions.length;n++){var o=l.conversions[n];if(o.from===i&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+i+" to "+e)}function f(t){return t.map((function(t){var e=t.types.map(E);return(t.restParam?"...":"")+e.join("|")})).join(",")}function g(t,e){var i=0===t.indexOf("..."),n=(i?t.length>3?t.slice(3):"any":t).split("|").map(B).filter(W).filter(V),o=A(e,n),r=n.map((function(t){var e=u(t);return{name:t,typeIndex:h(e),test:e.test,conversion:null,conversionIndex:-1}})),a=o.map((function(t){var i=u(t.from);return{name:t.from,typeIndex:h(i),test:i.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:r.concat(a),restParam:i}}function m(t,e,i){var n=[];return""!==t.trim()&&(n=t.split(",").map(B).map((function(t,e,n){var o=g(t,i);if(o.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return o}))),n.some(H)?null:{params:n,fn:e}}function y(t){var e=j(t);return!!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function C(e){if(e&&0!==e.types.length){if(1===e.types.length)return u(e.types[0].name).test;if(2===e.types.length){var i=u(e.types[0].name).test,n=u(e.types[1].name).test;return function(t){return i(t)||n(t)}}var o=e.types.map((function(t){return u(t.name).test}));return function(t){for(var e=0;e<o.length;e++)if(o[e](t))return!0;return!1}}return t}function x(t){var e,i,n;if(y(t)){var o=(e=z(t).map(C)).length,r=C(j(t)),a=function(t){for(var e=o;e<t.length;e++)if(!r(t[e]))return!1;return!0};return function(t){for(var i=0;i<e.length;i++)if(!e[i](t[i]))return!1;return a(t)&&t.length>=o+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(i=C(t[0]),function(t){return i(t[0])&&1===t.length}):2===t.length?(i=C(t[0]),n=C(t[1]),function(t){return i(t[0])&&n(t[1])&&2===t.length}):(e=t.map(C),function(t){for(var i=0;i<e.length;i++)if(!e[i](t[i]))return!1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:y(t.params)?j(t.params):null}function w(t,e,i){var n=b(t,e);return(n?i?n.types.filter(P):n.types:[]).map(E)}function E(t){return t.name}function P(t){return null===t.conversion||void 0===t.conversion}function S(t,e){var i=K(Q(t,(function(t){return w(t,e,!1)})));return-1!==i.indexOf("any")?["any"]:i}function T(t,e,i){var n,o,r,a=t||"unnamed",s=i;for(r=0;r<e.length;r++){var l=s.filter((function(t){var i=C(b(t,r));return(r<t.params.length||y(t.params))&&i(e[r])}));if(0===l.length){if((o=S(s,r)).length>0){var u=p(e[r]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+u+", index: "+r+")")).data={category:"wrongType",fn:a,index:r,actual:u,expected:o},n}}else s=l}var h=s.map((function(t){return y(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,h))return o=S(s,r),(n=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},n;var c=Math.max.apply(null,h);return e.length>c?((n=new TypeError("Too many arguments in function "+a+" (expected: "+c+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:c},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(p)},n)}function _(t){for(var e=999,i=0;i<t.types.length;i++)P(t.types[i])&&(e=Math.min(e,t.types[i].typeIndex));return e}function M(t){for(var e=999,i=0;i<t.types.length;i++)P(t.types[i])||(e=Math.min(e,t.types[i].conversionIndex));return e}function R(t,e){var i;return 0!==(i=t.restParam-e.restParam)||0!==(i=v(t)-v(e))||0!==(i=_(t)-_(e))?i:M(t)-M(e)}function O(t,e){var i,n,o=Math.min(t.params.length,e.params.length);if(0!==(n=t.params.some(v)-e.params.some(v)))return n;for(i=0;i<o;i++)if(0!==(n=v(t.params[i])-v(e.params[i])))return n;for(i=0;i<o;i++)if(0!==(n=R(t.params[i],e.params[i])))return n;return t.params.length-e.params.length}function A(t,e){var i={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||i[t.from]||(i[t.from]=t)})),Object.keys(i).map((function(t){return i[t]}))}function D(t,e){var i=e;if(t.some(v)){var n=y(t),o=t.map(k);i=function(){for(var t=[],i=n?arguments.length-1:arguments.length,r=0;r<i;r++)t[r]=o[r](arguments[r]);return n&&(t[i]=arguments[i].map(o[i])),e.apply(this,t)}}var r=i;if(y(t)){var a=t.length-1;r=function(){return i.apply(this,U(arguments,0,a).concat([U(arguments,a)]))}}return r}function k(t){var e,i,n,o,r=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(r.push(u(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=r[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=r[0],i=r[1],n=a[0],o=a[1],function(t){return e(t)?n(t):i(t)?o(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(r[e](t))return a[e](t);return t}}}function F(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(i){e[f(i)]=t.fn}))})),e}function I(t,e){function i(t,n,o){if(n<t.length){var r,a=t[n],s=e?a.types.filter(P):a.types;if(a.restParam){var l=s.filter(P);r=l.length<s.length?[l,s]:[s]}else r=s.map((function(t){return[t]}));return Q(r,(function(e){return i(t,n+1,o.concat([e]))}))}return[o.map((function(e,i){return{types:e,restParam:i===t.length-1&&y(t)}}))]}return i(t,0,[])}function L(t,e){for(var i=Math.max(t.params.length,e.params.length),n=0;n<i;n++)if(!X(w(t,n,!0),w(e,n,!0)))return!1;var o=t.params.length,r=e.params.length,a=y(t.params),s=y(e.params);return a?s?o===r:r>=o:s?o>=r:o===r}function N(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(n).map((function(t){return m(t,n[t],l.conversions)})).filter(G).forEach((function(t){var e=q(o,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+f(e.params)+'" and "'+f(t.params)+'".');o.push(t)}));var r=Q(o,(function(t){return(t?I(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(G);r.sort(O);var a=r[0]&&r[0].params.length<=2&&!y(r[0].params),s=r[1]&&r[1].params.length<=2&&!y(r[1].params),u=r[2]&&r[2].params.length<=2&&!y(r[2].params),h=r[3]&&r[3].params.length<=2&&!y(r[3].params),p=r[4]&&r[4].params.length<=2&&!y(r[4].params),c=r[5]&&r[5].params.length<=2&&!y(r[5].params),d=a&&s&&u&&h&&p&&c,g=r.map((function(t){return x(t.params)})),v=a?C(r[0].params[0]):e,b=s?C(r[1].params[0]):e,w=u?C(r[2].params[0]):e,E=h?C(r[3].params[0]):e,P=p?C(r[4].params[0]):e,S=c?C(r[5].params[0]):e,_=a?C(r[0].params[1]):e,M=s?C(r[1].params[1]):e,R=u?C(r[2].params[1]):e,A=h?C(r[3].params[1]):e,k=p?C(r[4].params[1]):e,N=c?C(r[5].params[1]):e,V=r.map((function(t){return D(t.params,t.fn)})),B=a?V[0]:i,W=s?V[1]:i,H=u?V[2]:i,z=h?V[3]:i,j=p?V[4]:i,U=c?V[5]:i,Y=a?r[0].params.length:-1,X=s?r[1].params.length:-1,K=u?r[2].params.length:-1,$=h?r[3].params.length:-1,J=p?r[4].params.length:-1,Z=c?r[5].params.length:-1,tt=d?6:0,et=r.length,it=function(){for(var e=tt;e<et;e++)if(g[e](arguments))return V[e].apply(this,arguments);throw T(t,arguments,r)},nt=function t(e,i){return arguments.length===Y&&v(e)&&_(i)?B.apply(t,arguments):arguments.length===X&&b(e)&&M(i)?W.apply(t,arguments):arguments.length===K&&w(e)&&R(i)?H.apply(t,arguments):arguments.length===$&&E(e)&&A(i)?z.apply(t,arguments):arguments.length===J&&P(e)&&k(i)?j.apply(t,arguments):arguments.length===Z&&S(e)&&N(i)?U.apply(t,arguments):it.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t})}catch(ot){}return nt.signatures=F(r),nt}function V(t){return-1===l.ignore.indexOf(t)}function B(t){return t.trim()}function W(t){return!!t}function G(t){return null!==t}function H(t){return 0===t.types.length}function z(t){return t.slice(0,t.length-1)}function j(t){return t[t.length-1]}function U(t,e,i){return Array.prototype.slice.call(t,e,i)}function Y(t,e){return-1!==t.indexOf(e)}function X(t,e){for(var i=0;i<t.length;i++)if(Y(e,t[i]))return!0;return!1}function q(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return t[i]}function K(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return Object.keys(e)}function Q(t,e){return Array.prototype.concat.apply([],t.map(e))}function $(t){for(var e="",i=0;i<t.length;i++){var n=t[i];if(("object"===typeof n.signatures||"string"===typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw o.data={actual:n.name,expected:e},o}}return e}function J(t){var e,i={};function n(t,n){if(i.hasOwnProperty(t)&&n!==i[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var o=0;o<t.length;o++){var r=t[o];if("object"===typeof r.signatures)for(var a in r.signatures)r.signatures.hasOwnProperty(a)&&(n(a,r.signatures[a]),i[a]=r.signatures[a]);else{if("string"!==typeof r.signature)throw(e=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},e;n(r.signature,r),i[r.signature]=r}}return i}return(l=N("typed",{"string, Object":N,Object:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return N($(e),t)},"...Function":function(t){return N($(t),J(t))},"string, ...Function":function(t,e){return N(t,J(e))}})).create=n,l.types=o,l.conversions=s,l.ignore=a,l.convert=d,l.find=c,l.addType=function(t,e){if(!t||"string"!==typeof t.name||"function"!==typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var i=0;i<l.types.length;i++)if("Object"===l.types[i].name)return void l.types.splice(i,0,t);l.types.push(t)},l.addConversion=function(t){if(!t||"string"!==typeof t.from||"string"!==typeof t.to||"function"!==typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(t)},l}return n()})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n=i(49),o=i(50),r=i(51),a=i(52),s=i(53),l=i(54),u=i(55);u.alea=n,u.xor128=o,u.xorwow=r,u.xorshift7=a,u.xor4096=s,u.tychei=l,t.exports=u},function(t,e,i){"use strict";(function(t){var n=i(1),o=i.n(n),r=i(10),a=i(14),s=i.n(a),l=1073741823,u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function h(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(i,n){t=i,e.forEach((function(e){return e(t,n)}))}}}var p=o.a.createContext||function(t,e){var i,o,a="__create-react-context-"+function(){var t="__global_unique_id__";return u[t]=(u[t]||0)+1}()+"__",p=function(t){function i(){var e;return(e=t.apply(this,arguments)||this).emitter=h(e.props.value),e}Object(r.a)(i,t);var n=i.prototype;return n.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},n.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var i,n=this.props.value,o=t.value;((r=n)===(a=o)?0!==r||1/r===1/a:r!==r&&a!==a)?i=0:(i="function"===typeof e?e(n,o):l,0!==(i|=0)&&this.emitter.set(t.value,i))}var r,a},n.render=function(){return this.props.children},i}(n.Component);p.childContextTypes=((i={})[a]=s.a.object.isRequired,i);var c=function(e){function i(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,i){0!==((0|t.observedBits)&i)&&t.setState({value:t.getValue()})},t}Object(r.a)(i,e);var n=i.prototype;return n.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?l:e},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?l:t},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():t},n.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},i}(n.Component);return c.contextTypes=((o={})[a]=s.a.object,o),{Provider:p,Consumer:c}};e.a=p}).call(this,i(32))},function(t,e,i){var n=i(71);t.exports=d,t.exports.parse=r,t.exports.compile=function(t,e){return s(r(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=c;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(t,e){for(var i,n=[],r=0,a=0,s="",h=e&&e.delimiter||"/";null!=(i=o.exec(t));){var p=i[0],c=i[1],d=i.index;if(s+=t.slice(a,d),a=d+p.length,c)s+=c[1];else{var f=t[a],g=i[2],m=i[3],y=i[4],v=i[5],C=i[6],x=i[7];s&&(n.push(s),s="");var b=null!=g&&null!=f&&f!==g,w="+"===C||"*"===C,E="?"===C||"*"===C,P=i[2]||h,S=y||v;n.push({name:m||r++,prefix:g||"",delimiter:P,optional:E,repeat:w,partial:b,asterisk:!!x,pattern:S?u(S):x?".*":"[^"+l(P)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&n.push(s),n}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var i=new Array(t.length),o=0;o<t.length;o++)"object"===typeof t[o]&&(i[o]=new RegExp("^(?:"+t[o].pattern+")$",p(e)));return function(e,o){for(var r="",s=e||{},l=(o||{}).pretty?a:encodeURIComponent,u=0;u<t.length;u++){var h=t[u];if("string"!==typeof h){var p,c=s[h.name];if(null==c){if(h.optional){h.partial&&(r+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(n(c)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<c.length;d++){if(p=l(c[d]),!i[u].test(p))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(p)+"`");r+=(0===d?h.prefix:h.delimiter)+p}}else{if(p=h.asterisk?encodeURI(c).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(c),!i[u].test(p))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+p+'"');r+=h.prefix+p}}else r+=h}return r}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function p(t){return t&&t.sensitive?"":"i"}function c(t,e,i){n(e)||(i=e||i,e=[]);for(var o=(i=i||{}).strict,r=!1!==i.end,a="",s=0;s<t.length;s++){var u=t[s];if("string"===typeof u)a+=l(u);else{var c=l(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),a+=d=u.optional?u.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")"}}var f=l(i.delimiter||"/"),g=a.slice(-f.length)===f;return o||(a=(g?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=r?"$":o&&g?"":"(?="+f+"|$)",h(new RegExp("^"+a,p(i)),e)}function d(t,e,i){return n(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}(t,e):n(t)?function(t,e,i){for(var n=[],o=0;o<t.length;o++)n.push(d(t[o],e,i).source);return h(new RegExp("(?:"+n.join("|")+")",p(i)),e)}(t,e,i):function(t,e,i){return c(r(t,i),e,i)}(t,e,i)}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i};Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=i(1),s=i(14),l=i(26),u=function(t){function e(e){var i=t.call(this,e)||this;return i.props=e,i}return n(e,t),e.prototype.render=function(){return null},e.mapChildColumnDefs=function(t){return r.Children.map(t,(function(t){return e.toColDef(t.props)}))},e.toColDef=function(t){var i=t.children,n=o(t,["children"]);return e.hasChildColumns(i)&&(n.children=e.mapChildColumnDefs(i)),n},e.hasChildColumns=function(t){return r.Children.count(t)>0},e}(a.Component);function h(t,e){t.forEach((function(t){u[t]=e}))}e.AgGridColumn=u,h(l.ColDefUtil.BOOLEAN_PROPERTIES,s.bool),h(l.ColDefUtil.STRING_PROPERTIES,s.string),h(l.ColDefUtil.OBJECT_PROPERTIES,s.object),h(l.ColDefUtil.ARRAY_PROPERTIES,s.array),h(l.ColDefUtil.NUMBER_PROPERTIES,s.number),h(l.ColDefUtil.FUNCTION_PROPERTIES,s.func)},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(n=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={}));var o=function(){function t(){var t;this.strategyMap=((t={})[n.DeepValueCheck]=new a,t[n.IdentityCheck]=new r((function(t,e){return t===e})),t[n.NoCheck]=new r((function(t,e){return!1})),t)}return t.prototype.getStrategy=function(t){return this.strategyMap[t]},t}();e.ChangeDetectionService=o;var r=function(){function t(t){this.strategy=t}return t.prototype.areEqual=function(t,e){return this.strategy(t,e)},t}(),a=function(){function t(){}return t.prototype.areEqual=function(e,i){return t.areEquivalent(t.copy(e),t.copy(i))},t.unwrapStringOrNumber=function(t){return t instanceof Number||t instanceof String?t.valueOf():t},t.copy=function(t){if(!t)return t;if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(this.copy(t[i]));return e}return"object"!==typeof t?t:[{},t].reduce((function(t,e){return Object.keys(e).forEach((function(i){t[i]=e[i]})),t}),{})},t.isNaN=function(t){return Number.isNaN?Number.isNaN(t):"number"===typeof t&&isNaN(t)},t.areEquivalent=function(e,i){if(e=t.unwrapStringOrNumber(e),i=t.unwrapStringOrNumber(i),e===i)return!0;if(null===e||null===i||typeof e!==typeof i)return!1;if(t.isNaN(e)&&t.isNaN(i))return!0;if(e instanceof Date)return i instanceof Date&&e.valueOf()===i.valueOf();if("function"===typeof e)return e.toString()===i.toString();if("object"!==typeof e||e.$$typeof&&"Symbol(react.element)"===e.$$typeof.toString())return e==i;var n=void 0===e.areEquivPropertyTracking,o=void 0===i.areEquivPropertyTracking;try{var r=void 0;if(n)e.areEquivPropertyTracking=[];else if(e.areEquivPropertyTracking.some((function(t){return t===i})))return!0;if(o)i.areEquivPropertyTracking=[];else if(i.areEquivPropertyTracking.some((function(t){return t===e})))return!0;e.areEquivPropertyTracking.push(i),i.areEquivPropertyTracking.push(e);var a={};for(r in e)"areEquivPropertyTracking"!=r&&(a[r]=null);for(r in i)"areEquivPropertyTracking"!=r&&(a[r]=null);for(r in a)if(!this.areEquivalent(e[r],i[r]))return!1;return!0}finally{n&&delete e.areEquivPropertyTracking,o&&delete i.areEquivPropertyTracking}},t}()},function(t,e,i){"use strict";t.exports=i(72)},function(t,e,i){var n,o,r;o=[],void 0===(r="function"===typeof(n=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},i=!e.document&&!!e.postMessage,n=i&&/blob:/i.test((e.location||{}).protocol),o={},r=0,a={parse:function(i,n){var s=(n=n||{}).dynamicTyping||!1;if(b(s)&&(n.dynamicTypingFunction=s,s={}),n.dynamicTyping=s,n.transform=!!b(n.transform)&&n.transform,n.worker&&a.WORKERS_SUPPORTED){var l=function(){if(!a.WORKERS_SUPPORTED)return!1;var i,n,s=(i=e.URL||e.webkitURL||null,n=t.toString(),a.BLOB_URL||(a.BLOB_URL=i.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),l=new e.Worker(s);return l.onmessage=m,l.id=r++,o[l.id]=l}();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=b(n.step),n.chunk=b(n.chunk),n.complete=b(n.complete),n.error=b(n.error),delete n.worker,void l.postMessage({input:i,config:n,workerId:l.id})}var d=null;return a.NODE_STREAM_INPUT,"string"==typeof i?d=n.download?new u(n):new p(n):!0===i.readable&&b(i.read)&&b(i.on)?d=new c(n):(e.File&&i instanceof File||i instanceof Object)&&(d=new h(n)),d.stream(i)},unparse:function(t,e){var i=!1,n=!0,o=",",r="\r\n",s='"',l=s+s,u=!1,h=null,p=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(o=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(i=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(r=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(n=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");h=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(p=e.escapeFormulae)}}();var c=new RegExp(f(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return g(null,t,u);if("object"==typeof t[0])return g(h||d(t[0]),t,u)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:d(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),g(t.fields||[],t.data||[],u);throw new Error("Unable to serialize unrecognized input");function d(t){if("object"!=typeof t)return[];var e=[];for(var i in t)e.push(i);return e}function g(t,e,i){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(s&&n){for(var u=0;u<t.length;u++)0<u&&(a+=o),a+=m(t[u],u);0<e.length&&(a+=r)}for(var h=0;h<e.length;h++){var p=s?t.length:e[h].length,c=!1,d=s?0===Object.keys(e[h]).length:0===e[h].length;if(i&&!s&&(c="greedy"===i?""===e[h].join("").trim():1===e[h].length&&0===e[h][0].length),"greedy"===i&&s){for(var f=[],g=0;g<p;g++){var y=l?t[g]:g;f.push(e[h][y])}c=""===f.join("").trim()}if(!c){for(var v=0;v<p;v++){0<v&&!d&&(a+=o);var C=s&&l?t[v]:v;a+=m(e[h][C],v)}h<e.length-1&&(!i||0<p&&!d)&&(a+=r)}}return a}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===p&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var n=t.toString().replace(c,l);return"boolean"==typeof i&&i||"function"==typeof i&&i(t,e)||Array.isArray(i)&&i[e]||function(t,e){for(var i=0;i<e.length;i++)if(-1<t.indexOf(e[i]))return!0;return!1}(n,a.BAD_DELIMITERS)||-1<n.indexOf(o)||" "===n.charAt(0)||" "===n.charAt(n.length-1)?s+n+s:n}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=d,a.NetworkStreamer=u,a.FileStreamer=h,a.StringStreamer=p,a.ReadableStreamStreamer=c,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var i=t.config||{},n=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:s.extend({},i)})})),o(),this;function o(){if(0!==n.length){var e,i,o,l,u=n[0];if(b(t.before)){var h=t.before(u.file,u.inputElem);if("object"==typeof h){if("abort"===h.action)return e="AbortError",i=u.file,o=u.inputElem,l=h.reason,void(b(t.error)&&t.error({name:e},i,o,l));if("skip"===h.action)return void r();"object"==typeof h.config&&(u.instanceConfig=s.extend(u.instanceConfig,h.config))}else if("skip"===h)return void r()}var p=u.instanceConfig.complete;u.instanceConfig.complete=function(t){b(p)&&p(t,u.file,u.inputElem),r()},a.parse(u.file,u.instanceConfig)}else b(t.complete)&&t.complete()}function r(){n.splice(0,1),o()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=C(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,i){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(t);void 0!==o&&(t=o)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+t;this._partialLine="";var s=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=r.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:s,workerId:a.WORKER_ID,finished:u});else if(b(this._config.chunk)&&!i){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!b(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){b(this._config.error)?this._config.error(t):n&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function u(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),l.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}i&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var i=e.statusText||t;this._sendError(new Error(i))}}function h(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),l.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,o)}var r=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,i=this._config.chunkSize;return i?(t=e.substring(0,i),e=e.substring(i)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function c(t){l.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=x((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=x((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=x((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(t){var e,i,n,o=Math.pow(2,53),r=-o,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,h=0,p=0,c=!1,d=!1,m=[],y={data:[],errors:[],meta:{}};if(b(t.step)){var v=t.step;t.step=function(e){if(y=e,E())w();else{if(w(),0===y.data.length)return;h+=e.data.length,t.preview&&h>t.preview?i.abort():(y.data=y.data[0],v(y,u))}}}function x(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function w(){if(y&&n&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines)for(var e=0;e<y.data.length;e++)x(y.data[e])&&y.data.splice(e--,1);return E()&&function(){if(y)if(Array.isArray(y.data[0])){for(var e=0;E()&&e<y.data.length;e++)y.data[e].forEach(i);y.data.splice(0,1)}else y.data.forEach(i);function i(e,i){b(t.transformHeader)&&(e=t.transformHeader(e,i)),m.push(e)}}(),function(){if(!y||!t.header&&!t.dynamicTyping&&!t.transform)return y;function e(e,i){var n,o=t.header?{}:[];for(n=0;n<e.length;n++){var r=n,a=e[n];t.header&&(r=n>=m.length?"__parsed_extra":m[n]),t.transform&&(a=t.transform(a,r)),a=P(r,a),"__parsed_extra"===r?(o[r]=o[r]||[],o[r].push(a)):o[r]=a}return t.header&&(n>m.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+n,p+i):n<m.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+n,p+i)),o}var i=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(e),i=y.data.length):y.data=e(y.data,0),t.header&&y.meta&&(y.meta.fields=m),p+=i,y}()}function E(){return t.header&&0===m.length}function P(e,i){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(function(t){if(s.test(t)){var e=parseFloat(t);if(r<e&&e<o)return!0}return!1}(i)?parseFloat(i):l.test(i)?new Date(i):""===i?null:i):i;var n}function S(t,e,i,n){var o={type:t,code:e,message:i};void 0!==n&&(o.row=n),y.errors.push(o)}this.parse=function(o,r,s){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var i=new RegExp(f(e)+"([^]*?)"+f(e),"gm"),n=(t=t.replace(i,"")).split("\r"),o=t.split("\n"),r=1<o.length&&o[0].length<n[0].length;if(1===n.length||r)return"\n";for(var a=0,s=0;s<n.length;s++)"\n"===n[s][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(o,l)),n=!1,t.delimiter)b(t.delimiter)&&(t.delimiter=t.delimiter(o),y.meta.delimiter=t.delimiter);else{var u=function(e,i,n,o,r){var s,l,u,h;r=r||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var p=0;p<r.length;p++){var c=r[p],d=0,f=0,m=0;u=void 0;for(var y=new g({comments:o,delimiter:c,newline:i,preview:10}).parse(e),v=0;v<y.data.length;v++)if(n&&x(y.data[v]))m++;else{var C=y.data[v].length;f+=C,void 0!==u?0<C&&(d+=Math.abs(C-u),u=C):u=C}0<y.data.length&&(f/=y.data.length-m),(void 0===l||d<=l)&&(void 0===h||h<f)&&1.99<f&&(l=d,s=c,h=f)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(o,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);u.successful?t.delimiter=u.bestDelimiter:(n=!0,t.delimiter=a.DefaultDelimiter),y.meta.delimiter=t.delimiter}var h=C(t);return t.preview&&t.header&&h.preview++,e=o,i=new g(h),y=i.parse(e,r,s),w(),c?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,i.abort(),e=b(t.chunk)?"":e.substring(i.getCharIndex())},this.resume=function(){u.streamer._halted?(c=!1,u.streamer.parseChunk(e,!0)):setTimeout(u.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,i.abort(),y.meta.aborted=!0,b(t.complete)&&t.complete(y),e=""}}function f(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,i=(t=t||{}).delimiter,n=t.newline,o=t.comments,r=t.step,s=t.preview,l=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=","),o===i)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<a.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,p=!1;this.parse=function(t,a,c){if("string"!=typeof t)throw new Error("Input must be a string");var d=t.length,g=i.length,m=n.length,y=o.length,v=b(r),C=[],x=[],w=[],E=h=0;if(!t)return N();if(l||!1!==l&&-1===t.indexOf(e)){for(var P=t.split(n),S=0;S<P.length;S++){if(w=P[S],h+=w.length,S!==P.length-1)h+=n.length;else if(c)return N();if(!o||w.substring(0,y)!==o){if(v){if(C=[],k(w.split(i)),V(),p)return N()}else k(w.split(i));if(s&&s<=S)return C=C.slice(0,s),N(!0)}}return N()}for(var T=t.indexOf(i,h),_=t.indexOf(n,h),M=new RegExp(f(u)+f(e),"g"),R=t.indexOf(e,h);;)if(t[h]!==e)if(o&&0===w.length&&t.substring(h,h+y)===o){if(-1===_)return N();h=_+m,_=t.indexOf(n,h),T=t.indexOf(i,h)}else{if(-1!==T&&(T<_||-1===_)){if(!(T<R)){w.push(t.substring(h,T)),h=T+g,T=t.indexOf(i,h);continue}var O=B(T,R,_);if(O&&void 0!==O.nextDelim){T=O.nextDelim,R=O.quoteSearch,w.push(t.substring(h,T)),h=T+g,T=t.indexOf(i,h);continue}}if(-1===_)break;if(w.push(t.substring(h,_)),L(_+m),v&&(V(),p))return N();if(s&&C.length>=s)return N(!0)}else for(R=h,h++;;){if(-1===(R=t.indexOf(e,R+1)))return c||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:C.length,index:h}),I();if(R===d-1)return I(t.substring(h,R).replace(M,e));if(e!==u||t[R+1]!==u){if(e===u||0===R||t[R-1]!==u){-1!==T&&T<R+1&&(T=t.indexOf(i,R+1)),-1!==_&&_<R+1&&(_=t.indexOf(n,R+1));var A=F(-1===_?T:Math.min(T,_));if(t[R+1+A]===i){w.push(t.substring(h,R).replace(M,e)),t[h=R+1+A+g]!==e&&(R=t.indexOf(e,h)),T=t.indexOf(i,h),_=t.indexOf(n,h);break}var D=F(_);if(t.substring(R+1+D,R+1+D+m)===n){if(w.push(t.substring(h,R).replace(M,e)),L(R+1+D+m),T=t.indexOf(i,h),R=t.indexOf(e,h),v&&(V(),p))return N();if(s&&C.length>=s)return N(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:C.length,index:h}),R++}}else R++}return I();function k(t){C.push(t),E=h}function F(e){var i=0;if(-1!==e){var n=t.substring(R+1,e);n&&""===n.trim()&&(i=n.length)}return i}function I(e){return c||(void 0===e&&(e=t.substring(h)),w.push(e),h=d,k(w),v&&V()),N()}function L(e){h=e,k(w),w=[],_=t.indexOf(n,h)}function N(t){return{data:C,errors:x,meta:{delimiter:i,linebreak:n,aborted:p,truncated:!!t,cursor:E+(a||0)}}}function V(){r(N()),C=[],x=[]}function B(n,o,r){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,o+1);if(o<n&&n<s&&(s<r||-1===r)){var l=t.indexOf(i,s);if(-1===l)return a;s<l&&(s=t.indexOf(e,s+1)),a=B(l,s,r)}else a={nextDelim:n,quoteSearch:o};return a}},this.abort=function(){p=!0},this.getCharIndex=function(){return h}}function m(t){var e=t.data,i=o[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){n=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(b(i.userStep)){for(var a=0;a<e.results.data.length&&(i.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},r),!n);a++);delete e.results}else b(i.userChunk)&&(i.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!n&&y(e.workerId,e.results)}function y(t,e){var i=o[t];b(i.userComplete)&&i.userComplete(e),i.terminate(),delete o[t]}function v(){throw new Error("Not implemented.")}function C(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=C(t[i]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function b(t){return"function"==typeof t}return n&&(e.onmessage=function(t){var i=t.data;if(void 0===a.WORKER_ID&&i&&(a.WORKER_ID=i.workerId),"string"==typeof i.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(i.input,i.config),finished:!0});else if(e.File&&i.input instanceof File||i.input instanceof Object){var n=a.parse(i.input,i.config);n&&e.postMessage({workerId:a.WORKER_ID,results:n,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(c.prototype=Object.create(l.prototype)).constructor=c,a})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i(6),o=i(7),r=i(9),a=i(8),s=i(1),l=i(57);l=l.Chart?l:window.CanvasJS;var u=function(t){Object(r.a)(i,t);var e=Object(a.a)(i);function i(t){var o;return Object(n.a)(this,i),(o=e.call(this,t))._cjsContainerId=(new window.Date).getTime(),o.options=t.options?t.options:{},o.containerProps=t.containerProps?t.containerProps:{width:"100%",position:"relative"},o.containerProps.height=t.containerProps&&t.containerProps.height?t.containerProps.height:o.options.height?o.options.height+"px":"400px",o.chartContainerId="canvasjs-react-chart-container-"+o._cjsContainerId,o}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.chart=new l.Chart(this.chartContainerId,this.options),this.chart.render(),this.props.onRef&&this.props.onRef(this.chart)}},{key:"shouldComponentUpdate",value:function(t,e){return!(t.options===this.options)}},{key:"componentDidUpdate",value:function(){this.chart.options=this.props.options,this.chart.render()}},{key:"componentWillUnmount",value:function(){this.chart.destroy(),this.props.onRef&&this.props.onRef(void 0)}},{key:"render",value:function(){return s.createElement("div",{id:this.chartContainerId,style:this.containerProps})}}]),i}(s.Component)},function(t,e,i){e.AgGridReact=i(59).AgGridReact,e.AgGridColumn=i(33).AgGridColumn,e.ChangeDetectionStrategyType=i(34).ChangeDetectionStrategyType},function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i(3),o=i(10),r=i(1),a=i.n(r),s=i(13),l=(i(14),i(4)),u=i(16),h=i(11),p=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).history=Object(s.a)(e.props),e}return Object(o.a)(e,t),e.prototype.render=function(){return a.a.createElement(n.c,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var c=function(t,e){return"function"===typeof t?t(e):t},d=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},f=function(t){return t},g=a.a.forwardRef;"undefined"===typeof g&&(g=f);var m=g((function(t,e){var i=t.innerRef,n=t.navigate,o=t.onClick,r=Object(u.a)(t,["innerRef","navigate","onClick"]),s=r.target,h=Object(l.a)({},r,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),n())}});return h.ref=f!==g&&e||i,a.a.createElement("a",h)}));var y=g((function(t,e){var i=t.component,o=void 0===i?m:i,r=t.replace,s=t.to,p=t.innerRef,y=Object(u.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(n.d.Consumer,null,(function(t){t||Object(h.a)(!1);var i=t.history,n=d(c(s,t.location),t.location),u=n?i.createHref(n):"",m=Object(l.a)({},y,{href:u,navigate:function(){var e=c(s,t.location);(r?i.replace:i.push)(e)}});return f!==g?m.ref=e||p:m.innerRef=p,a.a.createElement(o,m)}))})),v=function(t){return t},C=a.a.forwardRef;"undefined"===typeof C&&(C=v);C((function(t,e){var i=t["aria-current"],o=void 0===i?"page":i,r=t.activeClassName,s=void 0===r?"active":r,p=t.activeStyle,f=t.className,g=t.exact,m=t.isActive,x=t.location,b=t.sensitive,w=t.strict,E=t.style,P=t.to,S=t.innerRef,T=Object(u.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(n.d.Consumer,null,(function(t){t||Object(h.a)(!1);var i=x||t.location,r=d(c(P,i),i),u=r.pathname,_=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=_?Object(n.e)(i.pathname,{path:_,exact:g,sensitive:b,strict:w}):null,R=!!(m?m(M,i):M),O=R?function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter((function(t){return t})).join(" ")}(f,s):f,A=R?Object(l.a)({},E,{},p):E,D=Object(l.a)({"aria-current":R&&o||null,className:O,style:A,to:r},T);return v!==C?D.ref=e||S:D.innerRef=S,a.a.createElement(y,D)}))}))},function(t,e,i){"use strict";var n=i(35),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return n.isMemo(t)?a:s[t.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(f){var o=d(i);o&&o!==f&&t(e,o,n)}var a=h(i);p&&(a=a.concat(p(i)));for(var s=l(e),g=l(i),m=0;m<a.length;++m){var y=a[m];if(!r[y]&&(!n||!n[y])&&(!g||!g[y])&&(!s||!s[y])){var v=c(i,y);try{u(e,y,v)}catch(C){}}}}return e}},function(t,e,i){"use strict";i(24);var n=i(1),o=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var r=Symbol.for;o=r("react.element"),e.Fragment=r("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var n,r={},u=null,h=null;for(n in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)s.call(e,n)&&!l.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===r[n]&&(r[n]=e[n]);return{$$typeof:o,type:t,key:u,ref:h,props:r,_owner:a.current}}e.jsx=u,e.jsxs=u},function(t,e,i){"use strict";var n=i(24),o=60103,r=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var p=Symbol.for;o=p("react.element"),r=p("react.portal"),e.Fragment=p("react.fragment"),e.StrictMode=p("react.strict_mode"),e.Profiler=p("react.profiler"),a=p("react.provider"),s=p("react.context"),l=p("react.forward_ref"),e.Suspense=p("react.suspense"),u=p("react.memo"),h=p("react.lazy")}var c="function"===typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||f}function y(){}function v(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||f}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=m.prototype;var C=v.prototype=new y;C.constructor=v,n(C,m.prototype),C.isPureReactComponent=!0;var x={current:null},b=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var n,r={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)b.call(e,n)&&!w.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:o,type:t,key:a,ref:s,props:r,_owner:x.current}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var S=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function _(t,e,i,n,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case r:l=!0}}if(l)return a=a(l=t),t=""===n?"."+T(l,0):n,Array.isArray(a)?(i="",null!=t&&(i=t.replace(S,"$&/")+"/"),_(a,e,i,"",(function(t){return t}))):null!=a&&(P(a)&&(a=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var h=n+T(s=t[u],u);l+=_(s,e,i,h,a)}else if("function"===typeof(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=c&&t[c]||t["@@iterator"])?t:null}(t)))for(t=h.call(t),u=0;!(s=t.next()).done;)l+=_(s=s.value,e,i,h=n+T(s,u++),a);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function M(t,e,i){if(null==t)return t;var n=[],o=0;return _(t,n,"","",(function(t){return e.call(i,t,o++)})),n}function R(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var O={current:null};function A(){var t=O.current;if(null===t)throw Error(d(321));return t}var D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:M,forEach:function(t,e,i){M(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!P(t))throw Error(d(143));return t}},e.Component=m,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(d(267,t));var r=n({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)b.call(e,h)&&!w.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){u=Array(h);for(var p=0;p<h;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:o,type:t.type,key:a,ref:s,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return A().useCallback(t,e)},e.useContext=function(t,e){return A().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return A().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return A().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return A().useLayoutEffect(t,e)},e.useMemo=function(t,e){return A().useMemo(t,e)},e.useReducer=function(t,e,i){return A().useReducer(t,e,i)},e.useRef=function(t){return A().useRef(t)},e.useState=function(t){return A().useState(t)},e.version="17.0.1"},function(t,e,i){"use strict";var n=i(1),o=i(24),r=i(44);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,l={};function u(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},g={};function m(t,e,i,n,o,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function C(t){return t[1].toUpperCase()}function x(t,e,i,n){var o=y.hasOwnProperty(e)?y[e]:null;(null!==o?0===o.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,o,n)&&(i=null),n||null===o?function(t){return!!d.call(g,t)||!d.call(f,t)&&(c.test(t)?g[t]=!0:(f[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):o.mustUseProperty?t[o.propertyName]=null===i?3!==o.type&&"":i:(e=o.attributeName,n=o.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,C);y[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,C);y[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,C);y[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,P=60107,S=60108,T=60114,_=60109,M=60110,R=60112,O=60113,A=60120,D=60115,k=60116,F=60121,I=60128,L=60129,N=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),E=B("react.portal"),P=B("react.fragment"),S=B("react.strict_mode"),T=B("react.profiler"),_=B("react.provider"),M=B("react.context"),R=B("react.forward_ref"),O=B("react.suspense"),A=B("react.suspense_list"),D=B("react.memo"),k=B("react.lazy"),F=B("react.block"),B("react.scope"),I=B("react.opaque.id"),L=B("react.debug_trace_mode"),N=B("react.offscreen"),V=B("react.legacy_hidden")}var W,G="function"===typeof Symbol&&Symbol.iterator;function H(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=G&&t[G]||t["@@iterator"])?t:null}function z(t){if(void 0===W)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);W=e&&e[1]||""}return"\n"+W+t}var j=!1;function U(t,e){if(!t||j)return"";j=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),r=n.stack.split("\n"),a=o.length-1,s=r.length-1;1<=a&&0<=s&&o[a]!==r[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==r[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==r[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?z(t):""}function Y(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 22:return t=U(t.type._render,!1);case 1:return t=U(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case P:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case _:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case D:return X(t.type);case F:return X(t._render);case k:e=t._payload,t=t._init;try{return X(t(e))}catch(i){}}return null}function q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var o=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){n=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=K(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var i=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function tt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=q(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function it(t,e){et(t,e);var i=q(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?ot(t,e.type,i):e.hasOwnProperty("defaultValue")&&ot(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function nt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function ot(t,e,i){"number"===e&&J(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function rt(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,i,n){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&n&&(t[i].defaultSelected=!0)}else{for(i=""+q(i),e=null,o=0;o<t.length;o++){if(t[o].value===i)return t[o].selected=!0,void(n&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(a(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(a(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:q(i)}}function ut(t,e){var i=q(e.value),n=q(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function ht(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var pt="http://www.w3.org/1999/xhtml",ct="http://www.w3.org/2000/svg";function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gt,mt,yt=(mt=function(t,e){if(t.namespaceURI!==ct||"innerHTML"in t)t.innerHTML=e;else{for((gt=gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function vt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var Ct={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];function bt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||Ct.hasOwnProperty(t)&&Ct[t]?(""+e).trim():e+"px"}function wt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),o=bt(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,o):t[i]=o}}Object.keys(Ct).forEach((function(t){xt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ct[e]=Ct[t]}))}));var Et=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pt(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,Mt=null,Rt=null;function Ot(t){if(t=to(t)){if("function"!==typeof _t)throw Error(a(280));var e=t.stateNode;e&&(e=io(e),_t(t.stateNode,t.type,e))}}function At(t){Mt?Rt?Rt.push(t):Rt=[t]:Mt=t}function Dt(){if(Mt){var t=Mt,e=Rt;if(Rt=Mt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function kt(t,e){return t(e)}function Ft(t,e,i,n,o){return t(e,i,n,o)}function It(){}var Lt=kt,Nt=!1,Vt=!1;function Bt(){null===Mt&&null===Rt||(It(),Dt())}function Wt(t,e){var i=t.stateNode;if(null===i)return null;var n=io(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(a(231,e,typeof i));return i}var Gt=!1;if(p)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(mt){Gt=!1}function zt(t,e,i,n,o,r,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(h){this.onError(h)}}var jt=!1,Ut=null,Yt=!1,Xt=null,qt={onError:function(t){jt=!0,Ut=t}};function Kt(t,e,i,n,o,r,a,s,l){jt=!1,Ut=null,zt.apply(qt,arguments)}function Qt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Qt(t)!==t)throw Error(a(188))}function Zt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var i=t,n=e;;){var o=i.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(n=o.return)){i=n;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===i)return Jt(o),t;if(r===n)return Jt(o),e;r=r.sibling}throw Error(a(188))}if(i.return!==n.return)i=o,n=r;else{for(var s=!1,l=o.child;l;){if(l===i){s=!0,i=o,n=r;break}if(l===n){s=!0,n=o,i=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===i){s=!0,i=r,n=o;break}if(l===n){s=!0,n=r,i=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(i.alternate!==n)throw Error(a(190))}if(3!==i.tag)throw Error(a(188));return i.stateNode.current===i?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var i=t.alternate;null!==e;){if(e===t||e===i)return!0;e=e.return}return!1}var ee,ie,ne,oe,re=!1,ae=[],se=null,le=null,ue=null,he=new Map,pe=new Map,ce=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fe(t,e,i,n,o){return{blockedOn:t,domEventName:e,eventSystemFlags:16|i,nativeEvent:o,targetContainers:[n]}}function ge(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":he.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pe.delete(e.pointerId)}}function me(t,e,i,n,o,r){return null===t||t.nativeEvent!==r?(t=fe(e,i,n,o,r),null!==e&&(null!==(e=to(e))&&ie(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),t)}function ye(t){var e=Zn(t.target);if(null!==e){var i=Qt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=$t(i)))return t.blockedOn=e,void oe(t.lanePriority,(function(){r.unstable_runWithPriority(t.priority,(function(){ne(i)}))}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=to(i))&&ie(e),t.blockedOn=i,!1;e.shift()}return!0}function Ce(t,e,i){ve(t)&&i.delete(e)}function xe(){for(re=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=to(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var i=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i){t.blockedOn=i;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ve(se)&&(se=null),null!==le&&ve(le)&&(le=null),null!==ue&&ve(ue)&&(ue=null),he.forEach(Ce),pe.forEach(Ce)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,re||(re=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xe)))}function we(t){function e(e){return be(e,t)}if(0<ae.length){be(ae[0],t);for(var i=1;i<ae.length;i++){var n=ae[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==se&&be(se,t),null!==le&&be(le,t),null!==ue&&be(ue,t),he.forEach(e),pe.forEach(e),i=0;i<ce.length;i++)(n=ce[i]).blockedOn===t&&(n.blockedOn=null);for(;0<ce.length&&null===(i=ce[0]).blockedOn;)ye(i),null===i.blockedOn&&ce.shift()}function Ee(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Pe={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionend:Ee("Transition","TransitionEnd")},Se={},Te={};function _e(t){if(Se[t])return Se[t];if(!Pe[t])return t;var e,i=Pe[t];for(e in i)if(i.hasOwnProperty(e)&&e in Te)return Se[t]=i[e];return t}p&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete Pe.animationend.animation,delete Pe.animationiteration.animation,delete Pe.animationstart.animation),"TransitionEvent"in window||delete Pe.transitionend.transition);var Me=_e("animationend"),Re=_e("animationiteration"),Oe=_e("animationstart"),Ae=_e("transitionend"),De=new Map,ke=new Map,Fe=["abort","abort",Me,"animationEnd",Re,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ae,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];o="on"+(o[0].toUpperCase()+o.slice(1)),ke.set(n,e),De.set(n,o),u(o,[n])}}(0,r.unstable_now)();var Le=8;function Ne(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Ve(t,e){var i=t.pendingLanes;if(0===i)return Le=0;var n=0,o=0,r=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==r)n=r,o=Le=15;else if(0!==(r=134217727&i)){var l=r&~a;0!==l?(n=Ne(l),o=Le):0!==(s&=r)&&(n=Ne(s),o=Le)}else 0!==(r=i&~a)?(n=Ne(r),o=Le):0!==s&&(n=Ne(s),o=Le);if(0===n)return 0;if(n=i&((0>(n=31-je(n))?0:1<<n)<<1)-1,0!==e&&e!==n&&0===(e&a)){if(Ne(e),o<=Le)return e;Le=o}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)o=1<<(i=31-je(e)),n|=t[i],e&=~o;return n}function Be(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function We(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ge(24&~e))?We(10,e):t;case 10:return 0===(t=Ge(192&~e))?We(8,e):t;case 8:return 0===(t=Ge(3584&~e))&&(0===(t=Ge(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ge(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ge(t){return t&-t}function He(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ze(t,e,i){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,(t=t.eventTimes)[e=31-je(e)]=i}var je=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ue(t)/Ye|0)|0},Ue=Math.log,Ye=Math.LN2;var Xe=r.unstable_UserBlockingPriority,qe=r.unstable_runWithPriority,Ke=!0;function Qe(t,e,i,n){Nt||It();var o=Je,r=Nt;Nt=!0;try{Ft(o,t,e,i,n)}finally{(Nt=r)||Bt()}}function $e(t,e,i,n){qe(Xe,Je.bind(null,t,e,i,n))}function Je(t,e,i,n){var o;if(Ke)if((o=0===(4&e))&&0<ae.length&&-1<de.indexOf(t))t=fe(null,t,e,i,n),ae.push(t);else{var r=Ze(t,e,i,n);if(null===r)o&&ge(t,n);else{if(o){if(-1<de.indexOf(t))return t=fe(r,t,e,i,n),void ae.push(t);if(function(t,e,i,n,o){switch(e){case"focusin":return se=me(se,t,e,i,n,o),!0;case"dragenter":return le=me(le,t,e,i,n,o),!0;case"mouseover":return ue=me(ue,t,e,i,n,o),!0;case"pointerover":var r=o.pointerId;return he.set(r,me(he.get(r)||null,t,e,i,n,o)),!0;case"gotpointercapture":return r=o.pointerId,pe.set(r,me(pe.get(r)||null,t,e,i,n,o)),!0}return!1}(r,t,e,i,n))return;ge(t,n)}Dn(t,e,n,null,i)}}}function Ze(t,e,i,n){var o=Tt(n);if(null!==(o=Zn(o))){var r=Qt(o);if(null===r)o=null;else{var a=r.tag;if(13===a){if(null!==(o=$t(r)))return o;o=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Dn(t,e,n,o,i),null}var ti=null,ei=null,ii=null;function ni(){if(ii)return ii;var t,e,i=ei,n=i.length,o="value"in ti?ti.value:ti.textContent,r=o.length;for(t=0;t<n&&i[t]===o[t];t++);var a=n-t;for(e=1;e<=a&&i[n-e]===o[r-e];e++);return ii=o.slice(t,1<e?1-e:void 0)}function oi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ri(){return!0}function ai(){return!1}function si(t){function e(e,i,n,o,r){for(var a in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ri:ai,this.isPropagationStopped=ai,this}return o(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),e}var li,ui,hi,pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=si(pi),di=o({},pi,{view:0,detail:0}),fi=si(di),gi=o({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&"mousemove"===t.type?(li=t.screenX-hi.screenX,ui=t.screenY-hi.screenY):ui=li=0,hi=t),li)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),mi=si(gi),yi=si(o({},gi,{dataTransfer:0})),vi=si(o({},di,{relatedTarget:0})),Ci=si(o({},pi,{animationName:0,elapsedTime:0,pseudoElement:0})),xi=si(o({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),bi=si(o({},pi,{data:0})),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ei={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Pi[t])&&!!e[t]}function Ti(){return Si}var _i=si(o({},di,{key:function(t){if(t.key){var e=wi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=oi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ei[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(t){return"keypress"===t.type?oi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?oi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Mi=si(o({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ri=si(o({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti})),Oi=si(o({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ai=si(o({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Di=[9,13,27,32],ki=p&&"CompositionEvent"in window,Fi=null;p&&"documentMode"in document&&(Fi=document.documentMode);var Ii=p&&"TextEvent"in window&&!Fi,Li=p&&(!ki||Fi&&8<Fi&&11>=Fi),Ni=String.fromCharCode(32),Vi=!1;function Bi(t,e){switch(t){case"keyup":return-1!==Di.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Gi=!1;var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hi[t.type]:"textarea"===e}function ji(t,e,i,n){At(n),0<(e=Fn(e,"onChange")).length&&(i=new ci("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Ui=null,Yi=null;function Xi(t){Tn(t,0)}function qi(t){if($(eo(t)))return t}function Ki(t,e){if("change"===t)return e}var Qi=!1;if(p){var $i;if(p){var Ji="oninput"in document;if(!Ji){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),Ji="function"===typeof Zi.oninput}$i=Ji}else $i=!1;Qi=$i&&(!document.documentMode||9<document.documentMode)}function tn(){Ui&&(Ui.detachEvent("onpropertychange",en),Yi=Ui=null)}function en(t){if("value"===t.propertyName&&qi(Yi)){var e=[];if(ji(e,Yi,t,Tt(t)),t=Xi,Nt)t(e);else{Nt=!0;try{kt(t,e)}finally{Nt=!1,Bt()}}}}function nn(t,e,i){"focusin"===t?(tn(),Yi=i,(Ui=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function on(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qi(Yi)}function rn(t,e){if("click"===t)return qi(e)}function an(t,e){if("input"===t||"change"===t)return qi(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ln=Object.prototype.hasOwnProperty;function un(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!ln.call(e,i[n])||!sn(t[i[n]],e[i[n]]))return!1;return!0}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var i,n=hn(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hn(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=J((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn=p&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,Cn=!1;function xn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;Cn||null==mn||mn!==J(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&un(vn,n)||(vn=n,0<(n=Fn(yn,"onSelect")).length&&(e=new ci("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=mn)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(Fe,2);for(var bn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wn=0;wn<bn.length;wn++)ke.set(bn[wn],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pn=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function Sn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,o,r,s,l,u){if(Kt.apply(this,arguments),jt){if(!jt)throw Error(a(198));var h=Ut;jt=!1,Ut=null,Yt||(Yt=!0,Xt=h)}}(n,e,void 0,t),t.currentTarget=null}function Tn(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],o=n.event;n=n.listeners;t:{var r=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==r&&o.isPropagationStopped())break t;Sn(o,s,u),r=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==r&&o.isPropagationStopped())break t;Sn(o,s,u),r=l}}}if(Yt)throw t=Xt,Yt=!1,Xt=null,t}function _n(t,e){var i=no(e),n=t+"__bubble";i.has(n)||(An(e,t,2,!1),i.add(n))}var Mn="_reactListening"+Math.random().toString(36).slice(2);function Rn(t){t[Mn]||(t[Mn]=!0,s.forEach((function(e){Pn.has(e)||On(e,!1,t,null),On(e,!0,t,null)})))}function On(t,e,i,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=i;if("selectionchange"===t&&9!==i.nodeType&&(r=i.ownerDocument),null!==n&&!e&&Pn.has(t)){if("scroll"!==t)return;o|=2,r=n}var a=no(r),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(o|=4),An(r,t,o,e),a.add(s))}function An(t,e,i,n){var o=ke.get(e);switch(void 0===o?2:o){case 0:o=Qe;break;case 1:o=$e;break;default:o=Je}i=o.bind(null,e,i,t),o=void 0,!Gt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),n?void 0!==o?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):void 0!==o?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function Dn(t,e,i,n,o){var r=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Zn(s)))return;if(5===(l=a.tag)||6===l){n=r=a;continue t}s=s.parentNode}}n=n.return}!function(t,e,i){if(Vt)return t(e,i);Vt=!0;try{Lt(t,e,i)}finally{Vt=!1,Bt()}}((function(){var n=r,o=Tt(i),a=[];t:{var s=De.get(t);if(void 0!==s){var l=ci,u=t;switch(t){case"keypress":if(0===oi(i))break t;case"keydown":case"keyup":l=_i;break;case"focusin":u="focus",l=vi;break;case"focusout":u="blur",l=vi;break;case"beforeblur":case"afterblur":l=vi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ri;break;case Me:case Re:case Oe:l=Ci;break;case Ae:l=Oi;break;case"scroll":l=fi;break;case"wheel":l=Ai;break;case"copy":case"cut":case"paste":l=xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mi}var h=0!==(4&e),p=!h&&"scroll"===t,c=h?null!==s?s+"Capture":null:s;h=[];for(var d,f=n;null!==f;){var g=(d=f).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==c&&(null!=(g=Wt(f,c))&&h.push(kn(f,g,d)))),p)break;f=f.return}0<h.length&&(s=new l(s,u,null,i,o),a.push({event:s,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(u=i.relatedTarget||i.fromElement)||!Zn(u)&&!u[$n])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=i.relatedTarget||i.toElement)?Zn(u):null)&&(u!==(p=Qt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(h=mi,g="onMouseLeave",c="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(h=Mi,g="onPointerLeave",c="onPointerEnter",f="pointer"),p=null==l?s:eo(l),d=null==u?s:eo(u),(s=new h(g,f+"leave",l,i,o)).target=p,s.relatedTarget=d,g=null,Zn(o)===n&&((h=new h(c,f+"enter",u,i,o)).target=d,h.relatedTarget=p,g=h),p=g,l&&u)t:{for(c=u,f=0,d=h=l;d;d=In(d))f++;for(d=0,g=c;g;g=In(g))d++;for(;0<f-d;)h=In(h),f--;for(;0<d-f;)c=In(c),d--;for(;f--;){if(h===c||null!==c&&h===c.alternate)break t;h=In(h),c=In(c)}h=null}else h=null;null!==l&&Ln(a,s,l,h,!1),null!==u&&null!==p&&Ln(a,p,u,h,!0)}if("select"===(l=(s=n?eo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Ki;else if(zi(s))if(Qi)m=an;else{m=on;var y=nn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=rn);switch(m&&(m=m(t,n))?ji(a,m,i,o):(y&&y(t,s,n),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ot(s,"number",s.value)),y=n?eo(n):window,t){case"focusin":(zi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":Cn=!0;break;case"contextmenu":case"mouseup":case"dragend":Cn=!1,xn(a,i,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":xn(a,i,o)}var v;if(ki)t:{switch(t){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Gi?Bi(t,i)&&(C="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(C="onCompositionStart");C&&(Li&&"ko"!==i.locale&&(Gi||"onCompositionStart"!==C?"onCompositionEnd"===C&&Gi&&(v=ni()):(ei="value"in(ti=o)?ti.value:ti.textContent,Gi=!0)),0<(y=Fn(n,C)).length&&(C=new bi(C,t,null,i,o),a.push({event:C,listeners:y}),v?C.data=v:null!==(v=Wi(i))&&(C.data=v))),(v=Ii?function(t,e){switch(t){case"compositionend":return Wi(e);case"keypress":return 32!==e.which?null:(Vi=!0,Ni);case"textInput":return(t=e.data)===Ni&&Vi?null:t;default:return null}}(t,i):function(t,e){if(Gi)return"compositionend"===t||!ki&&Bi(t,e)?(t=ni(),ii=ei=ti=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Li&&"ko"!==e.locale?null:e.data;default:return null}}(t,i))&&(0<(n=Fn(n,"onBeforeInput")).length&&(o=new bi("onBeforeInput","beforeinput",null,i,o),a.push({event:o,listeners:n}),o.data=v))}Tn(a,e)}))}function kn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Fn(t,e){for(var i=e+"Capture",n=[];null!==t;){var o=t,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Wt(t,i))&&n.unshift(kn(t,r,o)),null!=(r=Wt(t,e))&&n.push(kn(t,r,o))),t=t.return}return n}function In(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ln(t,e,i,n,o){for(var r=e._reactName,a=[];null!==i&&i!==n;){var s=i,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Wt(i,r))&&a.unshift(kn(i,l,s)):o||null!=(l=Wt(i,r))&&a.push(kn(i,l,s))),i=i.return}0!==a.length&&t.push({event:e,listeners:a})}function Nn(){}var Vn=null,Bn=null;function Wn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Gn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Hn="function"===typeof setTimeout?setTimeout:void 0,zn="function"===typeof clearTimeout?clearTimeout:void 0;function jn(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Un(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var Xn=0;var qn=Math.random().toString(36).slice(2),Kn="__reactFiber$"+qn,Qn="__reactProps$"+qn,$n="__reactContainer$"+qn,Jn="__reactEvents$"+qn;function Zn(t){var e=t[Kn];if(e)return e;for(var i=t.parentNode;i;){if(e=i[$n]||i[Kn]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Yn(t);null!==t;){if(i=t[Kn])return i;t=Yn(t)}return e}i=(t=i).parentNode}return null}function to(t){return!(t=t[Kn]||t[$n])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function eo(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function io(t){return t[Qn]||null}function no(t){var e=t[Jn];return void 0===e&&(e=t[Jn]=new Set),e}var oo=[],ro=-1;function ao(t){return{current:t}}function so(t){0>ro||(t.current=oo[ro],oo[ro]=null,ro--)}function lo(t,e){ro++,oo[ro]=t.current,t.current=e}var uo={},ho=ao(uo),po=ao(!1),co=uo;function fo(t,e){var i=t.type.contextTypes;if(!i)return uo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in i)r[o]=e[o];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function go(t){return null!==(t=t.childContextTypes)&&void 0!==t}function mo(){so(po),so(ho)}function yo(t,e,i){if(ho.current!==uo)throw Error(a(168));lo(ho,e),lo(po,i)}function vo(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in t))throw Error(a(108,X(e)||"Unknown",r));return o({},i,n)}function Co(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,co=ho.current,lo(ho,t),lo(po,po.current),!0}function xo(t,e,i){var n=t.stateNode;if(!n)throw Error(a(169));i?(t=vo(t,e,co),n.__reactInternalMemoizedMergedChildContext=t,so(po),so(ho),lo(ho,t)):so(po),lo(po,i)}var bo=null,wo=null,Eo=r.unstable_runWithPriority,Po=r.unstable_scheduleCallback,So=r.unstable_cancelCallback,To=r.unstable_shouldYield,_o=r.unstable_requestPaint,Mo=r.unstable_now,Ro=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,Do=r.unstable_NormalPriority,ko=r.unstable_LowPriority,Fo=r.unstable_IdlePriority,Io={},Lo=void 0!==_o?_o:function(){},No=null,Vo=null,Bo=!1,Wo=Mo(),Go=1e4>Wo?Mo:function(){return Mo()-Wo};function Ho(){switch(Ro()){case Oo:return 99;case Ao:return 98;case Do:return 97;case ko:return 96;case Fo:return 95;default:throw Error(a(332))}}function zo(t){switch(t){case 99:return Oo;case 98:return Ao;case 97:return Do;case 96:return ko;case 95:return Fo;default:throw Error(a(332))}}function jo(t,e){return t=zo(t),Eo(t,e)}function Uo(t,e,i){return t=zo(t),Po(t,e,i)}function Yo(){if(null!==Vo){var t=Vo;Vo=null,So(t)}Xo()}function Xo(){if(!Bo&&null!==No){Bo=!0;var t=0;try{var e=No;jo(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),No=null}catch(i){throw null!==No&&(No=No.slice(t+1)),Po(Oo,Yo),i}finally{Bo=!1}}}var qo=b.ReactCurrentBatchConfig;function Ko(t,e){if(t&&t.defaultProps){for(var i in e=o({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var Qo=ao(null),$o=null,Jo=null,Zo=null;function tr(){Zo=Jo=$o=null}function er(t){var e=Qo.current;so(Qo),t.type._context._currentValue=e}function ir(t,e){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)===e){if(null===i||(i.childLanes&e)===e)break;i.childLanes|=e}else t.childLanes|=e,null!==i&&(i.childLanes|=e);t=t.return}}function nr(t,e){$o=t,Zo=Jo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Fa=!0),t.firstContext=null)}function or(t,e){if(Zo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Zo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Jo){if(null===$o)throw Error(a(308));Jo=e,$o.dependencies={lanes:0,firstContext:e,responders:null}}else Jo=Jo.next=e;return t._currentValue}var rr=!1;function ar(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function hr(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var o=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?o=r=a:r=r.next=a,i=i.next}while(null!==i);null===r?o=r=e:r=r.next=e}else o=r=e;return i={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function pr(t,e,i,n){var r=t.updateQueue;rr=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var u=l,h=u.next;u.next=null,null===s?a=h:s.next=h,s=u;var p=t.alternate;if(null!==p){var c=(p=p.updateQueue).lastBaseUpdate;c!==s&&(null===c?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=u)}}if(null!==a){for(c=r.baseState,s=0,p=h=u=null;;){l=a.lane;var d=a.eventTime;if((n&l)===l){null!==p&&(p=p.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var f=t,g=a;switch(l=e,d=i,g.tag){case 1:if("function"===typeof(f=g.payload)){c=f.call(d,c,l);break t}c=f;break t;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=g.payload)?f.call(d,c,l):f)||void 0===l)break t;c=o({},c,l);break t;case 2:rr=!0}}null!==a.callback&&(t.flags|=32,null===(l=r.effects)?r.effects=[a]:l.push(a))}else d={eventTime:d,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===p?(h=p=d,u=c):p=p.next=d,s|=l;if(null===(a=a.next)){if(null===(l=r.shared.pending))break;a=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===p&&(u=c),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=p,Vs|=s,t.lanes=s,t.memoizedState=c}}function cr(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(null!==o){if(n.callback=null,n=i,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var dr=(new n.Component).refs;function fr(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:o({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var gr={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=ul(),o=hl(t),r=lr(n,o);r.payload=e,void 0!==i&&null!==i&&(r.callback=i),ur(t,r),pl(t,o,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=ul(),o=hl(t),r=lr(n,o);r.tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),ur(t,r),pl(t,o,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=ul(),n=hl(t),o=lr(i,n);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),ur(t,o),pl(t,n,i)}};function mr(t,e,i,n,o,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!un(i,n)||!un(o,r))}function yr(t,e,i){var n=!1,o=uo,r=e.contextType;return"object"===typeof r&&null!==r?r=or(r):(o=go(e)?co:ho.current,r=(n=null!==(n=e.contextTypes)&&void 0!==n)?fo(t,o):uo),e=new e(i,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=gr,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=r),e}function vr(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&gr.enqueueReplaceState(e,e.state,null)}function Cr(t,e,i,n){var o=t.stateNode;o.props=i,o.state=t.memoizedState,o.refs=dr,ar(t);var r=e.contextType;"object"===typeof r&&null!==r?o.context=or(r):(r=go(e)?co:ho.current,o.context=fo(t,r)),pr(t,i,o,n),o.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(fr(t,e,r,i),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&gr.enqueueReplaceState(o,o.state,null),pr(t,i,o,n),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4)}var xr=Array.isArray;function br(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(a(309));var n=i.stateNode}if(!n)throw Error(a(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=n.refs;e===dr&&(e=n.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!==typeof t)throw Error(a(284));if(!i._owner)throw Error(a(290,t))}return t}function wr(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Er(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=zl(t,e)).index=0,t.sibling=null,t}function r(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags=2,i):n:(e.flags=2,i):i}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Xl(i,t.mode,n)).return=t,e):((e=o(e,i)).return=t,e)}function u(t,e,i,n){return null!==e&&e.elementType===i.type?((n=o(e,i.props)).ref=br(t,e,i),n.return=t,n):((n=jl(i.type,i.key,i.props,null,t.mode,n)).ref=br(t,e,i),n.return=t,n)}function h(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=ql(i,t.mode,n)).return=t,e):((e=o(e,i.children||[])).return=t,e)}function p(t,e,i,n,r){return null===e||7!==e.tag?((e=Ul(i,t.mode,n,r)).return=t,e):((e=o(e,i)).return=t,e)}function c(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Xl(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(i=jl(e.type,e.key,e.props,null,t.mode,i)).ref=br(t,null,e),i.return=t,i;case E:return(e=ql(e,t.mode,i)).return=t,e}if(xr(e)||H(e))return(e=Ul(e,t.mode,i,null)).return=t,e;wr(t,e)}return null}function d(t,e,i,n){var o=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==o?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return i.key===o?i.type===P?p(t,e,i.props.children,n,o):u(t,e,i,n):null;case E:return i.key===o?h(t,e,i,n):null}if(xr(i)||H(i))return null!==o?null:p(t,e,i,n,null);wr(t,i)}return null}function f(t,e,i,n,o){if("string"===typeof n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return t=t.get(null===n.key?i:n.key)||null,n.type===P?p(e,t,n.props.children,o,n.key):u(e,t,n,o);case E:return h(e,t=t.get(null===n.key?i:n.key)||null,n,o)}if(xr(n)||H(n))return p(e,t=t.get(i)||null,n,o,null);wr(e,n)}return null}function g(o,a,s,l){for(var u=null,h=null,p=a,g=a=0,m=null;null!==p&&g<s.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var y=d(o,p,s[g],l);if(null===y){null===p&&(p=m);break}t&&p&&null===y.alternate&&e(o,p),a=r(y,a,g),null===h?u=y:h.sibling=y,h=y,p=m}if(g===s.length)return i(o,p),u;if(null===p){for(;g<s.length;g++)null!==(p=c(o,s[g],l))&&(a=r(p,a,g),null===h?u=p:h.sibling=p,h=p);return u}for(p=n(o,p);g<s.length;g++)null!==(m=f(p,o,g,s[g],l))&&(t&&null!==m.alternate&&p.delete(null===m.key?g:m.key),a=r(m,a,g),null===h?u=m:h.sibling=m,h=m);return t&&p.forEach((function(t){return e(o,t)})),u}function m(o,s,l,u){var h=H(l);if("function"!==typeof h)throw Error(a(150));if(null==(l=h.call(l)))throw Error(a(151));for(var p=h=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var C=d(o,g,v.value,u);if(null===C){null===g&&(g=y);break}t&&g&&null===C.alternate&&e(o,g),s=r(C,s,m),null===p?h=C:p.sibling=C,p=C,g=y}if(v.done)return i(o,g),h;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=c(o,v.value,u))&&(s=r(v,s,m),null===p?h=v:p.sibling=v,p=v);return h}for(g=n(o,g);!v.done;m++,v=l.next())null!==(v=f(g,o,m,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=r(v,s,m),null===p?h=v:p.sibling=v,p=v);return t&&g.forEach((function(t){return e(o,t)})),h}return function(t,n,r,l){var u="object"===typeof r&&null!==r&&r.type===P&&null===r.key;u&&(r=r.props.children);var h="object"===typeof r&&null!==r;if(h)switch(r.$$typeof){case w:t:{for(h=r.key,u=n;null!==u;){if(u.key===h){switch(u.tag){case 7:if(r.type===P){i(t,u.sibling),(n=o(u,r.props.children)).return=t,t=n;break t}break;default:if(u.elementType===r.type){i(t,u.sibling),(n=o(u,r.props)).ref=br(t,u,r),n.return=t,t=n;break t}}i(t,u);break}e(t,u),u=u.sibling}r.type===P?((n=Ul(r.props.children,t.mode,l,r.key)).return=t,t=n):((l=jl(r.type,r.key,r.props,null,t.mode,l)).ref=br(t,n,r),l.return=t,t=l)}return s(t);case E:t:{for(u=r.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){i(t,n.sibling),(n=o(n,r.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=ql(r,t.mode,l)).return=t,t=n}return s(t)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==n&&6===n.tag?(i(t,n.sibling),(n=o(n,r)).return=t,t=n):(i(t,n),(n=Xl(r,t.mode,l)).return=t,t=n),s(t);if(xr(r))return g(t,n,r,l);if(H(r))return m(t,n,r,l);if(h&&wr(t,r),"undefined"===typeof r&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return i(t,n)}}var Pr=Er(!0),Sr=Er(!1),Tr={},_r=ao(Tr),Mr=ao(Tr),Rr=ao(Tr);function Or(t){if(t===Tr)throw Error(a(174));return t}function Ar(t,e){switch(lo(Rr,e),lo(Mr,t),lo(_r,Tr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ft(null,"");break;default:e=ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}so(_r),lo(_r,e)}function Dr(){so(_r),so(Mr),so(Rr)}function kr(t){Or(Rr.current);var e=Or(_r.current),i=ft(e,t.type);e!==i&&(lo(Mr,t),lo(_r,i))}function Fr(t){Mr.current===t&&(so(_r),so(Mr))}var Ir=ao(0);function Lr(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nr=null,Vr=null,Br=!1;function Wr(t,e){var i=Gl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Gr(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Hr(t){if(Br){var e=Vr;if(e){var i=e;if(!Gr(t,e)){if(!(e=Un(i.nextSibling))||!Gr(t,e))return t.flags=-1025&t.flags|2,Br=!1,void(Nr=t);Wr(Nr,i)}Nr=t,Vr=Un(e.firstChild)}else t.flags=-1025&t.flags|2,Br=!1,Nr=t}}function zr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Nr=t}function jr(t){if(t!==Nr)return!1;if(!Br)return zr(t),Br=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Gn(e,t.memoizedProps))for(e=Vr;e;)Wr(t,e),e=Un(e.nextSibling);if(zr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){Vr=Un(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}Vr=null}}else Vr=Nr?Un(t.stateNode.nextSibling):null;return!0}function Ur(){Vr=Nr=null,Br=!1}var Yr=[];function Xr(){for(var t=0;t<Yr.length;t++)Yr[t]._workInProgressVersionPrimary=null;Yr.length=0}var qr=b.ReactCurrentDispatcher,Kr=b.ReactCurrentBatchConfig,Qr=0,$r=null,Jr=null,Zr=null,ta=!1,ea=!1;function ia(){throw Error(a(321))}function na(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!sn(t[i],e[i]))return!1;return!0}function oa(t,e,i,n,o,r){if(Qr=r,$r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qr.current=null===t||null===t.memoizedState?Oa:Aa,t=i(n,o),ea){r=0;do{if(ea=!1,!(25>r))throw Error(a(301));r+=1,Zr=Jr=null,e.updateQueue=null,qr.current=Da,t=i(n,o)}while(ea)}if(qr.current=Ra,e=null!==Jr&&null!==Jr.next,Qr=0,Zr=Jr=$r=null,ta=!1,e)throw Error(a(300));return t}function ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zr?$r.memoizedState=Zr=t:Zr=Zr.next=t,Zr}function aa(){if(null===Jr){var t=$r.alternate;t=null!==t?t.memoizedState:null}else t=Jr.next;var e=null===Zr?$r.memoizedState:Zr.next;if(null!==e)Zr=e,Jr=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jr=t).memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},null===Zr?$r.memoizedState=Zr=t:Zr=Zr.next=t}return Zr}function sa(t,e){return"function"===typeof e?e(t):e}function la(t){var e=aa(),i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=t;var n=Jr,o=n.baseQueue,r=i.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}n.baseQueue=o=r,i.pending=null}if(null!==o){o=o.next,n=n.baseState;var l=s=r=null,u=o;do{var h=u.lane;if((Qr&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===t?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=p,r=n):l=l.next=p,$r.lanes|=h,Vs|=h}u=u.next}while(null!==u&&u!==o);null===l?r=n:l.next=s,sn(n,e.memoizedState)||(Fa=!0),e.memoizedState=n,e.baseState=r,e.baseQueue=l,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function ua(t){var e=aa(),i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=t;var n=i.dispatch,o=i.pending,r=e.memoizedState;if(null!==o){i.pending=null;var s=o=o.next;do{r=t(r,s.action),s=s.next}while(s!==o);sn(r,e.memoizedState)||(Fa=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function ha(t,e,i){var n=e._getVersion;n=n(e._source);var o=e._workInProgressVersionPrimary;if(null!==o?t=o===n:(t=t.mutableReadLanes,(t=(Qr&t)===t)&&(e._workInProgressVersionPrimary=n,Yr.push(e))),t)return i(e._source);throw Yr.push(e),Error(a(350))}function pa(t,e,i,n){var o=Os;if(null===o)throw Error(a(349));var r=e._getVersion,s=r(e._source),l=qr.current,u=l.useState((function(){return ha(o,e,i)})),h=u[1],p=u[0];u=Zr;var c=t.memoizedState,d=c.refs,f=d.getSnapshot,g=c.source;c=c.subscribe;var m=$r;return t.memoizedState={refs:d,source:e,subscribe:n},l.useEffect((function(){d.getSnapshot=i,d.setSnapshot=h;var t=r(e._source);if(!sn(s,t)){t=i(e._source),sn(p,t)||(h(t),t=hl(m),o.mutableReadLanes|=t&o.pendingLanes),t=o.mutableReadLanes,o.entangledLanes|=t;for(var n=o.entanglements,a=t;0<a;){var l=31-je(a),u=1<<l;n[l]|=t,a&=~u}}}),[i,e,n]),l.useEffect((function(){return n(e._source,(function(){var t=d.getSnapshot,i=d.setSnapshot;try{i(t(e._source));var n=hl(m);o.mutableReadLanes|=n&o.pendingLanes}catch(r){i((function(){throw r}))}}))}),[e,n]),sn(f,i)&&sn(g,e)&&sn(c,n)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:p}).dispatch=h=Ma.bind(null,$r,t),u.queue=t,u.baseQueue=null,p=ha(o,e,i),u.memoizedState=u.baseState=p),p}function ca(t,e,i){return pa(aa(),t,e,i)}function da(t){var e=ra();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Ma.bind(null,$r,t),[e.memoizedState,t]}function fa(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=$r.updateQueue)?(e={lastEffect:null},$r.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function ga(t){return t={current:t},ra().memoizedState=t}function ma(){return aa().memoizedState}function ya(t,e,i,n){var o=ra();$r.flags|=t,o.memoizedState=fa(1|e,i,void 0,void 0===n?null:n)}function va(t,e,i,n){var o=aa();n=void 0===n?null:n;var r=void 0;if(null!==Jr){var a=Jr.memoizedState;if(r=a.destroy,null!==n&&na(n,a.deps))return void fa(e,i,r,n)}$r.flags|=t,o.memoizedState=fa(1|e,i,r,n)}function Ca(t,e){return ya(516,4,t,e)}function xa(t,e){return va(516,4,t,e)}function ba(t,e){return va(4,2,t,e)}function wa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ea(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,va(4,2,wa.bind(null,e,t),i)}function Pa(){}function Sa(t,e){var i=aa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&na(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Ta(t,e){var i=aa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&na(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function _a(t,e){var i=Ho();jo(98>i?98:i,(function(){t(!0)})),jo(97<i?97:i,(function(){var i=Kr.transition;Kr.transition=1;try{t(!1),e()}finally{Kr.transition=i}}))}function Ma(t,e,i){var n=ul(),o=hl(t),r={lane:o,action:i,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?r.next=r:(r.next=a.next,a.next=r),e.pending=r,a=t.alternate,t===$r||null!==a&&a===$r)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,i);if(r.eagerReducer=a,r.eagerState=l,sn(l,s))return}catch(u){}pl(t,o,n)}}var Ra={readContext:or,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Oa={readContext:or,useCallback:function(t,e){return ra().memoizedState=[t,void 0===e?null:e],t},useContext:or,useEffect:Ca,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,ya(4,2,wa.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ya(4,2,t,e)},useMemo:function(t,e){var i=ra();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=ra();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ma.bind(null,$r,t),[n.memoizedState,t]},useRef:ga,useState:da,useDebugValue:Pa,useDeferredValue:function(t){var e=da(t),i=e[0],n=e[1];return Ca((function(){var e=Kr.transition;Kr.transition=1;try{n(t)}finally{Kr.transition=e}}),[t]),i},useTransition:function(){var t=da(!1),e=t[0];return ga(t=_a.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,i){var n=ra();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:i},pa(n,t,e,i)},useOpaqueIdentifier:function(){if(Br){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,i("r:"+(Xn++).toString(36))),Error(a(355))})),i=da(e)[1];return 0===(2&$r.mode)&&($r.flags|=516,fa(5,(function(){i("r:"+(Xn++).toString(36))}),void 0,null)),e}return da(e="r:"+(Xn++).toString(36)),e},unstable_isNewReconciler:!1},Aa={readContext:or,useCallback:Sa,useContext:or,useEffect:xa,useImperativeHandle:Ea,useLayoutEffect:ba,useMemo:Ta,useReducer:la,useRef:ma,useState:function(){return la(sa)},useDebugValue:Pa,useDeferredValue:function(t){var e=la(sa),i=e[0],n=e[1];return xa((function(){var e=Kr.transition;Kr.transition=1;try{n(t)}finally{Kr.transition=e}}),[t]),i},useTransition:function(){var t=la(sa)[0];return[ma().current,t]},useMutableSource:ca,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Da={readContext:or,useCallback:Sa,useContext:or,useEffect:xa,useImperativeHandle:Ea,useLayoutEffect:ba,useMemo:Ta,useReducer:ua,useRef:ma,useState:function(){return ua(sa)},useDebugValue:Pa,useDeferredValue:function(t){var e=ua(sa),i=e[0],n=e[1];return xa((function(){var e=Kr.transition;Kr.transition=1;try{n(t)}finally{Kr.transition=e}}),[t]),i},useTransition:function(){var t=ua(sa)[0];return[ma().current,t]},useMutableSource:ca,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},ka=b.ReactCurrentOwner,Fa=!1;function Ia(t,e,i,n){e.child=null===t?Sr(e,null,i,n):Pr(e,t.child,i,n)}function La(t,e,i,n,o){i=i.render;var r=e.ref;return nr(e,o),n=oa(t,e,i,n,r,o),null===t||Fa?(e.flags|=1,Ia(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,is(t,e,o))}function Na(t,e,i,n,o,r){if(null===t){var a=i.type;return"function"!==typeof a||Hl(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=jl(i.type,null,n,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Va(t,e,a,n,o,r))}return a=t.child,0===(o&r)&&(o=a.memoizedProps,(i=null!==(i=i.compare)?i:un)(o,n)&&t.ref===e.ref)?is(t,e,r):(e.flags|=1,(t=zl(a,n)).ref=e.ref,t.return=e,e.child=t)}function Va(t,e,i,n,o,r){if(null!==t&&un(t.memoizedProps,n)&&t.ref===e.ref){if(Fa=!1,0===(r&o))return e.lanes=t.lanes,is(t,e,r);0!==(16384&t.flags)&&(Fa=!0)}return Ga(t,e,i,n,r)}function Ba(t,e,i){var n=e.pendingProps,o=n.children,r=null!==t?t.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},Cl(e,i);else{if(0===(1073741824&i))return t=null!==r?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Cl(e,t),null;e.memoizedState={baseLanes:0},Cl(e,null!==r?r.baseLanes:i)}else null!==r?(n=r.baseLanes|i,e.memoizedState=null):n=i,Cl(e,n);return Ia(t,e,o,i),e.child}function Wa(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=128)}function Ga(t,e,i,n,o){var r=go(i)?co:ho.current;return r=fo(e,r),nr(e,o),i=oa(t,e,i,n,r,o),null===t||Fa?(e.flags|=1,Ia(t,e,i,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,is(t,e,o))}function Ha(t,e,i,n,o){if(go(i)){var r=!0;Co(e)}else r=!1;if(nr(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),yr(e,i,n),Cr(e,i,n,o),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"===typeof u&&null!==u?u=or(u):u=fo(e,u=go(i)?co:ho.current);var h=i.getDerivedStateFromProps,p="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;p||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&vr(e,a,n,u),rr=!1;var c=e.memoizedState;a.state=c,pr(e,n,a,o),l=e.memoizedState,s!==n||c!==l||po.current||rr?("function"===typeof h&&(fr(e,i,h,n),l=e.memoizedState),(s=rr||mr(e,i,s,n,c,l,u))?(p||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(e.flags|=4),n=!1)}else{a=e.stateNode,sr(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ko(e.type,s),a.props=u,p=e.pendingProps,c=a.context,"object"===typeof(l=i.contextType)&&null!==l?l=or(l):l=fo(e,l=go(i)?co:ho.current);var d=i.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==p||c!==l)&&vr(e,a,n,l),rr=!1,c=e.memoizedState,a.state=c,pr(e,n,a,o);var f=e.memoizedState;s!==p||c!==f||po.current||rr?("function"===typeof d&&(fr(e,i,d,n),f=e.memoizedState),(u=rr||mr(e,i,u,n,c,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),n=!1)}return za(t,e,i,n,r,o)}function za(t,e,i,n,o,r){Wa(t,e);var a=0!==(64&e.flags);if(!n&&!a)return o&&xo(e,i,!1),is(t,e,r);n=e.stateNode,ka.current=e;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=Pr(e,t.child,null,r),e.child=Pr(e,null,s,r)):Ia(t,e,s,r),e.memoizedState=n.state,o&&xo(e,i,!0),e.child}function ja(t){var e=t.stateNode;e.pendingContext?yo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yo(0,e.context,!1),Ar(t,e.containerInfo)}var Ua,Ya,Xa,qa={dehydrated:null,retryLane:0};function Ka(t,e,i){var n,o=e.pendingProps,r=Ir.current,a=!1;return(n=0!==(64&e.flags))||(n=(null===t||null!==t.memoizedState)&&0!==(2&r)),n?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(r|=1),lo(Ir,1&r),null===t?(void 0!==o.fallback&&Hr(e),t=o.children,r=o.fallback,a?(t=Qa(e,t,r,i),e.child.memoizedState={baseLanes:i},e.memoizedState=qa,t):"number"===typeof o.unstable_expectedLoadTime?(t=Qa(e,t,r,i),e.child.memoizedState={baseLanes:i},e.memoizedState=qa,e.lanes=33554432,t):((i=Yl({mode:"visible",children:t},e.mode,i,null)).return=e,e.child=i)):(t.memoizedState,a?(o=Ja(t,e,o.children,o.fallback,i),a=e.child,r=t.child.memoizedState,a.memoizedState=null===r?{baseLanes:i}:{baseLanes:r.baseLanes|i},a.childLanes=t.childLanes&~i,e.memoizedState=qa,o):(i=$a(t,e,o.children,i),e.memoizedState=null,i))}function Qa(t,e,i,n){var o=t.mode,r=t.child;return e={mode:"hidden",children:e},0===(2&o)&&null!==r?(r.childLanes=0,r.pendingProps=e):r=Yl(e,o,0,null),i=Ul(i,o,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i}function $a(t,e,i,n){var o=t.child;return t=o.sibling,i=zl(o,{mode:"visible",children:i}),0===(2&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=i}function Ja(t,e,i,n,o){var r=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:i};return 0===(2&r)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=s,null!==(a=i.lastEffect)?(e.firstEffect=i.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):i=zl(a,s),null!==t?n=zl(t,n):(n=Ul(n,r,o,null)).flags|=2,n.return=e,i.return=e,i.sibling=n,e.child=i,n}function Za(t,e){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),ir(t.return,e)}function ts(t,e,i,n,o,r){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:o,lastEffect:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailMode=o,a.lastEffect=r)}function es(t,e,i){var n=e.pendingProps,o=n.revealOrder,r=n.tail;if(Ia(t,e,n.children,i),0!==(2&(n=Ir.current)))n=1&n|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Za(t,i);else if(19===t.tag)Za(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(lo(Ir,n),0===(2&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;null!==i;)null!==(t=i.alternate)&&null===Lr(t)&&(o=i),i=i.sibling;null===(i=o)?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),ts(e,!1,o,i,r,e.lastEffect);break;case"backwards":for(i=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===Lr(t)){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}ts(e,!0,i,null,r,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function is(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Vs|=e.lanes,0!==(i&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(i=zl(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=zl(t,t.pendingProps)).return=e;i.sibling=null}return e.child}return null}function ns(t,e){if(!Br)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function os(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return go(e.type)&&mo(),null;case 3:return Dr(),so(po),so(ho),Xr(),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(jr(e)?e.flags|=4:n.hydrate||(e.flags|=256)),null;case 5:Fr(e);var r=Or(Rr.current);if(i=e.type,null!==t&&null!=e.stateNode)Ya(t,e,i,n),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(null===e.stateNode)throw Error(a(166));return null}if(t=Or(_r.current),jr(e)){n=e.stateNode,i=e.type;var s=e.memoizedProps;switch(n[Kn]=e,n[Qn]=s,i){case"dialog":_n("cancel",n),_n("close",n);break;case"iframe":case"object":case"embed":_n("load",n);break;case"video":case"audio":for(t=0;t<En.length;t++)_n(En[t],n);break;case"source":_n("error",n);break;case"img":case"image":case"link":_n("error",n),_n("load",n);break;case"details":_n("toggle",n);break;case"input":tt(n,s),_n("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},_n("invalid",n);break;case"textarea":lt(n,s),_n("invalid",n)}for(var u in Pt(i,s),t=null,s)s.hasOwnProperty(u)&&(r=s[u],"children"===u?"string"===typeof r?n.textContent!==r&&(t=["children",r]):"number"===typeof r&&n.textContent!==""+r&&(t=["children",""+r]):l.hasOwnProperty(u)&&null!=r&&"onScroll"===u&&_n("scroll",n));switch(i){case"input":Q(n),nt(n,s,!0);break;case"textarea":Q(n),ht(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Nn)}n=t,e.updateQueue=n,null!==n&&(e.flags|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,t===pt&&(t=dt(i)),t===pt?"script"===i?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=u.createElement(i,{is:n.is}):(t=u.createElement(i),"select"===i&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,i),t[Kn]=e,t[Qn]=n,Ua(t,e),e.stateNode=t,u=St(i,n),i){case"dialog":_n("cancel",t),_n("close",t),r=n;break;case"iframe":case"object":case"embed":_n("load",t),r=n;break;case"video":case"audio":for(r=0;r<En.length;r++)_n(En[r],t);r=n;break;case"source":_n("error",t),r=n;break;case"img":case"image":case"link":_n("error",t),_n("load",t),r=n;break;case"details":_n("toggle",t),r=n;break;case"input":tt(t,n),r=Z(t,n),_n("invalid",t);break;case"option":r=rt(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=o({},n,{value:void 0}),_n("invalid",t);break;case"textarea":lt(t,n),r=st(t,n),_n("invalid",t);break;default:r=n}Pt(i,r);var h=r;for(s in h)if(h.hasOwnProperty(s)){var p=h[s];"style"===s?wt(t,p):"dangerouslySetInnerHTML"===s?null!=(p=p?p.__html:void 0)&&yt(t,p):"children"===s?"string"===typeof p?("textarea"!==i||""!==p)&&vt(t,p):"number"===typeof p&&vt(t,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=p&&"onScroll"===s&&_n("scroll",t):null!=p&&x(t,s,p,u))}switch(i){case"input":Q(t),nt(t,n,!1);break;case"textarea":Q(t),ht(t);break;case"option":null!=n.value&&t.setAttribute("value",""+q(n.value));break;case"select":t.multiple=!!n.multiple,null!=(s=n.value)?at(t,!!n.multiple,s,!1):null!=n.defaultValue&&at(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Nn)}Wn(i,n)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Xa(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(a(166));i=Or(Rr.current),Or(_r.current),jr(e)?(n=e.stateNode,i=e.memoizedProps,n[Kn]=e,n.nodeValue!==i&&(e.flags|=4)):((n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Kn]=e,e.stateNode=n)}return null;case 13:return so(Ir),n=e.memoizedState,0!==(64&e.flags)?(e.lanes=i,e):(n=null!==n,i=!1,null===t?void 0!==e.memoizedProps.fallback&&jr(e):i=null!==t.memoizedState,n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ir.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Os||0===(134217727&Vs)&&0===(134217727&Bs)||gl(Os,Ds))),(n||i)&&(e.flags|=4),null);case 4:return Dr(),null===t&&Rn(e.stateNode.containerInfo),null;case 10:return er(e),null;case 17:return go(e.type)&&mo(),null;case 19:if(so(Ir),null===(n=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(u=n.rendering))if(s)ns(n,!1);else{if(0!==Is||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=Lr(t))){for(e.flags|=64,ns(n,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=i,i=e.child;null!==i;)t=n,(s=i).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return lo(Ir,1&Ir.current|2),e.child}t=t.sibling}null!==n.tail&&Go()>zs&&(e.flags|=64,s=!0,ns(n,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Lr(u))){if(e.flags|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),ns(n,!0),null===n.tail&&"hidden"===n.tailMode&&!u.alternate&&!Br)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Go()-n.renderingStartTime>zs&&1073741824!==i&&(e.flags|=64,s=!0,ns(n,!1),e.lanes=33554432);n.isBackwards?(u.sibling=e.child,e.child=u):(null!==(i=n.last)?i.sibling=u:e.child=u,n.last=u)}return null!==n.tail?(i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Go(),i.sibling=null,e=Ir.current,lo(Ir,s?1&e|2:1&e),i):null;case 23:case 24:return xl(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function rs(t){switch(t.tag){case 1:go(t.type)&&mo();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Dr(),so(po),so(ho),Xr(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Fr(t),null;case 13:return so(Ir),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return so(Ir),null;case 4:return Dr(),null;case 10:return er(t),null;case 23:case 24:return xl(),null;default:return null}}function as(t,e){try{var i="",n=e;do{i+=Y(n),n=n.return}while(n);var o=i}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:o}}function ss(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}Ua=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ya=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Or(_r.current);var a,s=null;switch(i){case"input":r=Z(t,r),n=Z(t,n),s=[];break;case"option":r=rt(t,r),n=rt(t,n),s=[];break;case"select":r=o({},r,{value:void 0}),n=o({},n,{value:void 0}),s=[];break;case"textarea":r=st(t,r),n=st(t,n),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(t.onclick=Nn)}for(p in Pt(i,n),i=null,r)if(!n.hasOwnProperty(p)&&r.hasOwnProperty(p)&&null!=r[p])if("style"===p){var u=r[p];for(a in u)u.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(l.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in n){var h=n[p];if(u=null!=r?r[p]:void 0,n.hasOwnProperty(p)&&h!==u&&(null!=h||null!=u))if("style"===p)if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(i||(i={}),i[a]=h[a])}else i||(s||(s=[]),s.push(p,i)),i=h;else"dangerouslySetInnerHTML"===p?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(s=s||[]).push(p,h)):"children"===p?"string"!==typeof h&&"number"!==typeof h||(s=s||[]).push(p,""+h):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(l.hasOwnProperty(p)?(null!=h&&"onScroll"===p&&_n("scroll",t),s||u===h||(s=[])):"object"===typeof h&&null!==h&&h.$$typeof===I?h.toString():(s=s||[]).push(p,h))}i&&(s=s||[]).push("style",i);var p=s;(e.updateQueue=p)&&(e.flags|=4)}},Xa=function(t,e,i,n){i!==n&&(e.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function us(t,e,i){(i=lr(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Xs||(Xs=!0,qs=n),ss(0,e)},i}function hs(t,e,i){(i=lr(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var o=e.value;i.payload=function(){return ss(0,e),n(o)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Ks?Ks=new Set([this]):Ks.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}var ps="function"===typeof WeakSet?WeakSet:Set;function cs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){Nl(t,i)}else e.current=null}function ds(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:Ko(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&jn(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function fs(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=i.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=i.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var o=t;n=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(Fl(i,t),kl(i,t)),t=n}while(t!==e)}return;case 1:return t=i.stateNode,4&i.flags&&(null===e?t.componentDidMount():(n=i.elementType===i.type?e.memoizedProps:Ko(i.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=i.updateQueue)&&cr(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}cr(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.flags&&Wn(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&we(i)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(t,e){for(var i=t;;){if(5===i.tag){var n=i.stateNode;if(e)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=i.stateNode;var o=i.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,n.style.display=bt("display",o)}}else if(6===i.tag)i.stateNode.nodeValue=e?"":i.memoizedProps;else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===t)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ms(t,e){if(wo&&"function"===typeof wo.onCommitFiberUnmount)try{wo.onCommitFiberUnmount(bo,e)}catch(r){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t=t.next;do{var n=i,o=n.destroy;if(n=n.tag,void 0!==o)if(0!==(4&n))Fl(e,i);else{n=e;try{o()}catch(r){Nl(n,r)}}i=i.next}while(i!==t)}break;case 1:if(cs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){Nl(e,r)}break;case 5:cs(e);break;case 4:ws(t,e)}}function ys(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function vs(t){return 5===t.tag||3===t.tag||4===t.tag}function Cs(t){t:{for(var e=t.return;null!==e;){if(vs(e))break t;e=e.return}throw Error(a(160))}var i=e;switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(a(161))}16&i.flags&&(vt(e,""),i.flags&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||vs(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break t}}n?xs(t,i,e):bs(t,i,e)}function xs(t,e,i){var n=t.tag,o=5===n||6===n;if(o)t=o?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=Nn));else if(4!==n&&null!==(t=t.child))for(xs(t,e,i),t=t.sibling;null!==t;)xs(t,e,i),t=t.sibling}function bs(t,e,i){var n=t.tag,o=5===n||6===n;if(o)t=o?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(bs(t,e,i),t=t.sibling;null!==t;)bs(t,e,i),t=t.sibling}function ws(t,e){for(var i,n,o=e,r=!1;;){if(!r){r=o.return;t:for(;;){if(null===r)throw Error(a(160));switch(i=r.stateNode,r.tag){case 5:n=!1;break t;case 3:case 4:i=i.containerInfo,n=!0;break t}r=r.return}r=!0}if(5===o.tag||6===o.tag){t:for(var s=t,l=o,u=l;;)if(ms(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(s=i,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,n=!0,o.child.return=o,o=o.child;continue}}else if(ms(t,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(r=!1)}o.sibling.return=o.return,o=o.sibling}}function Es(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var n=i=i.next;do{3===(3&n.tag)&&(t=n.destroy,n.destroy=void 0,void 0!==t&&t()),n=n.next}while(n!==i)}return;case 1:return;case 5:if(null!=(i=e.stateNode)){n=e.memoizedProps;var o=null!==t?t.memoizedProps:n;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(i[Qn]=n,"input"===t&&"radio"===n.type&&null!=n.name&&et(i,n),St(t,o),e=St(t,n),o=0;o<r.length;o+=2){var s=r[o],l=r[o+1];"style"===s?wt(i,l):"dangerouslySetInnerHTML"===s?yt(i,l):"children"===s?vt(i,l):x(i,s,l,e)}switch(t){case"input":it(i,n);break;case"textarea":ut(i,n);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(r=n.value)?at(i,!!n.multiple,r,!1):t!==!!n.multiple&&(null!=n.defaultValue?at(i,!!n.multiple,n.defaultValue,!0):at(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((i=e.stateNode).hydrate&&(i.hydrate=!1,we(i.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Hs=Go(),gs(e.child,!0)),void Ps(e);case 19:return void Ps(e);case 17:return;case 23:case 24:return void gs(e,null!==e.memoizedState)}throw Error(a(163))}function Ps(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new ps),e.forEach((function(e){var n=Bl.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function Ss(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ts=Math.ceil,_s=b.ReactCurrentDispatcher,Ms=b.ReactCurrentOwner,Rs=0,Os=null,As=null,Ds=0,ks=0,Fs=ao(0),Is=0,Ls=null,Ns=0,Vs=0,Bs=0,Ws=0,Gs=null,Hs=0,zs=1/0;function js(){zs=Go()+500}var Us,Ys=null,Xs=!1,qs=null,Ks=null,Qs=!1,$s=null,Js=90,Zs=[],tl=[],el=null,il=0,nl=null,ol=-1,rl=0,al=0,sl=null,ll=!1;function ul(){return 0!==(48&Rs)?Go():-1!==ol?ol:ol=Go()}function hl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Ho()?1:2;if(0===rl&&(rl=Ns),0!==qo.transition){0!==al&&(al=null!==Gs?Gs.pendingLanes:0),t=rl;var e=4186112&~al;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Ho(),0!==(4&Rs)&&98===t?t=We(12,rl):t=We(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),rl),t}function pl(t,e,i){if(50<il)throw il=0,nl=null,Error(a(185));if(null===(t=cl(t,e)))return null;ze(t,e,i),t===Os&&(Bs|=e,4===Is&&gl(t,Ds));var n=Ho();1===e?0!==(8&Rs)&&0===(48&Rs)?ml(t):(dl(t,i),0===Rs&&(js(),Yo())):(0===(4&Rs)||98!==n&&99!==n||(null===el?el=new Set([t]):el.add(t)),dl(t,i)),Gs=t}function cl(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}function dl(t,e){for(var i=t.callbackNode,n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-je(s),u=1<<l,h=r[l];if(-1===h){if(0===(u&n)||0!==(u&o)){h=e,Ne(u);var p=Le;r[l]=10<=p?h+250:6<=p?h+5e3:-1}}else h<=e&&(t.expiredLanes|=u);s&=~u}if(n=Ve(t,t===Os?Ds:0),e=Le,0===n)null!==i&&(i!==Io&&So(i),t.callbackNode=null,t.callbackPriority=0);else{if(null!==i){if(t.callbackPriority===e)return;i!==Io&&So(i)}15===e?(i=ml.bind(null,t),null===No?(No=[i],Vo=Po(Oo,Xo)):No.push(i),i=Io):14===e?i=Uo(99,ml.bind(null,t)):i=Uo(i=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),fl.bind(null,t)),t.callbackPriority=e,t.callbackNode=i}}function fl(t){if(ol=-1,al=rl=0,0!==(48&Rs))throw Error(a(327));var e=t.callbackNode;if(Dl()&&t.callbackNode!==e)return null;var i=Ve(t,t===Os?Ds:0);if(0===i)return null;var n=i,o=Rs;Rs|=16;var r=El();for(Os===t&&Ds===n||(js(),bl(t,n));;)try{Tl();break}catch(l){wl(t,l)}if(tr(),_s.current=r,Rs=o,null!==As?n=0:(Os=null,Ds=0,n=Is),0!==(Ns&Bs))bl(t,0);else if(0!==n){if(2===n&&(Rs|=64,t.hydrate&&(t.hydrate=!1,jn(t.containerInfo)),0!==(i=Be(t))&&(n=Pl(t,i))),1===n)throw e=Ls,bl(t,0),gl(t,i),dl(t,Go()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:Rl(t);break;case 3:if(gl(t,i),(62914560&i)===i&&10<(n=Hs+500-Go())){if(0!==Ve(t,0))break;if(((o=t.suspendedLanes)&i)!==i){ul(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Hn(Rl.bind(null,t),n);break}Rl(t);break;case 4:if(gl(t,i),(4186112&i)===i)break;for(n=t.eventTimes,o=-1;0<i;){var s=31-je(i);r=1<<s,(s=n[s])>o&&(o=s),i&=~r}if(i=o,10<(i=(120>(i=Go()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ts(i/1960))-i)){t.timeoutHandle=Hn(Rl.bind(null,t),i);break}Rl(t);break;case 5:Rl(t);break;default:throw Error(a(329))}}return dl(t,Go()),t.callbackNode===e?fl.bind(null,t):null}function gl(t,e){for(e&=~Ws,e&=~Bs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-je(e),n=1<<i;t[i]=-1,e&=~n}}function ml(t){if(0!==(48&Rs))throw Error(a(327));if(Dl(),t===Os&&0!==(t.expiredLanes&Ds)){var e=Ds,i=Pl(t,e);0!==(Ns&Bs)&&(i=Pl(t,e=Ve(t,e)))}else i=Pl(t,e=Ve(t,0));if(0!==t.tag&&2===i&&(Rs|=64,t.hydrate&&(t.hydrate=!1,jn(t.containerInfo)),0!==(e=Be(t))&&(i=Pl(t,e))),1===i)throw i=Ls,bl(t,0),gl(t,e),dl(t,Go()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t),dl(t,Go()),null}function yl(t,e){var i=Rs;Rs|=1;try{return t(e)}finally{0===(Rs=i)&&(js(),Yo())}}function vl(t,e){var i=Rs;Rs&=-2,Rs|=8;try{return t(e)}finally{0===(Rs=i)&&(js(),Yo())}}function Cl(t,e){lo(Fs,ks),ks|=e,Ns|=e}function xl(){ks=Fs.current,so(Fs)}function bl(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,zn(i)),null!==As)for(i=As.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mo();break;case 3:Dr(),so(po),so(ho),Xr();break;case 5:Fr(n);break;case 4:Dr();break;case 13:case 19:so(Ir);break;case 10:er(n);break;case 23:case 24:xl()}i=i.return}Os=t,As=zl(t.current,null),Ds=ks=Ns=e,Is=0,Ls=null,Ws=Bs=Vs=0}function wl(t,e){for(;;){var i=As;try{if(tr(),qr.current=Ra,ta){for(var n=$r.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ta=!1}if(Qr=0,Zr=Jr=$r=null,ea=!1,Ms.current=null,null===i||null===i.return){Is=1,Ls=e,As=null;break}t:{var r=t,a=i.return,s=i,l=e;if(e=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!==(1&Ir.current),c=a;do{var d;if(d=13===c.tag){var f=c.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var g=c.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!p)}}if(d){var m=c.updateQueue;if(null===m){var y=new Set;y.add(u),c.updateQueue=y}else m.add(u);if(0===(2&c.mode)){if(c.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=lr(-1,1);v.tag=2,ur(s,v)}s.lanes|=1;break t}l=void 0,s=e;var C=r.pingCache;if(null===C?(C=r.pingCache=new ls,l=new Set,C.set(u,l)):void 0===(l=C.get(u))&&(l=new Set,C.set(u,l)),!l.has(s)){l.add(s);var x=Vl.bind(null,r,u,s);u.then(x,x)}c.flags|=4096,c.lanes=e;break t}c=c.return}while(null!==c);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),l=as(l,s),c=a;do{switch(c.tag){case 3:r=l,c.flags|=4096,e&=-e,c.lanes|=e,hr(c,us(0,r,e));break t;case 1:r=l;var b=c.type,w=c.stateNode;if(0===(64&c.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ks||!Ks.has(w)))){c.flags|=4096,e&=-e,c.lanes|=e,hr(c,hs(c,r,e));break t}}c=c.return}while(null!==c)}Ml(i)}catch(E){e=E,As===i&&null!==i&&(As=i=i.return);continue}break}}function El(){var t=_s.current;return _s.current=Ra,null===t?Ra:t}function Pl(t,e){var i=Rs;Rs|=16;var n=El();for(Os===t&&Ds===e||bl(t,e);;)try{Sl();break}catch(o){wl(t,o)}if(tr(),Rs=i,_s.current=n,null!==As)throw Error(a(261));return Os=null,Ds=0,Is}function Sl(){for(;null!==As;)_l(As)}function Tl(){for(;null!==As&&!To();)_l(As)}function _l(t){var e=Us(t.alternate,t,ks);t.memoizedProps=t.pendingProps,null===e?Ml(t):As=e,Ms.current=null}function Ml(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(i=os(i,e,ks)))return void(As=i);if(24!==(i=e).tag&&23!==i.tag||null===i.memoizedState||0!==(1073741824&ks)||0===(4&i.mode)){for(var n=0,o=i.child;null!==o;)n|=o.lanes|o.childLanes,o=o.sibling;i.childLanes=n}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(i=rs(e)))return i.flags&=2047,void(As=i);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(As=e);As=e=t}while(null!==e);0===Is&&(Is=5)}function Rl(t){var e=Ho();return jo(99,Ol.bind(null,t,e)),null}function Ol(t,e){do{Dl()}while(null!==$s);if(0!==(48&Rs))throw Error(a(327));var i=t.finishedWork;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(a(177));t.callbackNode=null;var n=i.lanes|i.childLanes,o=n,r=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<r;){var u=31-je(r),h=1<<u;o[u]=0,s[u]=-1,l[u]=-1,r&=~h}if(null!==el&&0===(24&n)&&el.has(t)&&el.delete(t),t===Os&&(As=Os=null,Ds=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,n=i.firstEffect):n=i:n=i.firstEffect,null!==n){if(o=Rs,Rs|=32,Ms.current=null,Vn=Ke,fn(s=dn())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&0!==h.rangeCount){l=h.anchorNode,r=h.anchorOffset,u=h.focusNode,h=h.focusOffset;try{l.nodeType,u.nodeType}catch(T){l=null;break t}var p=0,c=-1,d=-1,f=0,g=0,m=s,y=null;e:for(;;){for(var v;m!==l||0!==r&&3!==m.nodeType||(c=p+r),m!==u||0!==h&&3!==m.nodeType||(d=p+h),3===m.nodeType&&(p+=m.nodeValue.length),null!==(v=m.firstChild);)y=m,m=v;for(;;){if(m===s)break e;if(y===l&&++f===r&&(c=p),y===u&&++g===h&&(d=p),null!==(v=m.nextSibling))break;y=(m=y).parentNode}m=v}l=-1===c||-1===d?null:{start:c,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Bn={focusedElem:s,selectionRange:l},Ke=!1,sl=null,ll=!1,Ys=n;do{try{Al()}catch(T){if(null===Ys)throw Error(a(330));Nl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);sl=null,Ys=n;do{try{for(s=t;null!==Ys;){var C=Ys.flags;if(16&C&&vt(Ys.stateNode,""),128&C){var x=Ys.alternate;if(null!==x){var b=x.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&C){case 2:Cs(Ys),Ys.flags&=-3;break;case 6:Cs(Ys),Ys.flags&=-3,Es(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Es(Ys.alternate,Ys);break;case 4:Es(Ys.alternate,Ys);break;case 8:ws(s,l=Ys);var w=l.alternate;ys(l),null!==w&&ys(w)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));Nl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(b=Bn,x=dn(),C=b.focusedElem,s=b.selectionRange,x!==C&&C&&C.ownerDocument&&cn(C.ownerDocument.documentElement,C)){null!==s&&fn(C)&&(x=s.start,void 0===(b=s.end)&&(b=x),"selectionStart"in C?(C.selectionStart=x,C.selectionEnd=Math.min(b,C.value.length)):(b=(x=C.ownerDocument||document)&&x.defaultView||window).getSelection&&(b=b.getSelection(),l=C.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!b.extend&&w>s&&(l=s,s=w,w=l),l=pn(C,w),r=pn(C,s),l&&r&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==r.node||b.focusOffset!==r.offset)&&((x=x.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),w>s?(b.addRange(x),b.extend(r.node,r.offset)):(x.setEnd(r.node,r.offset),b.addRange(x))))),x=[];for(b=C;b=b.parentNode;)1===b.nodeType&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<x.length;C++)(b=x[C]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Ke=!!Vn,Bn=Vn=null,t.current=i,Ys=n;do{try{for(C=t;null!==Ys;){var E=Ys.flags;if(36&E&&fs(C,Ys.alternate,Ys),128&E){x=void 0;var P=Ys.ref;if(null!==P){var S=Ys.stateNode;switch(Ys.tag){case 5:x=S;break;default:x=S}"function"===typeof P?P(x):P.current=x}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));Nl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Lo(),Rs=o}else t.current=i;if(Qs)Qs=!1,$s=t,Js=e;else for(Ys=n;null!==Ys;)e=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=e;if(0===(n=t.pendingLanes)&&(Ks=null),1===n?t===nl?il++:(il=0,nl=t):il=0,i=i.stateNode,wo&&"function"===typeof wo.onCommitFiberRoot)try{wo.onCommitFiberRoot(bo,i,void 0,64===(64&i.current.flags))}catch(T){}if(dl(t,Go()),Xs)throw Xs=!1,t=qs,qs=null,t;return 0!==(8&Rs)||Yo(),null}function Al(){for(;null!==Ys;){var t=Ys.alternate;ll||null===sl||(0!==(8&Ys.flags)?te(Ys,sl)&&(ll=!0):13===Ys.tag&&Ss(t,Ys)&&te(Ys,sl)&&(ll=!0));var e=Ys.flags;0!==(256&e)&&ds(t,Ys),0===(512&e)||Qs||(Qs=!0,Uo(97,(function(){return Dl(),null}))),Ys=Ys.nextEffect}}function Dl(){if(90!==Js){var t=97<Js?97:Js;return Js=90,jo(t,Il)}return!1}function kl(t,e){Zs.push(e,t),Qs||(Qs=!0,Uo(97,(function(){return Dl(),null})))}function Fl(t,e){tl.push(e,t),Qs||(Qs=!0,Uo(97,(function(){return Dl(),null})))}function Il(){if(null===$s)return!1;var t=$s;if($s=null,0!==(48&Rs))throw Error(a(331));var e=Rs;Rs|=32;var i=tl;tl=[];for(var n=0;n<i.length;n+=2){var o=i[n],r=i[n+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===r)throw Error(a(330));Nl(r,u)}}for(i=Zs,Zs=[],n=0;n<i.length;n+=2){o=i[n],r=i[n+1];try{var l=o.create;o.destroy=l()}catch(u){if(null===r)throw Error(a(330));Nl(r,u)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Rs=e,Yo(),!0}function Ll(t,e,i){ur(t,e=us(0,e=as(i,e),1)),e=ul(),null!==(t=cl(t,1))&&(ze(t,1,e),dl(t,e))}function Nl(t,e){if(3===t.tag)Ll(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Ll(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ks||!Ks.has(n))){var o=hs(i,t=as(e,t),1);if(ur(i,o),o=ul(),null!==(i=cl(i,1)))ze(i,1,o),dl(i,o);else if("function"===typeof n.componentDidCatch&&(null===Ks||!Ks.has(n)))try{n.componentDidCatch(e,t)}catch(r){}break}}i=i.return}}function Vl(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&i,Os===t&&(Ds&i)===i&&(4===Is||3===Is&&(62914560&Ds)===Ds&&500>Go()-Hs?bl(t,0):Ws|=i),dl(t,e)}function Bl(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Ho()?1:2:(0===rl&&(rl=Ns),0===(e=Ge(62914560&~rl))&&(e=4194304))),i=ul(),null!==(t=cl(t,e))&&(ze(t,e,i),dl(t,i))}function Wl(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gl(t,e,i,n){return new Wl(t,e,i,n)}function Hl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zl(t,e){var i=t.alternate;return null===i?((i=Gl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function jl(t,e,i,n,o,r){var s=2;if(n=t,"function"===typeof t)Hl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case P:return Ul(i.children,o,r,e);case L:s=8,o|=16;break;case S:s=8,o|=1;break;case T:return(t=Gl(12,i,e,8|o)).elementType=T,t.type=T,t.lanes=r,t;case O:return(t=Gl(13,i,e,o)).type=O,t.elementType=O,t.lanes=r,t;case A:return(t=Gl(19,i,e,o)).elementType=A,t.lanes=r,t;case N:return Yl(i,o,r,e);case V:return(t=Gl(24,i,e,o)).elementType=V,t.lanes=r,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case _:s=10;break t;case M:s=9;break t;case R:s=11;break t;case D:s=14;break t;case k:s=16,n=null;break t;case F:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Gl(s,i,e,o)).elementType=t,e.type=n,e.lanes=r,e}function Ul(t,e,i,n){return(t=Gl(7,t,n,e)).lanes=i,t}function Yl(t,e,i,n){return(t=Gl(23,t,n,e)).elementType=N,t.lanes=i,t}function Xl(t,e,i){return(t=Gl(6,t,null,e)).lanes=i,t}function ql(t,e,i){return(e=Gl(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=He(0),this.expirationTimes=He(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.mutableSourceEagerHydrationData=null}function Ql(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}function $l(t,e,i,n){var o=e.current,r=ul(),s=hl(o);t:if(i){e:{if(Qt(i=i._reactInternals)!==i||1!==i.tag)throw Error(a(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(go(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===i.tag){var u=i.type;if(go(u)){i=vo(i,u,l);break t}}i=l}else i=uo;return null===e.context?e.context=i:e.pendingContext=i,(e=lr(r,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),ur(o,e),pl(o,s,r),s}function Jl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function tu(t,e){Zl(t,e),(t=t.alternate)&&Zl(t,e)}function eu(t,e,i){var n=null!=i&&null!=i.hydrationOptions&&i.hydrationOptions.mutableSources||null;if(i=new Kl(t,e,null!=i&&!0===i.hydrate),e=Gl(3,null,null,2===e?7:1===e?3:0),i.current=e,e.stateNode=i,ar(e),t[$n]=i.current,Rn(8===t.nodeType?t.parentNode:t),n)for(t=0;t<n.length;t++){var o=(e=n[t])._getVersion;o=o(e._source),null==i.mutableSourceEagerHydrationData?i.mutableSourceEagerHydrationData=[e,o]:i.mutableSourceEagerHydrationData.push(e,o)}this._internalRoot=i}function iu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function nu(t,e,i,n,o){var r=i._reactRootContainer;if(r){var a=r._internalRoot;if("function"===typeof o){var s=o;o=function(){var t=Jl(a);s.call(t)}}$l(e,a,t,o)}else{if(r=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new eu(t,0,e?{hydrate:!0}:void 0)}(i,n),a=r._internalRoot,"function"===typeof o){var l=o;o=function(){var t=Jl(a);l.call(t)}}vl((function(){$l(e,a,t,o)}))}return Jl(a)}function ou(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(e))throw Error(a(200));return Ql(t,e,null,i)}Us=function(t,e,i){var n=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||po.current)Fa=!0;else{if(0===(i&n)){switch(Fa=!1,e.tag){case 3:ja(e),Ur();break;case 5:kr(e);break;case 1:go(e.type)&&Co(e);break;case 4:Ar(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var o=e.type._context;lo(Qo,o._currentValue),o._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(i&e.child.childLanes)?Ka(t,e,i):(lo(Ir,1&Ir.current),null!==(e=is(t,e,i))?e.sibling:null);lo(Ir,1&Ir.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(64&t.flags)){if(n)return es(t,e,i);e.flags|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),lo(Ir,Ir.current),n)break;return null;case 23:case 24:return e.lanes=0,Ba(t,e,i)}return is(t,e,i)}Fa=0!==(16384&t.flags)}else Fa=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=fo(e,ho.current),nr(e,i),o=oa(null,e,n,t,o,i),e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,go(n)){var r=!0;Co(e)}else r=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ar(e);var s=n.getDerivedStateFromProps;"function"===typeof s&&fr(e,n,s,t),o.updater=gr,e.stateNode=o,o._reactInternals=e,Cr(e,n,t,i),e=za(null,e,n,!0,r,i)}else e.tag=0,Ia(null,e,o,i),e=e.child;return e;case 16:o=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=(r=o._init)(o._payload),e.type=o,r=e.tag=function(t){if("function"===typeof t)return Hl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===R)return 11;if(t===D)return 14}return 2}(o),t=Ko(o,t),r){case 0:e=Ga(null,e,o,t,i);break t;case 1:e=Ha(null,e,o,t,i);break t;case 11:e=La(null,e,o,t,i);break t;case 14:e=Na(null,e,o,Ko(o.type,t),n,i);break t}throw Error(a(306,o,""))}return e;case 0:return n=e.type,o=e.pendingProps,Ga(t,e,n,o=e.elementType===n?o:Ko(n,o),i);case 1:return n=e.type,o=e.pendingProps,Ha(t,e,n,o=e.elementType===n?o:Ko(n,o),i);case 3:if(ja(e),n=e.updateQueue,null===t||null===n)throw Error(a(282));if(n=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,sr(t,e),pr(e,n,null,i),(n=e.memoizedState.element)===o)Ur(),e=is(t,e,i);else{if((r=(o=e.stateNode).hydrate)&&(Vr=Un(e.stateNode.containerInfo.firstChild),Nr=e,r=Br=!0),r){if(null!=(t=o.mutableSourceEagerHydrationData))for(o=0;o<t.length;o+=2)(r=t[o])._workInProgressVersionPrimary=t[o+1],Yr.push(r);for(i=Sr(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Ia(t,e,n,i),Ur();e=e.child}return e;case 5:return kr(e),null===t&&Hr(e),n=e.type,o=e.pendingProps,r=null!==t?t.memoizedProps:null,s=o.children,Gn(n,o)?s=null:null!==r&&Gn(n,r)&&(e.flags|=16),Wa(t,e),Ia(t,e,s,i),e.child;case 6:return null===t&&Hr(e),null;case 13:return Ka(t,e,i);case 4:return Ar(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Pr(e,null,n,i):Ia(t,e,n,i),e.child;case 11:return n=e.type,o=e.pendingProps,La(t,e,n,o=e.elementType===n?o:Ko(n,o),i);case 7:return Ia(t,e,e.pendingProps,i),e.child;case 8:case 12:return Ia(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,o=e.pendingProps,s=e.memoizedProps,r=o.value;var l=e.type._context;if(lo(Qo,l._currentValue),l._currentValue=r,null!==s)if(l=s.value,0===(r=sn(l,r)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,r):1073741823))){if(s.children===o.children&&!po.current){e=is(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var h=u.firstContext;null!==h;){if(h.context===n&&0!==(h.observedBits&r)){1===l.tag&&((h=lr(-1,i&-i)).tag=2,ur(l,h)),l.lanes|=i,null!==(h=l.alternate)&&(h.lanes|=i),ir(l.return,i),u.lanes|=i;break}h=h.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ia(t,e,o.children,i),e=e.child}return e;case 9:return o=e.type,n=(r=e.pendingProps).children,nr(e,i),n=n(o=or(o,r.unstable_observedBits)),e.flags|=1,Ia(t,e,n,i),e.child;case 14:return r=Ko(o=e.type,e.pendingProps),Na(t,e,o,r=Ko(o.type,r),n,i);case 15:return Va(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Ko(n,o),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,go(n)?(t=!0,Co(e)):t=!1,nr(e,i),yr(e,n,o),Cr(e,n,o,i),za(null,e,n,!0,t,i);case 19:return es(t,e,i);case 23:case 24:return Ba(t,e,i)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){$l(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$l(null,t,null,(function(){e[$n]=null}))},ee=function(t){13===t.tag&&(pl(t,4,ul()),tu(t,4))},ie=function(t){13===t.tag&&(pl(t,67108864,ul()),tu(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),i=hl(t);pl(t,i,e),tu(t,i)}},oe=function(t,e){return e()},_t=function(t,e,i){switch(e){case"input":if(it(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var o=io(n);if(!o)throw Error(a(90));$(n),it(n,o)}}}break;case"textarea":ut(t,i);break;case"select":null!=(e=i.value)&&at(t,!!i.multiple,e,!1)}},kt=yl,Ft=function(t,e,i,n,o){var r=Rs;Rs|=4;try{return jo(98,t.bind(null,e,i,n,o))}finally{0===(Rs=r)&&(js(),Yo())}},It=function(){0===(49&Rs)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,dl(t,Go())}))}Yo()}(),Dl())},Lt=function(t,e){var i=Rs;Rs|=2;try{return t(e)}finally{0===(Rs=i)&&(js(),Yo())}};var ru={Events:[to,eo,io,At,Dt,Dl,{current:!1}]},au={findFiberByHostInstance:Zn,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{bo=lu.inject(su),wo=lu}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,e.createPortal=ou,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var i=Rs;if(0!==(48&i))return t(e);Rs|=1;try{if(t)return jo(99,t.bind(null,e))}finally{Rs=i,Yo()}},e.hydrate=function(t,e,i){if(!iu(e))throw Error(a(200));return nu(null,t,e,!0,i)},e.render=function(t,e,i){if(!iu(e))throw Error(a(200));return nu(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!iu(t))throw Error(a(40));return!!t._reactRootContainer&&(vl((function(){nu(null,null,t,!1,(function(){t._reactRootContainer=null,t[$n]=null}))})),!0)},e.unstable_batchedUpdates=yl,e.unstable_createPortal=function(t,e){return ou(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!iu(i))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return nu(t,e,i,!1,n)},e.version="17.0.1"},function(t,e,i){"use strict";t.exports=i(45)},function(t,e,i){"use strict";var n,o,r,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var h=null,p=null,c=function t(){if(null!==h)try{var i=e.unstable_now();h(!0,i),h=null}catch(n){throw setTimeout(t,0),n}};n=function(t){null!==h?setTimeout(n,0,t):(h=t,setTimeout(c,0))},o=function(t,e){p=setTimeout(t,e)},r=function(){clearTimeout(p)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,v=-1,C=5,x=0;e.unstable_shouldYield=function(){return e.unstable_now()>=x},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();x=t+C;try{y(!0,t)?w.postMessage(null):(m=!1,y=null)}catch(i){throw w.postMessage(null),i}}else m=!1},n=function(t){y=t,m||(m=!0,w.postMessage(null))},o=function(t,i){v=d((function(){t(e.unstable_now())}),i)},r=function(){f(v),v=-1}}function E(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,o=t[n];if(!(void 0!==o&&0<T(o,e)))break t;t[n]=e,t[i]=o,i=n}}function P(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,o=t.length;n<o;){var r=2*(n+1)-1,a=t[r],s=r+1,l=t[s];if(void 0!==a&&0>T(a,i))void 0!==l&&0>T(l,a)?(t[n]=l,t[s]=i,n=s):(t[n]=a,t[r]=i,n=r);else{if(!(void 0!==l&&0>T(l,i)))break t;t[n]=l,t[s]=i,n=s}}}return e}return null}function T(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var _=[],M=[],R=1,O=null,A=3,D=!1,k=!1,F=!1;function I(t){for(var e=P(M);null!==e;){if(null===e.callback)S(M);else{if(!(e.startTime<=t))break;S(M),e.sortIndex=e.expirationTime,E(_,e)}e=P(M)}}function L(t){if(F=!1,I(t),!k)if(null!==P(_))k=!0,n(N);else{var e=P(M);null!==e&&o(L,e.startTime-t)}}function N(t,i){k=!1,F&&(F=!1,r()),D=!0;var n=A;try{for(I(i),O=P(_);null!==O&&(!(O.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,A=O.priorityLevel;var s=a(O.expirationTime<=i);i=e.unstable_now(),"function"===typeof s?O.callback=s:O===P(_)&&S(_),I(i)}else S(_);O=P(_)}if(null!==O)var l=!0;else{var u=P(M);null!==u&&o(L,u.startTime-i),l=!1}return l}finally{O=null,A=n,D=!1}}var V=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){k||D||(k=!0,n(N))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return P(_)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var i=A;A=e;try{return t()}finally{A=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=A;A=t;try{return e()}finally{A=i}},e.unstable_scheduleCallback=function(t,i,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:R++,callback:i,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,E(M,t),null===P(_)&&t===P(M)&&(F?r():F=!0,o(L,a-s))):(t.sortIndex=l,E(_,t),k||D||(k=!0,n(N))),t},e.unstable_wrapCallback=function(t){var e=A;return function(){var i=A;A=e;try{return t.apply(this,arguments)}finally{A=i}}}},,,,function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this,i=function(){var t=4022871197;return function(e){e=String(e);for(var i=0;i<e.length;i++){var n=.02519603282416938*(t+=e.charCodeAt(i));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=i(" "),e.s1=i(" "),e.s2=i(" "),e.s0-=i(t),e.s0<0&&(e.s0+=1),e.s1-=i(t),e.s1<0&&(e.s1+=1),e.s2-=i(t),e.s2<0&&(e.s2+=1),i=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var i=new a(t),n=e&&e.state,o=i.next;return o.int32=function(){return 4294967296*i.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,n&&("object"==typeof n&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.alea=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var i=new a(t),n=e&&e.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=i.next,o.quick=o,n&&("object"==typeof n&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.xor128=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this,i="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var i=new a(t),n=e&&e.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=i.next,o.quick=o,n&&("object"==typeof n&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.xorwow=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this;e.next=function(){var t,i,n=e.x,o=e.i;return t=n[o],i=(t^=t>>>7)^t<<24,i^=(t=n[o+1&7])^t>>>10,i^=(t=n[o+3&7])^t>>>3,i^=(t=n[o+4&7])^t<<7,t=n[o+7&7],i^=(t^=t<<13)^t<<9,n[o]=i,e.i=o+1&7,i},function(t,e){var i,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,i=0;i<e.length;++i)n[7&i]=n[7&i]<<15^e.charCodeAt(i)+n[i+1&7]<<13;for(;n.length<8;)n.push(0);for(i=0;i<8&&0===n[i];++i);for(8==i?n[7]=-1:n[i],t.x=n,t.i=0,i=256;i>0;--i)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var i=new a(t),n=e&&e.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=i.next,o.quick=o,n&&(n.x&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.xorshift7=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this;e.next=function(){var t,i,n=e.w,o=e.X,r=e.i;return e.w=n=n+1640531527|0,i=o[r+34&127],t=o[r=r+1&127],i^=i<<13,t^=t<<17,i^=i>>>15,t^=t>>>12,i=o[r]=i^t,e.i=r,i+(n^n>>>16)|0},function(t,e){var i,n,o,r,a,s=[],l=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,l=Math.max(l,e.length)),o=0,r=-32;r<l;++r)e&&(n^=e.charCodeAt((r+32)%e.length)),0===r&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,r>=0&&(a=a+1640531527|0,o=0==(i=s[127&r]^=n+a)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,r=512;r>0;--r)n=s[o+34&127],i=s[o=o+1&127],n^=n<<13,i^=i<<17,n^=n>>>15,i^=i>>>12,s[o]=n^i;t.w=a,t.X=s,t.i=o}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var i=new a(t),n=e&&e.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=i.next,o.quick=o,n&&(n.X&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.xor4096=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){(function(t){var n;!function(t,o,r){function a(t){var e=this,i="";e.next=function(){var t=e.b,i=e.c,n=e.d,o=e.a;return t=t<<25^t>>>7^i,i=i-n|0,n=n<<24^n>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^i,e.c=i=i-n|0,e.d=n<<16^i>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):i+=t;for(var n=0;n<i.length+20;n++)e.b^=0|i.charCodeAt(n),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var i=new a(t),n=e&&e.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=i.next,o.quick=o,n&&("object"==typeof n&&s(n,i),o.state=function(){return s(i,{})}),o}o&&o.exports?o.exports=l:i(12)&&i(20)?void 0===(n=function(){return l}.call(e,i,e,o))||(o.exports=n):this.tychei=l}(0,t,i(12))}).call(this,i(19)(t))},function(t,e,i){var n;!function(o,r,a){var s,l=256,u=a.pow(l,6),h=a.pow(2,52),p=2*h,c=255;function d(t,e,i){var n=[],c=y(m((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(r)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(l):(t=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(t)),v(t)}catch(n){var e=o.navigator,i=e&&e.plugins;return[+new Date,o,i,o.screen,v(r)]}}():t,3),n),d=new f(n),C=function(){for(var t=d.g(6),e=u,i=0;t<h;)t=(t+i)*l,e*=l,i=d.g(1);for(;t>=p;)t/=2,e/=2,i>>>=1;return(t+i)/e};return C.int32=function(){return 0|d.g(4)},C.quick=function(){return d.g(4)/4294967296},C.double=C,y(v(d.S),r),(e.pass||i||function(t,e,i,n){return n&&(n.S&&g(n,d),t.state=function(){return g(d,{})}),i?(a.random=t,e):t})(C,c,"global"in e?e.global:this==a,e.state)}function f(t){var e,i=t.length,n=this,o=0,r=n.i=n.j=0,a=n.S=[];for(i||(t=[i++]);o<l;)a[o]=o++;for(o=0;o<l;o++)a[o]=a[r=c&r+t[o%i]+(e=a[o])],a[r]=e;(n.g=function(t){for(var e,i=0,o=n.i,r=n.j,a=n.S;t--;)e=a[o=c&o+1],i=i*l+a[c&(a[o]=a[r=c&r+e])+(a[r]=e)];return n.i=o,n.j=r,i})(l)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var i,n=[],o=typeof t;if(e&&"object"==o)for(i in t)try{n.push(m(t[i],e-1))}catch(r){}return n.length?n:"string"==o?t:t+"\0"}function y(t,e){for(var i,n=t+"",o=0;o<n.length;)e[c&o]=c&(i^=19*e[c&o])+n.charCodeAt(o++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(y(a.random(),r),t.exports){t.exports=d;try{s=i(56)}catch(C){}}else void 0===(n=function(){return d}.call(e,i,e,t))||(t.exports=n)}("undefined"!==typeof self?self:this,[],Math)},,function(t,e,i){var n,o=i(58);!function(){function i(t,e){t.prototype=function(t){function e(){}return e.prototype=t,new e}(e.prototype),t.prototype.constructor=t,t.base=e.prototype}function r(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===i?t.setSeconds(t.getSeconds()+1*e):"minute"===i?t.setMinutes(t.getMinutes()+1*e):"hour"===i?t.setHours(t.getHours()+1*e):"day"===i?t.setDate(t.getDate()+1*e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+1*e):"year"===i&&t.setFullYear(t.getFullYear()+1*e),t}function a(t,e){var i=!1;for(0>t&&(i=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return i?"-"+t:t}function s(t){if(!t)return t;for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function l(t){t.roundRect=function(t,e,i,n,o,r,a,s){a&&(this.fillStyle=a),s&&(this.strokeStyle=s),"undefined"===typeof o&&(o=5),this.lineWidth=r,this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.quadraticCurveTo(t+i,e,t+i,e+o),this.lineTo(t+i,e+n-o),this.quadraticCurveTo(t+i,e+n,t+i-o,e+n),this.lineTo(t+o,e+n),this.quadraticCurveTo(t,e+n,t,e+n-o),this.lineTo(t,e+o),this.quadraticCurveTo(t,e,t+o,e),this.closePath(),a&&this.fill(),s&&0<r&&this.stroke()}}function u(t,e){return t-e}function h(t,e,i){if(t&&e&&i){i=i+"."+e;var n="image/"+e;t=t.toDataURL(n);var o=!1,r=document.createElement("a");if(r.download=i,r.href=t,"undefined"!==typeof Blob&&new Blob){for(var a=t.replace(/^data:[a-z\/]*;base64,/,""),s=(a=atob(a),new ArrayBuffer(a.length)),l=(s=new Uint8Array(s),0);l<a.length;l++)s[l]=a.charCodeAt(l);e=new Blob([s.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,i),o=!0}catch(u){r.dataset.downloadurl=[n,r.download,r.href].join(":"),r.href=window.URL.createObjectURL(e)}}if(!o)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent?r.dispatchEvent(event):r.fireEvent&&r.fireEvent("onclick")}catch(J){(e=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function p(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(e=2>e.length?"0"+e:e)+(i=2>i.length?"0"+i:i)+(t=2>t.length?"0"+t:t)}function c(t,e){var i,n=this.length>>>0;for(0>(i=0>(i=Number(e)||0)?Math.ceil(i):Math.floor(i))&&(i+=n);i<n;i++)if(i in this&&this[i]===t)return i;return-1}function d(t){return null===t||"undefined"===typeof t}function f(t){return t.indexOf||(t.indexOf=c),t}function g(t){H.fSDec&&t[dt("`eeDwdouMhrudods")](dt("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){H._fTWm&&H._fTWm(t)}))}function m(t,e,i){var n=t+"_"+e+"_"+(i=i||"normal"),o=et[n];if(isNaN(o)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";",!it){var r=document.body;(it=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");it.appendChild(a),r.appendChild(it)}it.style.display="",it.setAttribute("style",t),o=Math.round(it.offsetHeight),it.style.display="none"}catch(s){o=Math.ceil(1.1*e)}o=Math.max(o,e),et[n]=o}return o}function y(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var n=0;n<i.length;n++)i[n]*=e;else i=[];return i}function v(t,e,i,n,o){return o=o||!1,(n=n||[]).push([t,e,i,o]),t.addEventListener?(t.addEventListener(e,i,o),i):!!t.attachEvent&&(n=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},i.call(t,e)},t.attachEvent("on"+e,n),n)}function C(t,e,i){for(t*=pt,e*=pt,t=i.getImageData(t,e,2,2).data,e=!0,i=0;4>i;i++)if(t[i]!==t[i+4]|t[i]!==t[i+8]|t[i]!==t[i+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function x(t,e,i){return t in e?e[t]:i[t]}function b(t,e,i){if(z&&lt){var n=t.getContext("2d");ht=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,pt=ut/ht,t.width=e*pt,t.height=i*pt,ut!==ht&&(t.style.width=e+"px",t.style.height=i+"px",n.scale(pt,pt))}else t.width=e,t.height=i}function w(t){if(!gt){var e=!1,i=!1;"undefined"===typeof j.Chart.creditHref?(t.creditHref=dt("iuuqr;..b`ow`rkr/bnl."),t.creditText=dt("B`ow`rKR/bnl")):(e=t.updateOption("creditText"),i=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||i)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function E(t,e){G&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),b(i,t,e),z||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function P(t,e,i){for(var n in i)e.style[n]=i[n]}function S(t,e,i){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",P(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),P(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+mt[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function T(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function _(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function M(t,e,i,n,o){this._defaultsKey=t,this._themeOptionsKey=e,this._index=n,this.parent=o,this._eventListeners=[],t={},this.theme&&d(e)&&d(n)?t=d(Z[this.theme])?Z.light1:Z[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===n?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(n=Math.min(this.parent.themeOptions[e].length-1,n),t=this.parent.themeOptions[e][n])),this.themeOptions=t,this.options=i||{_isPlaceholder:!0},this.setOptions(this.options,t)}function R(t,e,i,n,o){"undefined"===typeof o&&(o=0),this._padding=o,this._x1=t,this._y1=e,this._x2=i,this._y2=n,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function O(t,e){O.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function A(t,e){A.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function D(t,e){if(D.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",d(this.options.margin)&&t.options.subtitles)for(var i=t.options.subtitles,n=0;n<i.length;n++)if((d(i[n].horizontalAlign)&&"center"===this.horizontalAlign||i[n].horizontalAlign===this.horizontalAlign)&&(d(i[n].verticalAlign)&&"top"===this.verticalAlign||i[n].verticalAlign===this.verticalAlign)&&!i[n].dockInsidePlotArea===!this.dockInsidePlotArea){this.margin=0;break}"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function k(t,e,i){k.base.constructor.call(this,"Subtitle","subtitles",e,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function F(){this.pool=[]}function I(t){var e;t&&U[t]&&(e=U[t]),I.base.constructor.call(this,"CultureInfo",null,e,null,null)}var L,N,V,B,W,G=!1,H={},z=!!document.createElement("canvas").getContext,j={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:z?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:z?"transparent":null,borderColor:z?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:z?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:z?"transparent":null,titleBorderColor:z?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:z?"transparent":null,labelBorderColor:z?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:z?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:z?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:z?"grey":null,labelBorderColor:z?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:z?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:z?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:z?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},U={en:{}},Y=z?"Trebuchet MS, Helvetica, sans-serif":"Arial",X=z?"Impact, Charcoal, sans-serif":"Arial",q={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},K={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:X,fontSize:32,fontColor:N="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:J=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:Y,indexLabelFontSize:J,indexLabelFontColor:N,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:L="#666666",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:W=B="#000000",color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};V=N="#F5F5F5",L="#FFFFFF",B="#40BAF1",W="#F5F5F5";var Q={colorSet:"colorSet2",title:{fontFamily:Y,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:Y,indexLabelFontSize:J,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:Y,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};V=N="#F5F5F5",X={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:X,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:J=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:Y,indexLabelFontSize:J,indexLabelFontColor:V,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L="#FFFFFF",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:V,backgroundColor:"rgba(0, 0, 0, .7)"}},V=N="#FAFAFA";var $,J,Z={light1:K,light2:Q,dark1:X,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:Y,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:Y,indexLabelFontSize:J,indexLabelFontColor:V,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L="#FFFFFF",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:0,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:V,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:J,labelFontColor:V,labelFontWeight:"normal",lineThickness:0,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:W,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:V,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:K,theme2:Q,theme3:K},tt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};H.fSDec=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e},H.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete j[H.fSDec("Bi`su")][H.fSDec("bsdehuIsdg")],H.pro={sCH:j[H.fSDec("Bi`su")][H.fSDec("bsdehuIsdg")]},H._fTWm=function(t){if("undefined"===typeof H.pro.sCH&&!ft)try{var e=t[H.fSDec(H.obj.cntx)];e[H.fSDec(H.obj.txtBl)]=H.fSDec(H.obj.tp),e[H.fSDec(H.obj.fnt)]=11+H.fSDec(H.obj.fntStr),e[H.fSDec(H.obj.fSy)]=H.fSDec(H.obj.grClr),e[H.fSDec(H.obj.fTx)](H.fSDec(H.obj.trVs),2,t.height-11-2)}catch(z){}};var et={},it=null,nt=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ot=function(t,e,i){return e=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))},rt=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="Sun Mon Tue Wed Thu Fri Sat".split(" "),n="January February March April May June July August September October November December".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,u,h){var p=h?h.days:e,c=h?h.months:n,d=h?h.shortDays:i,f=h?h.shortMonths:o;h="";var g=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===u.slice(0,4)&&(u=u.slice(4),g=!0);var m=l[(h=g?"getUTC":"get")+"Date"](),y=l[h+"Day"](),v=l[h+"Month"](),C=l[h+"FullYear"](),x=l[h+"Hours"](),b=l[h+"Minutes"](),w=l[h+"Seconds"](),E=l[h+"Milliseconds"](),P=g?0:l.getTimezoneOffset();return u.replace(t,(function(t){switch(t){case"D":return m;case"DD":return a(m,2);case"DDD":return d[y];case"DDDD":return p[y];case"M":return v+1;case"MM":return a(v+1,2);case"MMM":return f[v];case"MMMM":return c[v];case"Y":return parseInt(String(C).slice(-2));case"YY":return a(String(C).slice(-2),2);case"YYY":return a(String(C).slice(-3),3);case"YYYY":return a(C,4);case"h":return x%12||12;case"hh":return a(x%12||12,2);case"H":return x;case"HH":return a(x,2);case"m":return b;case"mm":return a(b,2);case"s":return w;case"ss":return a(w,2);case"f":return String(E).slice(0,1);case"ff":return a(String(E).slice(0,2),2);case"fff":return a(String(E).slice(0,3),3);case"t":return 12>x?"a":"p";case"tt":return 12>x?"am":"pm";case"T":return 12>x?"A":"P";case"TT":return 12>x?"AM":"PM";case"K":return g?"UTC":(String(l).match(r)||[""]).pop().replace(s,"");case"z":return(0<P?"-":"+")+Math.floor(Math.abs(P)/60);case"zz":return(0<P?"-":"+")+a(Math.floor(Math.abs(P)/60),2);case"zzz":return(0<P?"-":"+")+a(Math.floor(Math.abs(P)/60),2)+a(Math.abs(P)%60,2);default:return t.slice(1,t.length-1)}}))}}(),at=function(t,e,i){if(null===t)return"";if(!isFinite(t))return t;var n=0>(t=Number(t));n&&(t*=-1);var o=i?i.decimalSeparator:".",r=i?i.digitGroupSeparator:",",s="";e=String(e);s=1;var l=i="",u=-1,h=[],p=[],c=0,d=0,f=0,g=!1,m=0;l=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);e=null;for(var y=0;l&&y<l.length;y++)if("."===(e=l[y])&&0>u)u=y;else{if("%"===e)s*=100;else{if("\u2030"===e){s*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){s/=Math.pow(1e3,e.length-1),u=y+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(g=!0)}0>u?(h.push(e),"#"===e||"0"===e?c++:","===e&&f++):(p.push(e),"#"!==e&&"0"!==e||d++)}for(g&&(e=Math.floor(t),l=-Math.floor(Math.log(t)/Math.LN10+1),m=0===t?0:0===e?-(c+l):String(e).length-c,s/=Math.pow(10,m)),0>u&&(u=y),e=(s=(t*s).toFixed(d)).split("."),s=(e[0]+"").split(""),t=(e[1]+"").split(""),s&&"0"===s[0]&&s.shift(),g=l=y=d=u=0;0<h.length;)if("#"===(e=h.pop())||"0"===e)if(++u===c){var v=s;s=[];if("0"===e)for(e=c-d-(v?v.length:0);0<e;)v.unshift("0"),e--;for(;0<v.length;)i=v.pop()+i,0===++g%l&&y===f&&0<v.length&&(i=r+i)}else 0<s.length?(i=s.pop()+i,d++,g++):"0"===e&&(i="0"+i,d++,g++),0===g%l&&y===f&&0<s.length&&(i=r+i);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(y++,l=g,g=0,0<s.length&&(i=r+i)):i=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+i:e+i:i+=(e=0>m?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return a(m,t.length)}));for(r="",h=!1;0<p.length;)"#"===(e=p.shift())||"0"===e?0<t.length&&0!==Number(t.join(""))?(r+=t.shift(),h=!0):"0"===e&&(r+="0",h=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?r+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?r+=e:r+=(e=0>m?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return a(m,t.length)}));return i+=(h?o:"")+r,n?"-"+i:i},st=function(t){var e=0,i=0;return(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,i=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,i=t.layerY):(e=t.pageX-t.target.offsetLeft,i=t.pageY-t.target.offsetTop),{x:e,y:i}},lt=!0,ut=window.devicePixelRatio||1,ht=1,pt=lt?ut/ht:1,ct=function(t,e,i,n,o,r,a,s,l,u,h,p,c){"undefined"===typeof c&&(c=1),a=a||0,s=s||"black";var d=15<n-e&&15<o-i?8:.35*Math.min(n-e,o-i);t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=r,t.globalAlpha=c,t.fillRect(e,i,n-e,o-i),t.globalAlpha=1,0<a&&(c=0===a%2?0:.5,t.beginPath(),t.lineWidth=a,t.strokeStyle=s,t.moveTo(e,i),t.rect(e-c,i-c,n-e+2*c,o-i+2*c),t.stroke()),t.restore(),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+d,i+d),t.lineTo(n-d,i+d),t.lineTo(n,i),t.closePath(),(a=t.createLinearGradient((n+e)/2,i+d,(n+e)/2,i)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===u&&(t.save(),t.beginPath(),t.moveTo(e,o),t.lineTo(e+d,o-d),t.lineTo(n-d,o-d),t.lineTo(n,o),t.closePath(),(a=t.createLinearGradient((n+e)/2,o-d,(n+e)/2,o)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+d,i+d),t.lineTo(e+d,o-d),t.lineTo(e,o),t.closePath(),(a=t.createLinearGradient(e+d,(o+i)/2,e,(o+i)/2)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.restore()),!0===p&&(t.save(),t.beginPath(),t.moveTo(n,i),t.lineTo(n-d,i+d),t.lineTo(n-d,o-d),t.lineTo(n,o),(a=t.createLinearGradient(n-d,(o+i)/2,n,(o+i)/2)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,a.addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.closePath(),t.restore())},dt=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e},ft=window&&window[dt("mnb`uhno")]&&window[dt("mnb`uhno")].href&&window[dt("mnb`uhno")].href.indexOf&&(-1!==window[dt("mnb`uhno")].href.indexOf(dt("b`ow`rkr/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gdonqhy/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gheemd"))),gt=ft&&-1===window[dt("mnb`uhno")].href.indexOf(dt("gheemd")),mt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};M.prototype.setOptions=function(t,e){if(j[this._defaultsKey]){var i,n=j[this._defaultsKey];for(i in n)"publicProperties"!==i&&n.hasOwnProperty(i)&&(this[i]=t&&i in t?t[i]:e&&i in e?e[i]:n[i])}else G&&window.console&&console.log("defaults not set")},M.prototype.get=function(t){var e=j[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},M.prototype.set=function(t,e,i){i="undefined"===typeof i||i;var n=j[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(n.hasOwnProperty(t)||n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readWrite"===n.publicProperties[t]))return void(window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readOnly"===n.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}i&&(this.stockChart||this.chart||this).render()},M.prototype.addTo=function(t,e,i,n){n="undefined"===typeof n||n;var o=j[this._defaultsKey];o.hasOwnProperty(t)||o.publicProperties&&o.publicProperties.hasOwnProperty(t)&&"readWrite"===o.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),"undefined"===typeof this.options[t]&&(this.options[t]=[]),t=this.options[t],i="undefined"===typeof i||null===i?t.length:i,t.splice(i,0,e),n&&(this.chart||this).render()):window.console&&(o.publicProperties&&o.publicProperties.hasOwnProperty(t)&&"readOnly"===o.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},M.prototype.createUserOptions=function(t){if("undefined"!==typeof t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],i=e.length;this.options._isPlaceholder||(f(e),i=e.indexOf(this.options)),this.options="undefined"===typeof t?{}:t,e[i]=this.options}else this.options="undefined"===typeof t?{}:t,t=this.parent.options,this.optionsName?e=this.optionsName:(e=this._defaultsKey)&&0!==e.length?(i=e.charAt(0).toLowerCase(),1<e.length&&(i=i.concat(e.slice(1))),e=i):e=void 0,t[e]=this.options},M.prototype.remove=function(t){if(t="undefined"===typeof t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];f(e);var i=e.indexOf(this.options);0<=i&&e.splice(i,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},M.prototype.updateOption=function(t){!j[this._defaultsKey]&&G&&window.console&&console.log("defaults not set");var e=j[this._defaultsKey],i={},n=this[t],o=this._themeOptionsKey,r=this._index;return this.theme&&d(o)&&d(r)?i=d(Z[this.theme])?Z.light1:Z[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[o]&&(null===r?i=this.parent.themeOptions[o]:0<this.parent.themeOptions[o].length&&(i=Math.min(this.parent.themeOptions[o].length-1,r),i=this.parent.themeOptions[o][i])),this.themeOptions=i,t in e&&(n=t in this.options?this.options[t]:i&&t in i?i[t]:e[t]),n!==this[t]&&(this[t]=n,!0)},M.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},M.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},M.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},M.prototype.addEventListener=function(t,e,i){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i||this,eventHandler:e}))},M.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],n=0;n<i.length;n++)if(i[n].eventHandler===e){i[n].splice(n,1);break}},M.prototype.removeAllEventListeners=function(){this._eventListeners=[]},M.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var n=this._eventListeners[t],o=0;o<n.length;o++)n[o].eventHandler.call(n[o].context,e)}"function"===typeof this[t]&&this[t].call(i||this.chart,e)},R.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},R.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},R.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},R.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},i(O,M),O.prototype._initialize=function(){d(this.padding)||"object"!==typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=d(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=d(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=d(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=d(this.padding.left)?0:0|Number(this.padding.left))},O.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var n=0,o=this.topPadding,r=null;for(this.ctx.roundRect||l(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,i=0;i<this._wrappedText.lines.length;i++)r=this._wrappedText.lines[i],"right"===this.horizontalAlign?n=(this.width-(this.leftPadding+this.rightPadding))/2-r.width/2+this.leftPadding:"left"===this.horizontalAlign?n=this.leftPadding:"center"===this.horizontalAlign&&(n=(this.width-(this.leftPadding+this.rightPadding))/2-r.width/2+this.leftPadding),this.ctx.fillText(r.text,n,o),o+=r.height;this.ctx.font=e,t&&this.ctx.restore()}},O.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},O.prototype.measureText=function(){if(this._lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},O.prototype._getLineWithWidth=function(t,e,i){if(!(t=String(t)))return{text:"",width:0};var n=i=0,o=t.length-1,r=1/0;for(this.ctx.font=this._getFontString();n<=o;){r=Math.floor((n+o)/2);var a=t.substr(0,r+1);if((i=this.ctx.measureText(a).width)<e)n=r+1;else{if(!(i>e))break;o=r-1}}return i>e&&1<a.length&&(a=a.substr(0,a.length-1),i=this.ctx.measureText(a).width),e=!0,a.length!==t.length&&" "!==t[a.length]||(e=!1),e&&(1<(t=a.split(" ")).length&&t.pop(),a=t.join(" "),i=this.ctx.measureText(a).width),{text:a,width:i}},O.prototype._wrapText=function(){var t=new String(s(String(this.text))),e=[],i=this.ctx.font,n=0,o=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)o=n=0;else for(;0<t.length;){var r=this.maxHeight-(this.topPadding+this.bottomPadding),a=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);a.height=this._lineHeight,e.push(a);var l=o;o=Math.max(o,a.width),n=n+a.height,t=s(t.slice(a.text.length,t.length));r&&n>r&&(n-=(a=e.pop()).height,o=l)}this._wrappedText={lines:e,width:o,height:n},this.width=o+(this.leftPadding+this.rightPadding),this.height=n+(this.topPadding+this.bottomPadding),this.ctx.font=i},O.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!z&&e&&("'"!==(e=e.split(",")[0])[0]&&'"'!==e[0]&&(e="'"+e+"'")),t+e},i(A,M),i(D,M),D.prototype.setLayout=function(){if(this.text){var t,e,i,n=this.dockInsidePlotArea?this.chart.plotArea:this.chart,o=n.layoutManager.getFreeSpace(),r=o.x1,a=o.y1,s=0,l=0,u=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=o.width-4-u*("center"===this.horizontalAlign?2:1)),l=.5*o.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=o.height-4),l=.5*o.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=o.width-4),l=.5*o.height-4)),d(this.padding)||"number"!==typeof this.padding?d(this.padding)||"object"!==typeof this.padding||(i=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,i+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,i*=1.25):i=2.5*this.padding,this.wrap||(l=Math.min(l,Math.max(1.5*this.fontSize,this.fontSize+i))),i=(l=new O(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:l,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=o.y1+2,e="top"):"bottom"===this.verticalAlign&&(a=o.y2-2-i.height,e="bottom"),"left"===this.horizontalAlign?r=o.x1+2:"center"===this.horizontalAlign?r=o.x1+o.width/2-i.width/2:"right"===this.horizontalAlign&&(r=o.x2-2-i.width-u),t=this.horizontalAlign,this.width=i.width,this.height=i.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(r=o.x1+2,a=o.y2-2-(this.maxWidth/2-i.width/2),s=-90,e="left",this.width=i.height,this.height=i.width):"right"===this.horizontalAlign?(r=o.x2-2,a=o.y1+2+(this.maxWidth/2-i.width/2),s=90,e="right",this.width=i.height,this.height=i.width):"center"===this.horizontalAlign&&(a=n.y1+(n.height/2-i.height/2),r=n.x1+(n.width/2-i.width/2),e="center",this.width=i.width,this.height=i.height),t="center"),l.x=r,l.y=a,l.angle=s,l.horizontalAlign=t,this._textBlock=l,n.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:r,y1:a,x2:r+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},D.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},i(k,M),k.prototype.setLayout=D.prototype.setLayout,k.prototype.render=D.prototype.render,F.prototype.get=function(t,e){var i=null;return 0<this.pool.length?b(i=this.pool.pop(),t,e):i=E(t,e),i},F.prototype.release=function(t){this.pool.push(t)},i(I,M);var yt={addTheme:function(t,e){Z[t]=e},addColorSet:function(t,e){q[t]=e},addCultureInfo:function(t,e){U[t]=e},formatNumber:function(t,e,i){if(U[i=i||"en"])return at(t,e||"#,##0.##",new I(i));throw"Unknown Culture Name"},formatDate:function(t,e,i){if(U[i=i||"en"])return rt(t,e||"DD MMM YYYY",new I(i));throw"Unknown Culture Name"}};"undefined"!==typeof t.exports?t.exports=yt:void 0===(n=function(){return yt}.apply(e,[]))||(t.exports=n),yt.Chart=function(){function t(t,e){return t.x-e.x}function e(t,i){i=i||{},this.theme=d(i.theme)||d(Z[i.theme])?"light1":i.theme,e.base.constructor.call(this,"Chart",null,i,null,null);var n=this;if(this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new F,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"===typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var o=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,r=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=o,this.height=r,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet="undefined"!==typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",z||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=E(o,r),this._preRenderCanvas=E(o,r),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",l(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",l(this._preRenderCtx),z?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=E(o,r),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=E(o,r),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",l(this.overlaidCanvasCtx)),this._eventManager=new X(this),this.windowResizeHandler=v(window,"resize",(function(){n._updateSize()&&n.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},v(this.overlaidCanvas,"click",(function(t){n._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousemove",(function(t){n._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseup",(function(t){n._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousedown",(function(t){n._mouseEventHandler(t),_(n._dropdownMenu)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseout",(function(t){n._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(t){n._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(t){n._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(t){n._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(t){n._touchEventHandler(t)}),this.allDOMEventHandlers),this.toolTip=new Y(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function n(t,e){for(var i,n=[],o=0;o<t.length;o++)if(0==o)n.push(t[0]);else{var r,a,s;r=0===(s=o-1)?0:s-1,a=s===t.length-1?s:s+1,i=Math.abs((t[a].x-t[r].x)/(0===t[a].x-t[s].x?.01:t[a].x-t[s].x))*(e-1)/2+1;var l=(t[a].x-t[r].x)/i;i=(t[a].y-t[r].y)/i,n[n.length]=t[s].x>t[r].x&&0<l||t[s].x<t[r].x&&0>l?{x:t[s].x+l/3,y:t[s].y+i/3}:{x:t[s].x,y:t[s].y+i/9},r=0===(s=o)?0:s-1,a=s===t.length-1?s:s+1,i=Math.abs((t[a].x-t[r].x)/(0===t[s].x-t[r].x?.01:t[s].x-t[r].x))*(e-1)/2+1,l=(t[a].x-t[r].x)/i,i=(t[a].y-t[r].y)/i,n[n.length]=t[s].x>t[r].x&&0<l||t[s].x<t[r].x&&0>l?{x:t[s].x-l/3,y:t[s].y-i/3}:{x:t[s].x,y:t[s].y-i/9},n[n.length]=t[o]}return n}function a(t,e,i,n,o,r,a,s,l,u){var h=0;u?(a.color=r,s.color=r):u=1,h=l?Math.abs(o-i):Math.abs(n-e),h=0<a.trimLength?Math.abs(h*a.trimLength/100):Math.abs(h-a.length),l?(i+=h/2,o-=h/2):(e+=h/2,n-=h/2);h=1===Math.round(a.thickness)%2?.5:0;var p=1===Math.round(s.thickness)%2?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=s.color||r,t.lineWidth=s.thickness||2,t.setLineDash&&t.setLineDash(y(s.dashType,s.thickness)),t.beginPath(),l&&0<s.thickness?(t.moveTo(n-a.thickness/2,Math.round((i+o)/2)-p),t.lineTo(e+a.thickness/2,Math.round((i+o)/2)-p)):0<s.thickness&&(t.moveTo(Math.round((e+n)/2)-p,i+a.thickness/2),t.lineTo(Math.round((e+n)/2)-p,o-a.thickness/2)),t.stroke(),t.strokeStyle=a.color||r,t.lineWidth=a.thickness||2,t.setLineDash&&t.setLineDash(y(a.dashType,a.thickness)),t.beginPath(),l&&0<a.thickness?(t.moveTo(n-h,i),t.lineTo(n-h,o),t.moveTo(e+h,i),t.lineTo(e+h,o)):0<a.thickness&&(t.moveTo(e,i+h),t.lineTo(n,i+h),t.moveTo(e,o-h),t.lineTo(n,o-h)),t.stroke(),t.restore()}function c(t,e,i,n,o){return null===t||"undefined"===typeof t?"undefined"===typeof i?e:i:(t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1),"undefined"!==typeof n&&(t=Math.min(n,t),"undefined"!==typeof o&&(t=Math.max(o,t))),!isNaN(t)&&t<=e&&0<=t?t:"undefined"===typeof i?e:i)}function L(t,e){L.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function N(t,e,i,n){for(N.base.constructor.call(this,"DataSeries","data",e,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=n,this.chart._eventManager.objectMap[n]={id:n,objectType:"dataSeries",dataSeriesIndex:i},t=e.dataPoints?e.dataPoints.length:0,this.dataPointEOs=[],e=0;e<t;e++)this.dataPointEOs[e]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"===typeof this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function V(t,e,i,n,o,r){if(V.base.constructor.call(this,"Axis",e,i,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===o?("left"===r||"bottom"===r?(this.optionsName="axisX",d(this.chart.sessionVariables.axisX[n])&&(this.chart.sessionVariables.axisX[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX[n]):(this.optionsName="axisX2",d(this.chart.sessionVariables.axisX2[n])&&(this.chart.sessionVariables.axisX2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[n]),this.options.interval||(this.intervalType=null)):"left"===r||"bottom"===r?(this.optionsName="axisY",d(this.chart.sessionVariables.axisY[n])&&(this.chart.sessionVariables.axisY[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY[n]):(this.optionsName="axisY2",d(this.chart.sessionVariables.axisY2[n])&&(this.chart.sessionVariables.axisY2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[n]),"undefined"===typeof this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"===typeof this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=o,"axisX"!==o||i&&"undefined"!==typeof i.gridThickness||(this.gridThickness=0),this._position=r,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new B(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new j(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new U(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function B(t,e,i,n){if(B.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,n),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"===typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!==typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new W(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"===typeof this.customBreaks[t].startValue&&"number"===typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue})),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function W(t,e,i,n,o,r){W.base.constructor.call(this,"Break",e,i,n,r),this.id=o,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=r,this.optionsName=e,this.isOptionsInArray=!0,this.type=i.type?this.type:r.type,this.fillOpacity=d(i.fillOpacity)?r.fillOpacity:this.fillOpacity,this.lineThickness=d(i.lineThickness)?r.lineThickness:this.lineThickness,this.color=i.color?this.color:r.color,this.lineColor=i.lineColor?this.lineColor:r.lineColor,this.lineDashType=i.lineDashType?this.lineDashType:r.lineDashType,!d(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!d(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"===typeof this.startValue&&"number"===typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing="undefined"===typeof i.spacing?r.spacing:i.spacing,"string"===typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!==typeof this.options.spacing&&(this.spacing=r.spacing),this.size=r.parent.logarithmic?1:0}function j(t,e,i,n,o){j.base.constructor.call(this,"StripLine","stripLines",e,i,o),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=o,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=o.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function U(t,e,i){U.base.constructor.call(this,"Crosshair","crosshair",e,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function Y(t,e){Y.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function X(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=E(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function K(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}i(e,M),e.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e=0;e<t.length;e++){var i=t[e][0],n=t[e][1],o=t[e][2],r=(r=t[e][3])||!1;i.removeEventListener?i.removeEventListener(n,o,r):i.detachEvent&&i.detachEvent("on"+n,o)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},e.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!==typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new I(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&z,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var e=!1;_(this._zoomButton=document.createElement("button")),S(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,v(this._zoomButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._zoomButton,"click",(function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,S(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,S(t,t._zoomButton,"pan")),t.render()}),this.allDOMEventHandlers),v(this._zoomButton,"mouseover",(function(){e?e=!1:(P(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&P(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._zoomButton,"mouseout",(function(){e||(P(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&P(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(e=!1,_(this._resetButton=document.createElement("button")),S(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),v(this._resetButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._resetButton,"click",(function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,S(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),_(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset"),t.syncCharts&&t.syncCharts(null,null)}),this.allDOMEventHandlers),v(this._resetButton,"mouseover",(function(){e||(P(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&P(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._resetButton,"mouseout",(function(){e||(P(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&P(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),T(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?T(this._menuButton):_(this._menuButton):this.exportEnabled&&z&&(e=!1,this._menuButton=document.createElement("button"),S(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),v(this._menuButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._menuButton,"click",(function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseover",(function(){e||(P(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&P(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseout",(function(){e||(P(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&P(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&z){e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var i=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+i,t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),v(this._dropdownMenu,"blur",(function(){_(t._dropdownMenu),t._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.printText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){t.print(),_(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.saveJPGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){h(t.canvas,"jpeg",t.exportFileName),_(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.savePNGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){h(t.canvas,"png",t.exportFileName),_(t._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var n in"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?S(t,t._zoomButton,"zoom"):S(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&S(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(n)&&this.toolTip.updateOption(n)},e.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var e=0,i=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?i=this.height:this.height=i=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==e*pt||this.canvas.height!==i*pt){for(var n=0;n<t.length;n++)b(t[n],e,i);t=!0}else t=!1;return t},e.prototype._initialize=function(){this.isNavigator=!d(this.parent)&&!d(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new A(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new K(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=z&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new R(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var i=0,n=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(i++,!this.options.data[o].type||0<=e._supportedChartTypes.indexOf(this.options.data[o].type)){var r=new N(this,this.options.data[o],i-1,++this._eventManager.lastObjectId);"error"===r.type&&(r.linkedDataSeriesIndex=d(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>r.linkedDataSeriesIndex||r.linkedDataSeriesIndex>=this.options.data.length||"number"!==typeof r.linkedDataSeriesIndex||"error"===this.options.data[r.linkedDataSeriesIndex].type)&&(r.linkedDataSeriesIndex=null),null===r.name&&(r.name="DataSeries "+i),null===r.color?1<this.options.data.length?(r._colorSet=[this._selectedColorSet[r.index%this._selectedColorSet.length]],r.color=this._selectedColorSet[r.index%this._selectedColorSet.length]):r._colorSet="line"===r.type||"stepLine"===r.type||"spline"===r.type||"area"===r.type||"stepArea"===r.type||"splineArea"===r.type||"stackedArea"===r.type||"stackedArea100"===r.type||"rangeArea"===r.type||"rangeSplineArea"===r.type||"candlestick"===r.type||"ohlc"===r.type||"waterfall"===r.type||"boxAndWhisker"===r.type?[this._selectedColorSet[0]]:this._selectedColorSet:r._colorSet=[r.color],null===r.markerSize&&(("line"===r.type||"stepLine"===r.type||"spline"===r.type||0<=r.type.toLowerCase().indexOf("area"))&&r.dataPoints&&r.dataPoints.length<this.width/16||"scatter"===r.type)&&(r.markerSize=8),"bubble"!==r.type&&"scatter"!==r.type||!r.dataPoints||(r.dataPoints.some?r.dataPoints.some((function(t){return t.x}))&&r.dataPoints.sort(t):r.dataPoints.sort(t)),this.data.push(r);var a,s=r.axisPlacement;n=n||s;if("normal"===s?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===s&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+r.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(o=0;o<this.data.length;o++){if("none"==n&&"error"===this.data[o].type&&window.console)return void window.console.log('You cannot combine "'+r.type+'" with error chart');"error"===this.data[o].type&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=n||"normal",this.data[o]._linkedSeries=null===this.data[o].linkedDataSeriesIndex?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},e._supportedChartTypes=f("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),e.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[i]=new V(this,"axisY",this.options.axisY[i],i,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[i]=new V(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new V(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new V(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[i]=new V(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[i]=new V(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new V(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new V(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[i]=new V(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[i]=new V(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new V(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new V(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[i]=new V(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[i]=new V(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new V(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new V(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(i=1;i<this.axisY.length;i++)"undefined"===typeof this.axisY[i].options.gridThickness&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)"undefined"===typeof this.axisY[i].options.margin&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)"undefined"===typeof this.axisY2[i].options.gridThickness&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)"undefined"===typeof this.axisY2[i].options.margin&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&"undefined"===typeof this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&"undefined"===typeof this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)"undefined"===typeof this.axisX[i].options.gridThickness&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)"undefined"===typeof this.axisX2[i].options.gridThickness&&(this.axisX2[i].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&"undefined"===typeof this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&"undefined"===typeof this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),i=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){i=!0;break}if(i?(T(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(_(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),g(this),this._processData(),this.options.title&&(this.title=new D(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++)i=new k(this,this.options.subtitles[e],e),this.subtitles.push(i),i.dockInsidePlotArea?t.push(i):i.setLayout();for(this.legend=new L(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){z?(this._breaksCanvas=E(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=E(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||V.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},e.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)V.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].setLayout(),t[e].render();var i=[];if(this.animatedRender){var n=E(this.width,this.height);n.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}w(this);var o;t=this.ctx.miterLimit;for(this.ctx.miterLimit=3,z&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var r=this.plotInfo.plotTypes[e],a=0;a<r.plotUnits.length;a++){var s=r.plotUnits[a],l=null;s.targetCanvas=null,this.animatedRender&&(s.targetCanvas=E(this.width,this.height),s.targetCanvasCtx=s.targetCanvas.getContext("2d"),o=s.targetCanvasCtx.miterLimit,s.targetCanvasCtx.miterLimit=3),"line"===s.type?l=this.renderLine(s):"stepLine"===s.type?l=this.renderStepLine(s):"spline"===s.type?l=this.renderSpline(s):"column"===s.type?l=this.renderColumn(s):"bar"===s.type?l=this.renderBar(s):"area"===s.type?l=this.renderArea(s):"stepArea"===s.type?l=this.renderStepArea(s):"splineArea"===s.type?l=this.renderSplineArea(s):"stackedColumn"===s.type?l=this.renderStackedColumn(s):"stackedColumn100"===s.type?l=this.renderStackedColumn100(s):"stackedBar"===s.type?l=this.renderStackedBar(s):"stackedBar100"===s.type?l=this.renderStackedBar100(s):"stackedArea"===s.type?l=this.renderStackedArea(s):"stackedArea100"===s.type?l=this.renderStackedArea100(s):"bubble"===s.type?l=l=this.renderBubble(s):"scatter"===s.type?l=this.renderScatter(s):"pie"===s.type||"doughnut"===s.type?this.renderPie(s):"funnel"===s.type||"pyramid"===s.type?l=this.renderFunnel(s):"candlestick"===s.type||"ohlc"===s.type?l=this.renderCandlestick(s):"rangeColumn"===s.type?l=this.renderRangeColumn(s):"error"===s.type?l=this.renderError(s):"rangeBar"===s.type?l=this.renderRangeBar(s):"rangeArea"===s.type?l=this.renderRangeArea(s):"rangeSplineArea"===s.type?l=this.renderRangeSplineArea(s):"waterfall"===s.type?l=this.renderWaterfall(s):"boxAndWhisker"===s.type&&(l=this.renderBoxAndWhisker(s));for(var u=0;u<s.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[s.dataSeriesIndexes[u]]);this.animatedRender&&(s.targetCanvasCtx.miterLimit=o,l&&i.push(l))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(o=E(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(o)));var h=this;if(0<i.length)h.disableToolTip=!0,h._animator.animate(200,h.animationDuration,(function(t){h.ctx.clearRect(0,0,h.width,h.height),h.ctx.drawImage(n,0,0,Math.floor(h.width*pt),Math.floor(h.height*pt),0,0,h.width,h.height);for(var e=0;e<i.length;e++)l=i[e],1>t&&"undefined"!==typeof l.startTimePercent?t>=l.startTimePercent&&l.animationCallback(l.easingFunction(t-l.startTimePercent,0,1,1-l.startTimePercent),l):l.animationCallback(l.easingFunction(t,0,1,1),l);h.dispatchEvent("dataAnimationIterationEnd",{chart:h})}),(function(){i=[];for(var t=0;t<h.plotInfo.plotTypes.length;t++)for(var e=h.plotInfo.plotTypes[t],o=0;o<e.plotUnits.length;o++)e.plotUnits[o].targetCanvas=null;n=null,h.disableToolTip=!1}));else{if(h._breaksCanvas)if(z)h.plotArea.ctx.drawImage(h._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<h._axes.length;u++)h._axes[u].createMask();0<h._indexLabels.length&&h.renderIndexLabels(),h.dispatchEvent("dataAnimationIterationEnd",{chart:h})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||_(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,G&&(h=this,setTimeout((function(){var t=document.getElementById("ghostCanvasCopy");t&&(b(t,h.width,h.height),t.getContext("2d").drawImage(h._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)},e.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},e.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},e.prototype.categoriseDataSeries=function(){for(var t="",i=0;i<this.data.length;i++)if((t=this.data[i]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=e._supportedChartTypes.indexOf(t.type)){for(var n=null,o=!1,r=null,a=!1,s=0;s<this.plotInfo.plotTypes.length;s++)if(this.plotInfo.plotTypes[s].type===t.type){o=!0,n=this.plotInfo.plotTypes[s];break}for(o||(n={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(n)),s=0;s<n.plotUnits.length;s++)if(n.plotUnits[s].axisYType===t.axisYType&&n.plotUnits[s].axisXType===t.axisXType&&n.plotUnits[s].axisYIndex===t.axisYIndex&&n.plotUnits[s].axisXIndex===t.axisXIndex){a=!0,r=n.plotUnits[s];break}a||(r={type:t.type,previousDataSeriesCount:0,index:n.plotUnits.length,plotType:n,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},n.plotUnits.push(r)),n.totalDataSeries++,r.dataSeriesIndexes.push(i),t.plotUnit=r}for(i=0;i<this.plotInfo.plotTypes.length;i++)for(n=this.plotInfo.plotTypes[i],s=t=0;s<n.plotUnits.length;s++)n.plotUnits[s].previousDataSeriesCount=t,t+=n.plotUnits[s].dataSeriesIndexes.length},e.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,n=0;n<i;n++)e.dataPointIds[n]=++this._eventManager.lastObjectId}},e.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var n=e.plotUnits[i];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type||"boxAndWhisker"===n.type?this._processMultiYPlotUnit(n):"waterfall"===n.type&&this._processSpecificPlotUnit(n)}this.calculateAutoBreaks()},e.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n=t.axisY.dataInfo,o=t.axisX.dataInfo,r=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s,l=this.data[t.dataSeriesIndexes[a]],u=0,h=!1,p=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var c=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,d=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[u].x&&l.dataPoints[u].x.getTime||"dateTime"===l.xValueType)&&(r=!0),u=0;u<l.dataPoints.length;u++){if("undefined"===typeof l.dataPoints[u].x&&(l.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),l.dataPoints[u].x.getTime?(r=!0,e=l.dataPoints[u].x.getTime()):e=l.dataPoints[u].x,i=l.dataPoints[u].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),i<n.min&&"number"===typeof i&&(n.min=i),i>n.max&&"number"===typeof i&&(n.max=i),0<u){if(t.axisX.logarithmic){var f=e/l.dataPoints[u-1].x;1>f&&(f=1/f),o.minDiff>f&&1!==f&&(o.minDiff=f)}else 0>(f=e-l.dataPoints[u-1].x)&&(f*=-1),o.minDiff>f&&0!==f&&(o.minDiff=f);null!==i&&null!==l.dataPoints[u-1].y&&(t.axisY.logarithmic?(1>(f=i/l.dataPoints[u-1].y)&&(f=1/f),n.minDiff>f&&1!==f&&(n.minDiff=f)):(0>(f=i-l.dataPoints[u-1].y)&&(f*=-1),n.minDiff>f&&0!==f&&(n.minDiff=f)))}if(e<c&&!h)null!==i&&(s=e);else{if(!h&&(h=!0,0<u)){u-=2;continue}if(e>d&&!p)p=!0;else if(e>d&&p)continue;l.dataPoints[u].label&&(t.axisX.labels[e]=l.dataPoints[u].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===i?o.viewPortMin===e&&s<e&&(o.viewPortMin=s):(i<n.viewPortMin&&"number"===typeof i&&(n.viewPortMin=i),i>n.viewPortMax&&"number"===typeof i&&(n.viewPortMax=i))}}l.axisX.valueType=l.xValueType=r?"dateTime":"number"}},e.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,o=t.axisX.dataInfo,r=!1,a=[],s=[],l=1/0,u=-1/0,h=0;h<t.dataSeriesIndexes.length;h++){var p,c=this.data[t.dataSeriesIndexes[h]],f=0,g=!1,m=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var y=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[f].x&&c.dataPoints[f].x.getTime||"dateTime"===c.xValueType)&&(r=!0),f=0;f<c.dataPoints.length;f++){if("undefined"===typeof c.dataPoints[f].x&&(c.dataPoints[f].x=f+(t.axisX.logarithmic?1:0)),c.dataPoints[f].x.getTime?(r=!0,e=c.dataPoints[f].x.getTime()):e=c.dataPoints[f].x,i=d(c.dataPoints[f].y)?0:c.dataPoints[f].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),0<f){if(t.axisX.logarithmic){var C=e/c.dataPoints[f-1].x;1>C&&(C=1/C),o.minDiff>C&&1!==C&&(o.minDiff=C)}else 0>(C=e-c.dataPoints[f-1].x)&&(C*=-1),o.minDiff>C&&0!==C&&(o.minDiff=C);null!==i&&null!==c.dataPoints[f-1].y&&(t.axisY.logarithmic?0<i&&(1>(C=i/c.dataPoints[f-1].y)&&(C=1/C),n.minDiff>C&&1!==C&&(n.minDiff=C)):(0>(C=i-c.dataPoints[f-1].y)&&(C*=-1),n.minDiff>C&&0!==C&&(n.minDiff=C)))}if(e<y&&!g)null!==c.dataPoints[f].y&&(p=e);else{if(!g&&(g=!0,0<f)){f-=2;continue}if(e>v&&!m)m=!0;else if(e>v&&m)continue;c.dataPoints[f].label&&(t.axisX.labels[e]=c.dataPoints[f].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===c.dataPoints[f].y?o.viewPortMin===e&&p<e&&(o.viewPortMin=p):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+i,0<=i?a[e]?a[e]+=i:(a[e]=i,l=Math.min(i,l)):s[e]?s[e]+=i:(s[e]=i,u=Math.max(i,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(n.dataPointYPositiveSums?(n.dataPointYPositiveSums.push.apply(n.dataPointYPositiveSums,a),n.dataPointYNegativeSums.push.apply(n.dataPointYPositiveSums,s)):(n.dataPointYPositiveSums=a,n.dataPointYNegativeSums=s)),c.axisX.valueType=c.xValueType=r?"dateTime":"number"}for(f in a)a.hasOwnProperty(f)&&!isNaN(f)&&((t=a[f])<n.min&&(n.min=Math.min(t,l)),t>n.max&&(n.max=t),f<o.viewPortMin||f>o.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=Math.min(t,l)),t>n.viewPortMax&&(n.viewPortMax=t)));for(f in s)s.hasOwnProperty(f)&&!isNaN(f)&&((t=s[f])<n.min&&(n.min=t),t>n.max&&(n.max=Math.max(t,u)),f<o.viewPortMin||f>o.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=Math.max(t,u))))}},e.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,o=t.axisX.dataInfo,r=!1,a=!1,s=!1,l=[],u=0;u<t.dataSeriesIndexes.length;u++){var h,p=this.data[t.dataSeriesIndexes[u]],c=0,f=!1,g=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var m=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[c].x&&p.dataPoints[c].x.getTime||"dateTime"===p.xValueType)&&(r=!0),c=0;c<p.dataPoints.length;c++){if("undefined"===typeof p.dataPoints[c].x&&(p.dataPoints[c].x=c+(t.axisX.logarithmic?1:0)),p.dataPoints[c].x.getTime?(r=!0,e=p.dataPoints[c].x.getTime()):e=p.dataPoints[c].x,i=d(p.dataPoints[c].y)?null:p.dataPoints[c].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),0<c){if(t.axisX.logarithmic){var v=e/p.dataPoints[c-1].x;1>v&&(v=1/v),o.minDiff>v&&1!==v&&(o.minDiff=v)}else 0>(v=e-p.dataPoints[c-1].x)&&(v*=-1),o.minDiff>v&&0!==v&&(o.minDiff=v);d(i)||null===p.dataPoints[c-1].y||(t.axisY.logarithmic?0<i&&(1>(v=i/p.dataPoints[c-1].y)&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v)):(0>(v=i-p.dataPoints[c-1].y)&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)))}if(e<m&&!f)null!==i&&(h=e);else{if(!f&&(f=!0,0<c)){c-=2;continue}if(e>y&&!g)g=!0;else if(e>y&&g)continue;p.dataPoints[c].label&&(t.axisX.labels[e]=p.dataPoints[c].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===i?o.viewPortMin===e&&h<e&&(o.viewPortMin=h):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+i,0<=i?a=!0:0>i&&(s=!0),l[e]=l[e]?l[e]+Math.abs(i):Math.abs(i))}}p.axisX.valueType=p.xValueType=r?"dateTime":"number"}t.axisY.logarithmic?(n.max=d(n.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(n.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),n.min=d(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):a&&!s?(n.max=d(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=d(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):a&&s?(n.max=d(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=d(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)):!a&&s&&(n.max=d(n.viewPortMax)?-1:Math.max(n.viewPortMax,-1),n.min=d(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)),n.viewPortMin=n.min,n.viewPortMax=n.max,t.dataPointYSums=l}},e.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n,o,r=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,l=0;l<t.dataSeriesIndexes.length;l++){var u,h,p,c=this.data[t.dataSeriesIndexes[l]],d=0,f=!1,g=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var m=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[d].x&&c.dataPoints[d].x.getTime||"dateTime"===c.xValueType)&&(s=!0),d=0;d<c.dataPoints.length;d++){if("undefined"===typeof c.dataPoints[d].x&&(c.dataPoints[d].x=d+(t.axisX.logarithmic?1:0)),c.dataPoints[d].x.getTime?(s=!0,e=c.dataPoints[d].x.getTime()):e=c.dataPoints[d].x,(i=c.dataPoints[d].y)&&i.length){n=Math.min.apply(null,i),o=Math.max.apply(null,i),h=!0;for(var v=0;v<i.length;v++)null===i.k&&(h=!1);h&&(f||(p=u),u=e)}if(e<a.min&&(a.min=e),e>a.max&&(a.max=e),n<r.min&&(r.min=n),o>r.max&&(r.max=o),0<d&&(t.axisX.logarithmic?(1>(h=e/c.dataPoints[d-1].x)&&(h=1/h),a.minDiff>h&&1!==h&&(a.minDiff=h)):(0>(h=e-c.dataPoints[d-1].x)&&(h*=-1),a.minDiff>h&&0!==h&&(a.minDiff=h)),i&&null!==i[0]&&c.dataPoints[d-1].y&&null!==c.dataPoints[d-1].y[0]&&(t.axisY.logarithmic?(1>(h=i[0]/c.dataPoints[d-1].y[0])&&(h=1/h),r.minDiff>h&&1!==h&&(r.minDiff=h)):(0>(h=i[0]-c.dataPoints[d-1].y[0])&&(h*=-1),r.minDiff>h&&0!==h&&(r.minDiff=h)))),!(e<m)||f){if(!f&&(f=!0,0<d)){d-=2,u=p;continue}if(e>y&&!g)g=!0;else if(e>y&&g)continue;if(c.dataPoints[d].label&&(t.axisX.labels[e]=c.dataPoints[d].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),a.viewPortMin===e&&i)for(v=0;v<i.length;v++)if(null===i[v]&&u<e){a.viewPortMin=u;break}null===i?a.viewPortMin===e&&u<e&&(a.viewPortMin=u):(n<r.viewPortMin&&(r.viewPortMin=n),o>r.viewPortMax&&(r.viewPortMax=o))}}c.axisX.valueType=c.xValueType=s?"dateTime":"number"}},e.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n=t.axisY.dataInfo,o=t.axisX.dataInfo,r=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s=this.data[t.dataSeriesIndexes[a]],l=0,u=!1,h=!1,p=e=0;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var c=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,d=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[l].x&&s.dataPoints[l].x.getTime||"dateTime"===s.xValueType)&&(r=!0),l=0;l<s.dataPoints.length;l++)"undefined"!==typeof s.dataPoints[l].isCumulativeSum&&!0===s.dataPoints[l].isCumulativeSum?(s.dataPointEOs[l].cumulativeSumYStartValue=0,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:s.dataPointEOs[l-1].cumulativeSum):"undefined"!==typeof s.dataPoints[l].isIntermediateSum&&!0===s.dataPoints[l].isIntermediateSum?(s.dataPointEOs[l].cumulativeSumYStartValue=p,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:e,p=0===l?0:s.dataPointEOs[l-1].cumulativeSum,e=0):(i="number"!==typeof s.dataPoints[l].y?0:s.dataPoints[l].y,s.dataPointEOs[l].cumulativeSumYStartValue=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPointEOs[l].cumulativeSum=0===l?i:s.dataPointEOs[l-1].cumulativeSum+i,e+=i);for(l=0;l<s.dataPoints.length;l++)if("undefined"===typeof s.dataPoints[l].x&&(s.dataPoints[l].x=l+(t.axisX.logarithmic?1:0)),s.dataPoints[l].x.getTime?(r=!0,e=s.dataPoints[l].x.getTime()):e=s.dataPoints[l].x,i=s.dataPoints[l].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),s.dataPointEOs[l].cumulativeSum<n.min&&(n.min=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>n.max&&(n.max=s.dataPointEOs[l].cumulativeSum),0<l&&(t.axisX.logarithmic?(1>(p=e/s.dataPoints[l-1].x)&&(p=1/p),o.minDiff>p&&1!==p&&(o.minDiff=p)):(0>(p=e-s.dataPoints[l-1].x)&&(p*=-1),o.minDiff>p&&0!==p&&(o.minDiff=p)),null!==i&&null!==s.dataPoints[l-1].y&&(t.axisY.logarithmic?(1>(i=s.dataPointEOs[l].cumulativeSum/s.dataPointEOs[l-1].cumulativeSum)&&(i=1/i),n.minDiff>i&&1!==i&&(n.minDiff=i)):(0>(i=s.dataPointEOs[l].cumulativeSum-s.dataPointEOs[l-1].cumulativeSum)&&(i*=-1),n.minDiff>i&&0!==i&&(n.minDiff=i)))),!(e<c)||u){if(!u&&(u=!0,0<l)){l-=2;continue}if(e>d&&!h)h=!0;else if(e>d&&h)continue;s.dataPoints[l].label&&(t.axisX.labels[e]=s.dataPoints[l].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),0<l&&(s.dataPointEOs[l-1].cumulativeSum<n.viewPortMin&&(n.viewPortMin=s.dataPointEOs[l-1].cumulativeSum),s.dataPointEOs[l-1].cumulativeSum>n.viewPortMax&&(n.viewPortMax=s.dataPointEOs[l-1].cumulativeSum)),s.dataPointEOs[l].cumulativeSum<n.viewPortMin&&(n.viewPortMin=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>n.viewPortMax&&(n.viewPortMax=s.dataPointEOs[l].cumulativeSum)}s.axisX.valueType=s.xValueType=r?"dateTime":"number"}},e.prototype.calculateAutoBreaks=function(){function t(t,e,i,n){return n?(1>=(i=Math.pow(Math.min(i*t/e,e/t),.2))&&(i=Math.pow(1>t?1/t:Math.min(e/t,t),.25)),{startValue:t*i,endValue:e/i}):(0>=(i=.2*Math.min(i-e+t,e-t))&&(i=.25*Math.min(e-t,Math.abs(t))),{startValue:t+i,endValue:e-i})}function e(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,i=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||i)for(var n,r,a=t.axisY.dataInfo,s=(p=t.axisX.dataInfo).min,l=p.max,u=a.min,h=a.max,p=p._dataRanges,c=(a=a._dataRanges,0),f=0;f<t.dataSeriesIndexes.length;f++){var g=o.data[t.dataSeriesIndexes[f]];if(!(4>g.dataPoints.length))for(c=0;c<g.dataPoints.length;c++)if(e&&(r=(l+1-s)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=g.dataPoints[c].x.getTime?g.dataPoints[c].x.getTime():g.dataPoints[c].x)<p[r=Math.floor((n-s)/r)].min&&(p[r].min=n),n>p[r].max&&(p[r].max=n)),i){var m=(h+1-u)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((n="waterfall"===t.type?g.dataPointEOs[c].cumulativeSum:g.dataPoints[c].y)&&n.length)for(var y=0;y<n.length;y++)r=Math.floor((n[y]-u)/m),n[y]<a[r].min&&(a[r].min=n[y]),n[y]>a[r].max&&(a[r].max=n[y]);else d(n)||(n<a[r=Math.floor((n-u)/m)].min&&(a[r].min=n),n>a[r].max&&(a[r].max=n))}}}}function i(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,i=t.axisX.dataInfo,n=i.min,r=i.max,a=i._dataRanges,s=0,l=0;l<t.dataSeriesIndexes.length;l++){var u=o.data[t.dataSeriesIndexes[l]];if(!(4>u.dataPoints.length))for(s=0;s<u.dataPoints.length;s++)e=(r+1-n)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=u.dataPoints[s].x.getTime?u.dataPoints[s].x.getTime():u.dataPoints[s].x)<a[e=Math.floor((i-n)/e)].min&&(a[e].min=i),i>a[e].max&&(a[e].max=i)}}for(var n,o=this,r=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){r=!0,this._axes[a].dataInfo._dataRanges=[];for(var s=0;s<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);s++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(r){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(r=this.plotInfo.plotTypes[a],s=0;s<r.plotUnits.length;s++)"line"===(n=r.plotUnits[s]).type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type||"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"waterfall"===n.type||"error"===n.type||"boxAndWhisker"===n.type?e(n):0<=n.type.indexOf("stacked")&&i(n);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var l=this._axes[a].dataInfo.min;n=(this._axes[a].dataInfo.max+1-l)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var u,h,p=this._axes[a].dataInfo._dataRanges;r=[];if(this._axes[a].dataInfo.dataPointYPositiveSums){var c=this._axes[a].dataInfo.dataPointYPositiveSums;for(s in u=p,c)if(c.hasOwnProperty(s)&&!isNaN(s)&&!d(h=c[s])){var f=Math.floor((h-l)/n);h<u[f].min&&(u[f].min=h),h>u[f].max&&(u[f].max=h)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(s in u=p,c=this._axes[a].dataInfo.dataPointYNegativeSums)c.hasOwnProperty(s)&&!isNaN(s)&&(d(h=-1*c[s])||(h<u[f=Math.floor((h-l)/n)].min&&(u[f].min=h),h>u[f].max&&(u[f].max=h)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(s=0;s<p.length-1;s++)if(u=p[s].max,isFinite(u))for(;s<p.length-1;){if(l=p[s+1].min,isFinite(l)){(h=l-u)>n&&r.push({diff:h,start:u,end:l});break}s++}if(this._axes[a].scaleBreaks.customBreaks)for(s=0;s<this._axes[a].scaleBreaks.customBreaks.length;s++)for(n=0;n<r.length;n++)(this._axes[a].scaleBreaks.customBreaks[s].startValue<=r[n].start&&r[n].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||this._axes[a].scaleBreaks.customBreaks[s].startValue<=r[n].start&&r[n].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||r[n].start<=this._axes[a].scaleBreaks.customBreaks[s].startValue&&this._axes[a].scaleBreaks.customBreaks[s].startValue<=r[n].end||r[n].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue&&this._axes[a].scaleBreaks.customBreaks[s].endValue<=r[n].end)&&(r.splice(n,1),n--);for(r.sort((function(t,e){return e.diff-t.diff})),s=0;s<Math.min(r.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);s++)n=t(r[s].start,r[s].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new W(this,"autoBreaks",n,s,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue}))}}},e.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var n=[],o=this._dataInRenderedOrder.length-1;0<=o;o--){var r;(r=this._dataInRenderedOrder[o].getDataPointAtXY(t,e,i))&&n.push(r)}for(t=null,e=!1,i=0;i<n.length;i++)if(("line"===n[i].dataSeries.type||"stepLine"===n[i].dataSeries.type||"area"===n[i].dataSeries.type||"stepArea"===n[i].dataSeries.type)&&(o=x("markerSize",n[i].dataPoint,n[i].dataSeries)||8,n[i].distance<=o/2)){e=!0;break}for(i=0;i<n.length;i++)e&&"line"!==n[i].dataSeries.type&&"stepLine"!==n[i].dataSeries.type&&"area"!==n[i].dataSeries.type&&"stepArea"!==n[i].dataSeries.type||(t?n[i].distance<=t.distance&&(t=n[i]):t=n[i]);return t},e.prototype.getObjectAtXY=function(t,e,i){var n=null;if(i=this.getDataPointAtXY(t,e,i||!1))n=i.dataSeries.dataPointIds[i.dataPointIndex];else if(z)n=C(t,e,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var o=this.legend.items[i];t>=o.x1&&t<=o.x2&&e>=o.y1&&e<=o.y2&&(n=o.id)}return n},e.prototype.getAutoFontSize=ot,e.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},e.prototype.clearCanvas=nt,e.prototype.attachEvent=function(t){this._events.push(t)},e.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,n=i?i[0]:t,o=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=st(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var r=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>r?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){(o=st(n)).time=new Date;try{var a=o.y-this._lastTouchData.y;r=o.time-this._lastTouchData.time;(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>r)&&(this._lastTouchData.scroll=!0)}catch(s){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<e.length;i++)o=e[i],(a=document.createEvent("MouseEvent")).initMouseEvent(o,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(a),(!d(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<r||"click"===o)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}},e.prototype._dispatchRangeEvent=function(t,e){var i={chart:this};i.type=t,i.trigger=e;var n=[];this.axisX&&0<this.axisX.length&&n.push("axisX"),this.axisX2&&0<this.axisX2.length&&n.push("axisX2"),this.axisY&&0<this.axisY.length&&n.push("axisY"),this.axisY2&&0<this.axisY2.length&&n.push("axisY2");for(var o=0;o<n.length;o++)if(d(i[n[o]])&&(i[n[o]]=[]),"axisY"===n[o])for(var r=0;r<this.axisY.length;r++)i[n[o]].push({viewportMinimum:this[n[o]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[n[o]][r].sessionVariables.newViewportMaximum});else if("axisY2"===n[o])for(r=0;r<this.axisY2.length;r++)i[n[o]].push({viewportMinimum:this[n[o]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[n[o]][r].sessionVariables.newViewportMaximum});else if("axisX"===n[o])for(r=0;r<this.axisX.length;r++)i[n[o]].push({viewportMinimum:this[n[o]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[n[o]][r].sessionVariables.newViewportMaximum});else if("axisX2"===n[o])for(r=0;r<this.axisX2.length;r++)i[n[o]].push({viewportMinimum:this[n[o]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[n[o]][r].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},e.prototype._mouseEventHandler=function(t){"undefined"===typeof t.target&&t.srcElement&&(t.target=t.srcElement);var i,n,o=st(t),r=t.type;if(t.which?n=3==t.which:t.button&&(n=2==t.button),e.capturedEventParam&&(i=e.capturedEventParam,"mouseup"===r&&(e.capturedEventParam=null,i.chart.overlaidCanvas.releaseCapture?i.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",i.chart._mouseEventHandler,!1)),i.hasOwnProperty(r)&&("mouseup"!==r||i.chart.overlaidCanvas.releaseCapture?t.target!==i.chart.overlaidCanvas&&z||i[r].call(i.context,o.x,o.y):t.target!==i.chart.overlaidCanvas&&(i.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),G&&window.console&&(window.console.log(r+" --\x3e x: "+o.x+"; y:"+o.y),n&&window.console.log(t.which),"mouseup"===r&&window.console.log("mouseup")),!n){if(!e.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(r)){if(n=(i=this._events[a]).bounds,o.x>=n.x1&&o.x<=n.x2&&o.y>=n.y1&&o.y<=n.y2){i[r].call(i.context,o.x,o.y),"mousedown"===r&&!0===i.capture?(e.capturedEventParam=i,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===r&&(i.chart.overlaidCanvas.releaseCapture?i.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}i=null}t.target.style.cursor=i&&i.cursor?i.cursor:this._defaultCursor}r=this.plotArea,(o.x<r.x1||o.x>r.x2||o.y<r.y1||o.y>r.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},e.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},e.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i=e-this.dragStartPoint.y,n=t-this.dragStartPoint.x,o=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var s=r;r=o,o=s}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(o=r=0;o<this._axes.length;o++)(i=this._axes[o]).logarithmic?i.viewportMinimum<i.minimum?(r=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*r,i.sessionVariables.newViewportMaximum=i.viewportMaximum*r,a=!0):i.viewportMaximum>i.maximum&&(r=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/r,i.sessionVariables.newViewportMaximum=i.viewportMaximum/r,a=!0):i.viewportMinimum<i.minimum?(r=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+r,i.sessionVariables.newViewportMaximum=i.viewportMaximum+r,a=!0):i.viewportMaximum>i.maximum&&(r=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-r,i.sessionVariables.newViewportMaximum=i.viewportMaximum-r,a=!0);else if((!o||2<Math.abs(n))&&(!r||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=o?this.dragStartPoint.x:this.plotArea.x1,n=r?this.dragStartPoint.y:this.plotArea.y1,o=o?t:this.plotArea.x2,r=r?e:this.plotArea.y2,2<Math.abs(i-o)&&2<Math.abs(n-r)&&this._zoomPanToSelectedRegion(i,n,o,r)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(T(this._zoomButton,this._resetButton),S(this,this._zoomButton,"pan"),S(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,e)}},e.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,n=0,o=i=null,r=(o=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(i=r,r=o,o=i),i=this.dragStartPoint.x-t,n=this.dragStartPoint.y-e,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!o||2<Math.abs(i)||!r||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)o={x1:o?this.plotArea.x1+i:this.plotArea.x1,y1:r?this.plotArea.y1+n:this.plotArea.y1,x2:o?this.plotArea.x2+i:this.plotArea.x2,y2:r?this.plotArea.y2+n:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(i,n,o,r){return function(){a._zoomPanToSelectedRegion(i,n,o,r,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=t,a.dragStartPoint.y=e)}}(o.x1,o.y1,o.x2,o.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";n=o?this.dragStartPoint.x:this.plotArea.x1;var s=r?this.dragStartPoint.y:this.plotArea.y1,l=o?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=r?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n,s,o?t:this.plotArea.x2-this.plotArea.x1,r?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,s,l,u),this.overlaidCanvasCtx.globalAlpha=i}}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(o=0;o<this.axisX.length;o++)this.axisX[o].crosshair&&this.axisX[o].crosshair.enabled&&this.axisX[o].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(o=0;o<this.axisX2.length;o++)this.axisX2[o].crosshair&&this.axisX2[o].crosshair.enabled&&this.axisX2[o].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(o=0;o<this.axisY.length;o++)this.axisY[o].crosshair&&this.axisY[o].crosshair.enabled&&this.axisY[o].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(o=0;o<this.axisY2.length;o++)this.axisY2[o].crosshair&&this.axisY2[o].crosshair.enabled&&this.axisY2[o].renderCrosshair(t,e)}},e.prototype._zoomPanToSelectedRegion=function(t,e,i,n,o){if(e=(t=this.validateRegion(t,e,i,n,o)).axesWithValidRange,i=t.axesRanges,t.isValid)for(n=0;n<e.length;n++)o=i[n],e[n].setViewPortRange(o.val1,o.val2),this.syncCharts&&this.syncCharts(o.val1,o.val2);return t.isValid},e.prototype.validateRegion=function(t,e,i,n,o){o=o||!1;for(var r=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),s=!1,l=[],u=[],h=[],p=0;p<this._axes.length;p++)("axisX"===this._axes[p].type&&r||"axisY"===this._axes[p].type&&a)&&u.push(this._axes[p]);for(a=0;a<u.length;a++){r=!1;if((f=(p=u[a]).convertPixelToValue({x:t,y:e}))>(d=p.convertPixelToValue({x:i,y:n})))var c=d,d=f,f=c;if(p.scaleBreaks)for(c=0;!r&&c<p.scaleBreaks._appliedBreaks.length;c++)r=p.scaleBreaks._appliedBreaks[c].startValue<=f&&p.scaleBreaks._appliedBreaks[c].endValue>=d;if(isFinite(p.dataInfo.minDiff))if(c=p.getApparentDifference(f,d,null,!0),r||!(this.panEnabled&&p.scaleBreaks&&p.scaleBreaks._appliedBreaks.length)&&(p.logarithmic&&c<Math.pow(p.dataInfo.minDiff,3)||!p.logarithmic&&c<3*Math.abs(p.dataInfo.minDiff))||f<p.minimum||d>p.maximum){if(!o){s=!1;break}}else l.push(p),h.push({val1:f,val2:d}),s=!0}return{isValid:s,axesWithValidRange:l,axesRanges:h}},e.prototype.preparePlotArea=function(){var t=this.plotArea;if(!z&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var i=this.axisY[0];t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(i=this.axisY2[0],t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height;z||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new R(t.x1,t.y1,t.x2,t.y2,2)},e.prototype.renderIndexLabels=function(t){var e=t||this.plotArea.ctx,i=this.plotArea,n=0,o=0,r=0,a=0,s=n=a=o=r=0,l=0;for(t=0;t<this._indexLabels.length;t++){var u,h,p=this._indexLabels[t],c=p.chartType.toLowerCase();s=x("indexLabelFontColor",p.dataPoint,p.dataSeries),l=x("indexLabelFontSize",p.dataPoint,p.dataSeries);u=x("indexLabelFontFamily",p.dataPoint,p.dataSeries),h=x("indexLabelFontStyle",p.dataPoint,p.dataSeries);a=x("indexLabelFontWeight",p.dataPoint,p.dataSeries);var f=x("indexLabelBackgroundColor",p.dataPoint,p.dataSeries),g=(o=x("indexLabelMaxWidth",p.dataPoint,p.dataSeries),r=x("indexLabelWrap",p.dataPoint,p.dataSeries),x("indexLabelLineDashType",p.dataPoint,p.dataSeries)),m=x("indexLabelLineColor",p.dataPoint,p.dataSeries),v=d(p.dataPoint.indexLabelLineThickness)?d(p.dataSeries.options.indexLabelLineThickness)?0:p.dataSeries.options.indexLabelLineThickness:p.dataPoint.indexLabelLineThickness,C=(n=0<v?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),b=null;(0<=p.dataSeries.type.indexOf("stacked")||"pie"===p.dataSeries.type||"doughnut"===p.dataSeries.type)&&(C=this.getPercentAndTotal(p.dataSeries,p.dataPoint)),(p.dataSeries.indexLabelFormatter||p.dataPoint.indexLabelFormatter)&&(b={chart:this,dataSeries:p.dataSeries,dataPoint:p.dataPoint,index:p.indexKeyword,total:C.total,percent:C.percent});var w=p.dataPoint.indexLabelFormatter?p.dataPoint.indexLabelFormatter(b):p.dataPoint.indexLabel?this.replaceKeywordsWithValue(p.dataPoint.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):p.dataSeries.indexLabelFormatter?p.dataSeries.indexLabelFormatter(b):p.dataSeries.indexLabel?this.replaceKeywordsWithValue(p.dataSeries.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):null;if(null!==w&&""!==w){C=x("indexLabelPlacement",p.dataPoint,p.dataSeries),b=x("indexLabelOrientation",p.dataPoint,p.dataSeries);var E=p.direction,P=p.dataSeries.axisX,S=p.dataSeries.axisY,T=!1;if((f=new O(e,{x:0,y:0,maxWidth:o||.5*this.width,maxHeight:r?5*l:1.5*l,angle:"horizontal"===b?0:-90,text:w,padding:0,backgroundColor:f,horizontalAlign:"left",fontSize:l,fontFamily:u,fontWeight:a,fontColor:s,fontStyle:h,textBaseline:"top"})).measureText(),p.dataSeries.indexLabelMaxWidth=f.maxWidth,"stackedarea100"===c){if(p.point.x<i.x1||p.point.x>i.x2||p.point.y<i.y1-1||p.point.y>i.y2+1)continue}else if("rangearea"===c||"rangesplinearea"===c){if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<S.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>S.viewportMaximum)continue}else if(0<=c.indexOf("line")||0<=c.indexOf("area")||0<=c.indexOf("bubble")||0<=c.indexOf("scatter")){if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum||p.dataPoint.y<S.viewportMinimum||p.dataPoint.y>S.viewportMaximum)continue}else if(0<=c.indexOf("column")||"waterfall"===c||"error"===c&&!p.axisSwapped){if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum||p.bounds.y1>i.y2||p.bounds.y2<i.y1)continue}else if(0<=c.indexOf("bar")||"error"===c){if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum||p.bounds.x1>i.x2||p.bounds.x2<i.x1)continue}else if("candlestick"===c||"ohlc"===c){if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<S.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>S.viewportMaximum)continue}else if(p.dataPoint.x<P.viewportMinimum||p.dataPoint.x>P.viewportMaximum)continue;o=a=2,"horizontal"===b?(s=f.width,l=f.height):(l=f.width,s=f.height),"normal"===this.plotInfo.axisPlacement?(0<=c.indexOf("line")||0<=c.indexOf("area")?(C="auto",a=4):0<=c.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"!==c&&"scatter"!==c||(C="inside"),u=p.point.x-s/2,"inside"!==C?(o=i.y1,r=i.y2,0<E?(h=p.point.y-l-a-n)<o&&(T=(h="auto"===C?Math.max(p.point.y,o)+a+n:o+a+n)+l>p.point.y):(h=p.point.y+a+n)>r-l-a-n&&(T=(h="auto"===C?Math.min(p.point.y,r)-l-a-n:r-l-a-n)<p.point.y)):(o=Math.max(p.bounds.y1,i.y1),r=Math.min(p.bounds.y2,i.y2),n=0<=c.indexOf("range")||"error"===c?0<E?Math.max(p.bounds.y1,i.y1)+l/2+a:Math.min(p.bounds.y2,i.y2)-l/2-a:(Math.max(p.bounds.y1,i.y1)+Math.min(p.bounds.y2,i.y2))/2,0<E?(h=Math.max(p.point.y,n)-l/2)<o&&("bubble"===c||"scatter"===c)&&(h=Math.max(p.point.y-l-a,i.y1+a)):(h=Math.min(p.point.y,n)-l/2)>r-l-a&&("bubble"===c||"scatter"===c)&&(h=Math.min(p.point.y+a,i.y2-l-a)),h=Math.min(h,r-l))):(0<=c.indexOf("line")||0<=c.indexOf("area")||0<=c.indexOf("scatter")?(C="auto",o=4):0<=c.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"===c&&(C="inside"),h=p.point.y-l/2,"inside"!==C?(a=i.x1,r=i.x2,0>E?(u=p.point.x-s-o-n)<a&&(T=(u="auto"===C?Math.max(p.point.x,a)+o+n:a+o+n)+s>p.point.x):(u=p.point.x+o+n)>r-s-o-n&&(T=(u="auto"===C?Math.min(p.point.x,r)-s-o-n:r-s-o-n)<p.point.x)):(a=Math.max(p.bounds.x1,i.x1),Math.min(p.bounds.x2,i.x2),n=0<=c.indexOf("range")||"error"===c?0>E?Math.max(p.bounds.x1,i.x1)+s/2+o:Math.min(p.bounds.x2,i.x2)-s/2-o:(Math.max(p.bounds.x1,i.x1)+Math.min(p.bounds.x2,i.x2))/2,u=0>E?Math.max(p.point.x,n)-s/2:Math.min(p.point.x,n)-s/2,u=Math.max(u,a))),"vertical"===b&&(h+=l),f.x=u,f.y=h,f.render(!0),v&&"inside"!==C&&(0>c.indexOf("bar")&&("error"!==c||!p.axisSwapped)&&p.point.x>i.x1&&p.point.x<i.x2||!T)&&(0>c.indexOf("column")&&("error"!==c||p.axisSwapped)&&p.point.y>i.y1&&p.point.y<i.y2||!T)&&(e.lineWidth=v,e.strokeStyle=m||"gray",e.setLineDash&&e.setLineDash(y(g,v)),e.beginPath(),e.moveTo(p.point.x,p.point.y),0<=c.indexOf("bar")||"error"===c&&p.axisSwapped?e.lineTo(u+(0<p.direction?0:s),h+("horizontal"===b?l:-l)/2):0<=c.indexOf("column")||"error"===c&&!p.axisSwapped?e.lineTo(u+s/2,h+((0<p.direction?l:-l)+("horizontal"===b?l:-l))/2):e.lineTo(u+s/2,h+((h<p.point.y?l:-l)+("horizontal"===b?l:-l))/2),e.stroke())}}for(e={source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)f=x("indexLabelBackgroundColor",(p=this._indexLabels[t]).dataPoint,p.dataSeries),p.dataSeries.indexLabelBackgroundColor=d(f)?z?"transparent":null:f;return e},e.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;i.save();var o=this.plotArea;i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip();for(var r,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];i.lineWidth=u.lineThickness;var h=u.dataPoints,c="solid";if(i.setLineDash){var d=y(u.nullDataLineDashType,u.lineThickness),f=y(c=u.lineDashType,u.lineThickness);i.setLineDash(f)}var g=u.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l},g=p(g),n.strokeStyle=g,n.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;g=u._colorSet;var m=g=u.lineColor=u.options.lineColor?u.options.lineColor:g[0];i.strokeStyle=g;var v,C,x=!0,b=0;if(i.beginPath(),0<h.length){var w=!1;for(b=0;b<h.length;b++)if(!((v=h[b].x.getTime?h[b].x.getTime():h[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!w)))if("number"!==typeof h[b].y)0<b&&!(u.connectNullData||w||x)&&(i.stroke(),z&&n.stroke()),w=!0;else{v=t.axisX.convertValueToPixel(v),C=t.axisY.convertValueToPixel(h[b].y);var E=u.dataPointIds[b];if(this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:b,x1:v,y1:C},x||w?(!x&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||c===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(r.x,r.y),c=u.nullDataLineDashType,i.setLineDash(d)),i.lineTo(v,C),z&&n.lineTo(v,C)):(i.beginPath(),i.moveTo(v,C),z&&(n.beginPath(),n.moveTo(v,C))),w=x=!1):(i.lineTo(v,C),z&&n.lineTo(v,C),0==b%500&&(i.stroke(),i.beginPath(),i.moveTo(v,C),z&&(n.stroke(),n.beginPath(),n.moveTo(v,C)))),r={x:v,y:C},b<h.length-1&&(m!==(h[b].lineColor||g)||c!==(h[b].lineDashType||u.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(v,C),m=h[b].lineColor||g,i.strokeStyle=m,i.setLineDash&&(h[b].lineDashType?(c=h[b].lineDashType,i.setLineDash(y(c,u.lineThickness))):(c=u.lineDashType,i.setLineDash(f)))),0<h[b].markerSize||0<u.markerSize){var P=u.getMarkerProperties(b,v,C,i);a.push(P),E=p(E),z&&a.push({x:v,y:C,ctx:n,type:P.type,size:P.size,color:E,borderColor:E,borderThickness:P.borderThickness})}(h[b].indexLabel||u.indexLabel||h[b].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[b],dataSeries:u,point:{x:v,y:C},direction:0>h[b].y===t.axisY.reversed?1:-1,color:g})}i.stroke(),z&&n.stroke()}}return et.drawMarkers(a),z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),n.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;i.save();var o=this.plotArea;i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip();for(var r,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];i.lineWidth=u.lineThickness;var h=u.dataPoints,c="solid";if(i.setLineDash){var d=y(u.nullDataLineDashType,u.lineThickness),f=y(c=u.lineDashType,u.lineThickness);i.setLineDash(f)}var g=u.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l},g=p(g),n.strokeStyle=g,n.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;g=u._colorSet;var m=g=u.lineColor=u.options.lineColor?u.options.lineColor:g[0];i.strokeStyle=g;var v,C,x=!0,b=0;if(i.beginPath(),0<h.length){var w=!1;for(b=0;b<h.length;b++)if(!((v=h[b].getTime?h[b].x.getTime():h[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!w)))if("number"!==typeof h[b].y)0<b&&!(u.connectNullData||w||x)&&(i.stroke(),z&&n.stroke()),w=!0;else{var E=C;v=t.axisX.convertValueToPixel(v),C=t.axisY.convertValueToPixel(h[b].y);var P=u.dataPointIds[b];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:b,x1:v,y1:C},x||w?(!x&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||c===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(r.x,r.y),c=u.nullDataLineDashType,i.setLineDash(d)),i.lineTo(v,E),i.lineTo(v,C),z&&(n.lineTo(v,E),n.lineTo(v,C))):(i.beginPath(),i.moveTo(v,C),z&&(n.beginPath(),n.moveTo(v,C))),w=x=!1):(i.lineTo(v,E),z&&n.lineTo(v,E),i.lineTo(v,C),z&&n.lineTo(v,C),0==b%500&&(i.stroke(),i.beginPath(),i.moveTo(v,C),z&&(n.stroke(),n.beginPath(),n.moveTo(v,C)))),r={x:v,y:C},b<h.length-1&&(m!==(h[b].lineColor||g)||c!==(h[b].lineDashType||u.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(v,C),m=h[b].lineColor||g,i.strokeStyle=m,i.setLineDash&&(h[b].lineDashType?(c=h[b].lineDashType,i.setLineDash(y(c,u.lineThickness))):(c=u.lineDashType,i.setLineDash(f)))),(0<h[b].markerSize||0<u.markerSize)&&(E=u.getMarkerProperties(b,v,C,i),a.push(E),P=p(P),z&&a.push({x:v,y:C,ctx:n,type:E.type,size:E.size,color:P,borderColor:P,borderThickness:E.borderThickness})),(h[b].indexLabel||u.indexLabel||h[b].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[b],dataSeries:u,point:{x:v,y:C},direction:0>h[b].y===t.axisY.reversed?1:-1,color:g})}i.stroke(),z&&n.stroke()}}return et.drawMarkers(a),z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),n.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSpline=function(t){function e(t){if(0<(t=n(t,2)).length){o.beginPath(),z&&r.beginPath(),o.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(o.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&o.setLineDash(t[0].newLineDashArray),z&&r.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)o.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),z&&r.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0===e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(o.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&o.setLineDash(t[e+3].newLineDashArray),z&&(r.stroke(),r.beginPath(),r.moveTo(t[e+3].x,t[e+3].y)));o.stroke(),z&&r.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx;o.save();var a=this.plotArea;o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip();for(var s=[],l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u];o.lineWidth=h.lineThickness;var c=h.dataPoints,d="solid";if(o.setLineDash){var f=y(h.nullDataLineDashType,h.lineThickness),g=y(d=h.lineDashType,h.lineThickness);o.setLineDash(g)}var m=h.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:u},m=p(m),r.strokeStyle=m,r.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;m=h._colorSet;var v=m=h.lineColor=h.options.lineColor?h.options.lineColor:m[0];o.strokeStyle=m;var C,x,b=0,w=[];if(o.beginPath(),0<c.length)for(x=!1,b=0;b<c.length;b++)if(!((C=c[b].getTime?c[b].x.getTime():c[b].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!x)))if("number"!==typeof c[b].y)0<b&&!x&&(h.connectNullData?o.setLineDash&&0<w.length&&(h.options.nullDataLineDashType||!c[b-1].lineDashType)&&(w[w.length-1].newLineDashArray=f,d=h.nullDataLineDashType):(e(w),w=[])),x=!0;else{C=t.axisX.convertValueToPixel(C),x=t.axisY.convertValueToPixel(c[b].y);var E=h.dataPointIds[b];if(this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:C,y1:x},w[w.length]={x:C,y:x},b<c.length-1&&(v!==(c[b].lineColor||m)||d!==(c[b].lineDashType||h.lineDashType))&&(v=c[b].lineColor||m,w[w.length-1].newStrokeStyle=v,o.setLineDash&&(c[b].lineDashType?(d=c[b].lineDashType,w[w.length-1].newLineDashArray=y(d,h.lineThickness)):(d=h.lineDashType,w[w.length-1].newLineDashArray=g))),0<c[b].markerSize||0<h.markerSize){var P=h.getMarkerProperties(b,C,x,o);s.push(P),E=p(E),z&&s.push({x:C,y:x,ctx:r,type:P.type,size:P.size,color:E,borderColor:E,borderThickness:P.borderThickness})}(c[b].indexLabel||h.indexLabel||c[b].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:c[b],dataSeries:h,point:{x:C,y:x},direction:0>c[b].y===t.axisY.reversed?1:-1,color:m}),x=!1}e(w)}return et.drawMarkers(s),z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),r.beginPath()),o.restore(),o.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0),c=t.axisX.dataInfo.minDiff;for(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),c<l&&(c=l),c>h&&(c=h),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],f=this.data[d],g=f.dataPoints;if(0<g.length){var m=!!(5<c&&f.bevelEnabled);for(l=0;l<g.length;l++)if(!((r=g[l].getTime?g[l].x.getTime():g[l].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof g[l].y){n=t.axisX.convertValueToPixel(r),o=t.axisY.convertValueToPixel(g[l].y),n=t.axisX.reversed?n+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+h)*c<<0:n-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+h)*c<<0;var y,v=t.axisX.reversed?n-c<<0:n+c<<0;0<=g[l].y?y=u:(y=o,o=u),o>y&&(a=o,o=y,y=a),a=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ct(i,n,o,v,y,a,0,null,m&&0<=g[l].y,0>g[l].y&&m,!1,!1,f.fillOpacity),a=f.dataPointIds[l],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:l,x1:n,y1:o,x2:v,y2:y},a=p(a),z&&ct(this._eventManager.ghostCtx,n,o,v,y,a,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:g[l],dataSeries:f,point:{x:n+(v-n)/2,y:0>g[l].y===t.axisY.reversed?o:y},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:n,y1:Math.min(o,y),x2:v,y2:Math.max(o,y)},color:a})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:u<t.axisY.bounds.y1?t.axisY.bounds.y1:u>t.axisY.bounds.y2?t.axisY.bounds.y2:u}}},e.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=null,a=this.plotArea,s=[],l=[],u=[],h=[],c=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;n=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>n&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<c&&(n=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),f<c&&(f=c),f>n&&(f=n),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],y=this.data[m],v=y.dataPoints;if(0<v.length){var C=!!(5<f&&y.bevelEnabled);for(i.strokeStyle="#4572A7 ",c=0;c<v.length;c++)if(!((r=v[c].x.getTime?v[c].x.getTime():v[c].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof v[c].y){var x,b=(n=t.axisX.convertValueToPixel(r))-t.plotType.plotUnits.length*f/2+t.index*f<<0,w=b+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[c].y)u[r]=v[c].y+(u[r]?u[r]:0),0<u[r]&&(o=t.axisY.convertValueToPixel(u[r]),x="undefined"!==typeof s[r]?s[r]:d,s[r]=o);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[c].y)h[r]=v[c].y+(h[r]?h[r]:0),x=t.axisY.convertValueToPixel(h[r]),o="undefined"!==typeof l[r]?l[r]:d,l[r]=x;else if(o=t.axisY.convertValueToPixel(v[c].y),0<=v[c].y){var E="undefined"!==typeof s[r]?s[r]:0;o-=E,x=d-E,s[r]=E+(x-o)}else x=o+(E=l[r]?l[r]:0),o=d+E,l[r]=E+(x-o);r=v[c].color?v[c].color:y._colorSet[c%y._colorSet.length],ct(i,b,o,w,x,r,0,null,C&&0<=v[c].y,0>v[c].y&&C,!1,!1,y.fillOpacity),r=y.dataPointIds[c],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:c,x1:b,y1:o,x2:w,y2:x},r=p(r),z&&ct(this._eventManager.ghostCtx,b,o,w,x,r,0,null,!1,!1,!1,!1),(v[c].indexLabel||y.indexLabel||v[c].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:v[c],dataSeries:y,point:{x:n,y:0<=v[c].y?o:x},direction:0>v[c].y===t.axisY.reversed?1:-1,bounds:{x1:b,y1:Math.min(o,x),x2:w,y2:Math.max(o,x)},color:r})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:d<t.axisY.bounds.y1?t.axisY.bounds.y1:d>t.axisY.bounds.y2?t.axisY.bounds.y2:d}}},e.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=null,a=this.plotArea,s=[],l=[],u=[],h=[],c=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;n=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>n&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<c&&(n=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),f<c&&(f=c),f>n&&(f=n),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],y=this.data[m],v=y.dataPoints;if(0<v.length){var C=!!(5<f&&y.bevelEnabled);for(c=0;c<v.length;c++)if(!((r=v[c].x.getTime?v[c].x.getTime():v[c].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof v[c].y){n=t.axisX.convertValueToPixel(r),o=0!==t.dataPointYSums[r]?v[c].y/t.dataPointYSums[r]*100:0;var x,b=n-t.plotType.plotUnits.length*f/2+t.index*f<<0,w=b+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[c].y){if(u[r]=o+("undefined"!==typeof u[r]?u[r]:0),0>=u[r])continue;o=t.axisY.convertValueToPixel(u[r]),x=s[r]?s[r]:d,s[r]=o}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[c].y)h[r]=o+("undefined"!==typeof h[r]?h[r]:0),x=t.axisY.convertValueToPixel(h[r]),o=l[r]?l[r]:d,l[r]=x;else if(o=t.axisY.convertValueToPixel(o),0<=v[c].y){var E="undefined"!==typeof s[r]?s[r]:0;o-=E,x=d-E,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(a.y1-o)&&(o=a.y1),s[r]=E+(x-o)}else x=o+(E="undefined"!==typeof l[r]?l[r]:0),o=d+E,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(a.y2-x)&&(x=a.y2),l[r]=E+(x-o);r=v[c].color?v[c].color:y._colorSet[c%y._colorSet.length],ct(i,b,o,w,x,r,0,null,C&&0<=v[c].y,0>v[c].y&&C,!1,!1,y.fillOpacity),r=y.dataPointIds[c],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:c,x1:b,y1:o,x2:w,y2:x},r=p(r),z&&ct(this._eventManager.ghostCtx,b,o,w,x,r,0,null,!1,!1,!1,!1),(v[c].indexLabel||y.indexLabel||v[c].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:v[c],dataSeries:y,point:{x:n,y:0<=v[c].y?o:x},direction:0>v[c].y===t.axisY.reversed?1:-1,bounds:{x1:b,y1:Math.min(o,x),x2:w,y2:Math.max(o,x)},color:r})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:d<t.axisY.bounds.y1?t.axisY.bounds.y1:d>t.axisY.bounds.y2?t.axisY.bounds.y2:d}}},e.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0),c=t.axisX.dataInfo.minDiff;for(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),c<l&&(c=l),c>h&&(c=h),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],f=this.data[d],g=f.dataPoints;if(0<g.length){var m=!!(5<c&&f.bevelEnabled);for(i.strokeStyle="#4572A7 ",l=0;l<g.length;l++)if(!((r=g[l].getTime?g[l].x.getTime():g[l].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof g[l].y){o=t.axisX.convertValueToPixel(r),n=t.axisY.convertValueToPixel(g[l].y),o=t.axisX.reversed?o+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+h)*c<<0:o-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+h)*c<<0;var y,v=t.axisX.reversed?o-c<<0:o+c<<0;0<=g[l].y?y=u:(y=n,n=u),a=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ct(i,y,o,n,v,a,0,null,m,!1,!1,!1,f.fillOpacity),a=f.dataPointIds[l],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:l,x1:y,y1:o,x2:n,y2:v},a=p(a),z&&ct(this._eventManager.ghostCtx,y,o,n,v,a,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:g[l],dataSeries:f,point:{x:0<=g[l].y?n:y,y:o+(v-o)/2},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(y,n),y1:o,x2:Math.max(y,n),y2:v},color:a})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:u<t.axisY.bounds.x1?t.axisY.bounds.x1:u>t.axisY.bounds.x2?t.axisY.bounds.x2:u}}},e.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=null,a=this.plotArea,s=[],l=[],u=[],h=[],c=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>o&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<c&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),f<c&&(f=c),f>o&&(f=o),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],y=this.data[m],v=y.dataPoints;if(0<v.length){var C=!!(5<f&&y.bevelEnabled);for(i.strokeStyle="#4572A7 ",c=0;c<v.length;c++)if(!((r=v[c].x.getTime?v[c].x.getTime():v[c].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof v[c].y){var x,b=(o=t.axisX.convertValueToPixel(r))-t.plotType.plotUnits.length*f/2+t.index*f<<0,w=b+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[c].y)u[r]=v[c].y+(u[r]?u[r]:0),0<u[r]&&(x=s[r]?s[r]:d,s[r]=n=t.axisY.convertValueToPixel(u[r]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[c].y)h[r]=v[c].y+(h[r]?h[r]:0),n=l[r]?l[r]:d,l[r]=x=t.axisY.convertValueToPixel(h[r]);else if(n=t.axisY.convertValueToPixel(v[c].y),0<=v[c].y){var E=s[r]?s[r]:0;x=d+E,n+=E,s[r]=E+(n-x)}else x=n-(E=l[r]?l[r]:0),n=d-E,l[r]=E+(n-x);r=v[c].color?v[c].color:y._colorSet[c%y._colorSet.length],ct(i,x,b,n,w,r,0,null,C,!1,!1,!1,y.fillOpacity),r=y.dataPointIds[c],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:c,x1:x,y1:b,x2:n,y2:w},r=p(r),z&&ct(this._eventManager.ghostCtx,x,b,n,w,r,0,null,!1,!1,!1,!1),(v[c].indexLabel||y.indexLabel||v[c].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:v[c],dataSeries:y,point:{x:0<=v[c].y?n:x,y:o},direction:0>v[c].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,n),y1:b,x2:Math.max(x,n),y2:w},color:r})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:d<t.axisY.bounds.x1?t.axisY.bounds.x1:d>t.axisY.bounds.x2?t.axisY.bounds.x2:d}}},e.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=null,a=this.plotArea,s=[],l=[],u=[],h=[],c=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>o&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<c&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),f<c&&(f=c),f>o&&(f=o),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],y=this.data[m],v=y.dataPoints;if(0<v.length){var C=!!(5<f&&y.bevelEnabled);for(i.strokeStyle="#4572A7 ",c=0;c<v.length;c++)if(!((r=v[c].x.getTime?v[c].x.getTime():v[c].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&"number"===typeof v[c].y){var x;o=t.axisX.convertValueToPixel(r),x=0!==t.dataPointYSums[r]?v[c].y/t.dataPointYSums[r]*100:0;var b=o-t.plotType.plotUnits.length*f/2+t.index*f<<0,w=b+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[c].y){if(u[r]=x+(u[r]?u[r]:0),0>=u[r])continue;x=s[r]?s[r]:d,s[r]=n=t.axisY.convertValueToPixel(u[r])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[c].y)h[r]=x+(h[r]?h[r]:0),n=l[r]?l[r]:d,l[r]=x=t.axisY.convertValueToPixel(h[r]);else if(n=t.axisY.convertValueToPixel(x),0<=v[c].y){var E=s[r]?s[r]:0;x=d+E,n+=E,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(a.x2-n)&&(n=a.x2),s[r]=E+(n-x)}else x=n-(E=l[r]?l[r]:0),n=d-E,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(a.x1-x)&&(x=a.x1),l[r]=E+(n-x);r=v[c].color?v[c].color:y._colorSet[c%y._colorSet.length],ct(i,x,b,n,w,r,0,null,C,!1,!1,!1,y.fillOpacity),r=y.dataPointIds[c],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:c,x1:x,y1:b,x2:n,y2:w},r=p(r),z&&ct(this._eventManager.ghostCtx,x,b,n,w,r,0,null,!1,!1,!1,!1),(v[c].indexLabel||y.indexLabel||v[c].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:v[c],dataSeries:y,point:{x:0<=v[c].y?n:x,y:o},direction:0>v[c].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,n),y1:b,x2:Math.max(x,n),y2:w},color:r})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:d<t.axisY.bounds.x1?t.axisY.bounds.x1:d>t.axisY.bounds.x2?t.axisY.bounds.x2:d}}},e.prototype.renderArea=function(t){var e,i;function n(){P&&(0<g.lineThickness&&r.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?b=E:0>t.axisY.viewportMaximum?b=u.y1:0<t.axisY.viewportMinimum&&(b=l.y2),r.lineTo(v,b),r.lineTo(P.x,b),r.closePath(),r.globalAlpha=g.fillOpacity,r.fill(),r.globalAlpha=1,z&&(s.lineTo(v,b),s.lineTo(P.x,b),s.closePath(),s.fill()),r.beginPath(),r.moveTo(v,C),s.beginPath(),s.moveTo(v,C),P={x:v,y:C})}var o=t.targetCanvasCtx||this.plotArea.ctx,r=z?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],c=this.plotArea;r.save(),z&&s.save(),r.beginPath(),r.rect(c.x1,c.y1,c.width,c.height),r.clip(),z&&(s.beginPath(),s.rect(c.x1,c.y1,c.width,c.height),s.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var f=t.dataSeriesIndexes[d],g=this.data[f],m=g.dataPoints;h=g.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:f},h=p(h),s.fillStyle=h,h=[],e=!0;var v,C,x,b,w=0,E=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null;if(0<m.length){var S=g._colorSet[w%g._colorSet.length],T=g.lineColor=g.options.lineColor||S,_=T;if(r.fillStyle=S,r.strokeStyle=T,r.lineWidth=g.lineThickness,i="solid",r.setLineDash){var M=y(g.nullDataLineDashType,g.lineThickness),R=y(i=g.lineDashType,g.lineThickness);r.setLineDash(R)}for(var O=!0;w<m.length;w++)if(!((x=m[w].x.getTime?m[w].x.getTime():m[w].x)<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!O)))if("number"!==typeof m[w].y)g.connectNullData||O||e||n(),O=!0;else{v=t.axisX.convertValueToPixel(x),C=t.axisY.convertValueToPixel(m[w].y),e||O?(!e&&g.connectNullData?(r.setLineDash&&(g.options.nullDataLineDashType||i===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(e=v,i=C,v=a.x,C=a.y,n(),r.moveTo(a.x,a.y),v=e,C=i,P=a,i=g.nullDataLineDashType,r.setLineDash(M)),r.lineTo(v,C),z&&s.lineTo(v,C)):(r.beginPath(),r.moveTo(v,C),z&&(s.beginPath(),s.moveTo(v,C)),P={x:v,y:C}),O=e=!1):(r.lineTo(v,C),z&&s.lineTo(v,C),0==w%250&&n()),a={x:v,y:C},w<m.length-1&&(_!==(m[w].lineColor||T)||i!==(m[w].lineDashType||g.lineDashType))&&(n(),_=m[w].lineColor||T,r.strokeStyle=_,r.setLineDash&&(m[w].lineDashType?(i=m[w].lineDashType,r.setLineDash(y(i,g.lineThickness))):(i=g.lineDashType,r.setLineDash(R))));var A=g.dataPointIds[w];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:w,x1:v,y1:C},0!==m[w].markerSize&&(0<m[w].markerSize||0<g.markerSize)&&(x=g.getMarkerProperties(w,v,C,r),h.push(x),A=p(A),z&&h.push({x:v,y:C,ctx:s,type:x.type,size:x.size,color:A,borderColor:A,borderThickness:x.borderThickness})),(m[w].indexLabel||g.indexLabel||m[w].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:m[w],dataSeries:g,point:{x:v,y:C},direction:0>m[w].y===t.axisY.reversed?1:-1,color:S})}n(),et.drawMarkers(h)}}return z&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSplineArea=function(t){function e(){var e=n(w,2);if(0<e.length){if(0<d.lineThickness){o.beginPath(),o.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(o.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&o.setLineDash(e[0].newLineDashArray);for(var i=0;i<e.length-3;i+=3)o.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),z&&r.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),(e[i+3].newStrokeStyle||e[i+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(e[i+3].x,e[i+3].y),e[i+3].newStrokeStyle&&(o.strokeStyle=e[i+3].newStrokeStyle),e[i+3].newLineDashArray&&o.setLineDash(e[i+3].newLineDashArray));o.stroke()}for(o.beginPath(),o.moveTo(e[0].x,e[0].y),z&&(r.beginPath(),r.moveTo(e[0].x,e[0].y)),i=0;i<e.length-3;i+=3)o.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),z&&r.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?v=x:0>t.axisY.viewportMaximum?v=s.y1:0<t.axisY.viewportMinimum&&(v=a.y2),b={x:e[0].x,y:e[0].y},o.lineTo(e[e.length-1].x,v),o.lineTo(b.x,v),o.closePath(),o.globalAlpha=d.fillOpacity,o.fill(),o.globalAlpha=1,z&&(r.lineTo(e[e.length-1].x,v),r.lineTo(b.x,v),r.closePath(),r.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,l=[],u=this.plotArea;o.save(),z&&r.save(),o.beginPath(),o.rect(u.x1,u.y1,u.width,u.height),o.clip(),z&&(r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var c=t.dataSeriesIndexes[h],d=this.data[c],f=d.dataPoints;l=d.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:c},l=p(l),r.fillStyle=l;l=[];var g,m,v,C=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),b=null,w=[];if(0<f.length){var E=d._colorSet[C%d._colorSet.length],P=d.lineColor=d.options.lineColor||E,S=P;o.fillStyle=E,o.strokeStyle=P,o.lineWidth=d.lineThickness;var T="solid";if(o.setLineDash){var _=y(d.nullDataLineDashType,d.lineThickness),M=y(T=d.lineDashType,d.lineThickness);o.setLineDash(M)}for(m=!1;C<f.length;C++)if(!((g=f[C].x.getTime?f[C].x.getTime():f[C].x)<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!m)))if("number"!==typeof f[C].y)0<C&&!m&&(d.connectNullData?o.setLineDash&&0<w.length&&(d.options.nullDataLineDashType||!f[C-1].lineDashType)&&(w[w.length-1].newLineDashArray=_,T=d.nullDataLineDashType):(e(),w=[])),m=!0;else{g=t.axisX.convertValueToPixel(g),m=t.axisY.convertValueToPixel(f[C].y);var R=d.dataPointIds[C];if(this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:C,x1:g,y1:m},w[w.length]={x:g,y:m},C<f.length-1&&(S!==(f[C].lineColor||P)||T!==(f[C].lineDashType||d.lineDashType))&&(S=f[C].lineColor||P,w[w.length-1].newStrokeStyle=S,o.setLineDash&&(f[C].lineDashType?(T=f[C].lineDashType,w[w.length-1].newLineDashArray=y(T,d.lineThickness)):(T=d.lineDashType,w[w.length-1].newLineDashArray=M))),0!==f[C].markerSize&&(0<f[C].markerSize||0<d.markerSize)){var O=d.getMarkerProperties(C,g,m,o);l.push(O),R=p(R),z&&l.push({x:g,y:m,ctx:r,type:O.type,size:O.size,color:R,borderColor:R,borderThickness:O.borderThickness})}(f[C].indexLabel||d.indexLabel||f[C].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:f[C],dataSeries:d,point:{x:g,y:m},direction:0>f[C].y===t.axisY.reversed?1:-1,color:E}),m=!1}e(),et.drawMarkers(l)}}return z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepArea=function(t){var e,i;function n(){P&&(0<g.lineThickness&&r.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?b=E:0>t.axisY.viewportMaximum?b=u.y1:0<t.axisY.viewportMinimum&&(b=l.y2),r.lineTo(v,b),r.lineTo(P.x,b),r.closePath(),r.globalAlpha=g.fillOpacity,r.fill(),r.globalAlpha=1,z&&(s.lineTo(v,b),s.lineTo(P.x,b),s.closePath(),s.fill()),r.beginPath(),r.moveTo(v,C),s.beginPath(),s.moveTo(v,C),P={x:v,y:C})}var o=t.targetCanvasCtx||this.plotArea.ctx,r=z?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],c=this.plotArea;r.save(),z&&s.save(),r.beginPath(),r.rect(c.x1,c.y1,c.width,c.height),r.clip(),z&&(s.beginPath(),s.rect(c.x1,c.y1,c.width,c.height),s.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var f=t.dataSeriesIndexes[d],g=this.data[f],m=g.dataPoints;h=g.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:f},h=p(h),s.fillStyle=h,h=[],e=!0;var v,C,x,b,w=0,E=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null;if(i=!1,0<m.length){var S=g._colorSet[w%g._colorSet.length],T=g.lineColor=g.options.lineColor||S,_=T;r.fillStyle=S,r.strokeStyle=T,r.lineWidth=g.lineThickness;var M="solid";if(r.setLineDash){var R=y(g.nullDataLineDashType,g.lineThickness),O=y(M=g.lineDashType,g.lineThickness);r.setLineDash(O)}for(;w<m.length;w++)if(!((x=m[w].x.getTime?m[w].x.getTime():m[w].x)<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!i))){var A=C;"number"!==typeof m[w].y?(g.connectNullData||i||e||n(),i=!0):(v=t.axisX.convertValueToPixel(x),C=t.axisY.convertValueToPixel(m[w].y),e||i?(!e&&g.connectNullData?(r.setLineDash&&(g.options.nullDataLineDashType||M===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(e=v,i=C,v=a.x,C=a.y,n(),r.moveTo(a.x,a.y),v=e,C=i,P=a,M=g.nullDataLineDashType,r.setLineDash(R)),r.lineTo(v,A),r.lineTo(v,C),z&&(s.lineTo(v,A),s.lineTo(v,C))):(r.beginPath(),r.moveTo(v,C),z&&(s.beginPath(),s.moveTo(v,C)),P={x:v,y:C}),i=e=!1):(r.lineTo(v,A),z&&s.lineTo(v,A),r.lineTo(v,C),z&&s.lineTo(v,C),0==w%250&&n()),a={x:v,y:C},w<m.length-1&&(_!==(m[w].lineColor||T)||M!==(m[w].lineDashType||g.lineDashType))&&(n(),_=m[w].lineColor||T,r.strokeStyle=_,r.setLineDash&&(m[w].lineDashType?(M=m[w].lineDashType,r.setLineDash(y(M,g.lineThickness))):(M=g.lineDashType,r.setLineDash(O)))),x=g.dataPointIds[w],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:w,x1:v,y1:C},0!==m[w].markerSize&&(0<m[w].markerSize||0<g.markerSize)&&(A=g.getMarkerProperties(w,v,C,r),h.push(A),x=p(x),z&&h.push({x:v,y:C,ctx:s,type:A.type,size:A.size,color:x,borderColor:x,borderThickness:A.borderThickness})),(m[w].indexLabel||g.indexLabel||m[w].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:m[w],dataSeries:g,point:{x:v,y:C},direction:0>m[w].y===t.axisY.reversed?1:-1,color:S}))}n(),et.drawMarkers(h)}}return z&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea=function(t){function e(){if(!(1>m.length)){for(0<S.lineThickness&&n.stroke();0<m.length;){var t=m.pop();n.lineTo(t.x,t.y),z&&w.lineTo(t.x,t.y)}n.closePath(),n.globalAlpha=S.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),z&&(w.closePath(),w.fill(),w.beginPath()),m=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o,r,a,s,l,h=null,c=null,d=[],f=this.plotArea,g=[],m=[],v=[],C=[],x=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;z&&w.beginPath(),n.save(),z&&w.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),z&&(w.beginPath(),w.rect(f.x1,f.y1,f.width,f.height),w.clip());h=[];for(var E=0;E<t.dataSeriesIndexes.length;E++){var P=t.dataSeriesIndexes[E],S=this.data[P],T=S.dataPoints;for(S.dataPointIndexes=[],x=0;x<T.length;x++)P=T[x].x.getTime?T[x].x.getTime():T[x].x,S.dataPointIndexes[P]=x,h[P]||(v.push(P),h[P]=!0);v.sort(u)}for(E=0;E<t.dataSeriesIndexes.length;E++){if(P=t.dataSeriesIndexes[E],T=(S=this.data[P]).dataPoints,s=!0,m=[],x=S.id,this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:P},x=p(x),w.fillStyle=x,0<v.length){h=S._colorSet[0];var _=S.lineColor=S.options.lineColor||h,M=_;if(n.fillStyle=h,n.strokeStyle=_,n.lineWidth=S.lineThickness,l="solid",n.setLineDash){var R=y(S.nullDataLineDashType,S.lineThickness),O=y(l=S.lineDashType,S.lineThickness);n.setLineDash(O)}var A=!0;for(x=0;x<v.length;x++){c=v[x];var D=0<=S.dataPointIndexes[c]?T[S.dataPointIndexes[c]]:{x:c,y:null};if(!(c<t.axisX.dataInfo.viewPortMin||c>t.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!A)))if("number"!==typeof D.y)S.connectNullData||A||s||e(),A=!0;else{o=t.axisX.convertValueToPixel(c);var k=g[c]?g[c]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(C[c]=D.y+(C[c]?C[c]:0),0>=C[c]&&t.axisY.logarithmic)continue;r=t.axisY.convertValueToPixel(C[c])}else r=t.axisY.convertValueToPixel(D.y),r-=k;if(m.push({x:o,y:b-k}),g[c]=b-r,s||A?(!s&&S.connectNullData?(n.setLineDash&&(S.options.nullDataLineDashType||l===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(s=m.pop(),l=m[m.length-1],e(),n.moveTo(a.x,a.y),m.push(l),m.push(s),l=S.nullDataLineDashType,n.setLineDash(R)),n.lineTo(o,r),z&&w.lineTo(o,r)):(n.beginPath(),n.moveTo(o,r),z&&(w.beginPath(),w.moveTo(o,r))),A=s=!1):(n.lineTo(o,r),z&&w.lineTo(o,r),0==x%250&&(e(),n.moveTo(o,r),z&&w.moveTo(o,r),m.push({x:o,y:b-k}))),a={x:o,y:r},x<T.length-1&&(M!==(T[x].lineColor||_)||l!==(T[x].lineDashType||S.lineDashType))&&(e(),n.beginPath(),n.moveTo(o,r),m.push({x:o,y:b-k}),M=T[x].lineColor||_,n.strokeStyle=M,n.setLineDash&&(T[x].lineDashType?(l=T[x].lineDashType,n.setLineDash(y(l,S.lineThickness))):(l=S.lineDashType,n.setLineDash(O)))),0<=S.dataPointIndexes[c]){var F=S.dataPointIds[S.dataPointIndexes[c]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:S.dataPointIndexes[c],x1:o,y1:r}}0<=S.dataPointIndexes[c]&&0!==D.markerSize&&(0<D.markerSize||0<S.markerSize)&&(k=S.getMarkerProperties(S.dataPointIndexes[c],o,r,n),d.push(k),c=p(F),z&&d.push({x:o,y:r,ctx:w,type:k.type,size:k.size,color:c,borderColor:c,borderThickness:k.borderThickness})),(D.indexLabel||S.indexLabel||D.indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:D,dataSeries:S,point:{x:o,y:r},direction:0>T[x].y===t.axisY.reversed?1:-1,color:h})}}e(),n.moveTo(o,r),z&&w.moveTo(o,r)}delete S.dataPointIndexes}return et.drawMarkers(d),z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),w.restore()),n.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea100=function(t){function e(){for(0<S.lineThickness&&n.stroke();0<m.length;){var t=m.pop();n.lineTo(t.x,t.y),z&&w.lineTo(t.x,t.y)}n.closePath(),n.globalAlpha=S.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),z&&(w.closePath(),w.fill(),w.beginPath()),m=[]}var i=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o,r,a,s,l,h=null,c=null,d=this.plotArea,f=[],g=[],m=[],v=[],C=[],x=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;n.save(),z&&w.save(),n.beginPath(),n.rect(d.x1,d.y1,d.width,d.height),n.clip(),z&&(w.beginPath(),w.rect(d.x1,d.y1,d.width,d.height),w.clip());h=[];for(var E=0;E<t.dataSeriesIndexes.length;E++){var P=t.dataSeriesIndexes[E],S=this.data[P],T=S.dataPoints;for(S.dataPointIndexes=[],x=0;x<T.length;x++)P=T[x].x.getTime?T[x].x.getTime():T[x].x,S.dataPointIndexes[P]=x,h[P]||(v.push(P),h[P]=!0);v.sort(u)}for(E=0;E<t.dataSeriesIndexes.length;E++){if(P=t.dataSeriesIndexes[E],T=(S=this.data[P]).dataPoints,s=!0,h=S.id,this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:P},h=p(h),w.fillStyle=h,m=[],0<v.length){h=S._colorSet[x%S._colorSet.length];var _=S.lineColor=S.options.lineColor||h,M=_;if(n.fillStyle=h,n.strokeStyle=_,n.lineWidth=S.lineThickness,l="solid",n.setLineDash){var R=y(S.nullDataLineDashType,S.lineThickness),O=y(l=S.lineDashType,S.lineThickness);n.setLineDash(O)}var A=!0;for(x=0;x<v.length;x++){c=v[x];var D=0<=S.dataPointIndexes[c]?T[S.dataPointIndexes[c]]:{x:c,y:null};if(!(c<t.axisX.dataInfo.viewPortMin||c>t.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!A)))if("number"!==typeof D.y)S.connectNullData||A||s||e(),A=!0;else{var k;k=0!==t.dataPointYSums[c]?D.y/t.dataPointYSums[c]*100:0,o=t.axisX.convertValueToPixel(c);var F=g[c]?g[c]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(C[c]=k+(C[c]?C[c]:0),0>=C[c]&&t.axisY.logarithmic)continue;r=t.axisY.convertValueToPixel(C[c])}else r=t.axisY.convertValueToPixel(k),r-=F;if(m.push({x:o,y:b-F}),g[c]=b-r,s||A?(!s&&S.connectNullData?(n.setLineDash&&(S.options.nullDataLineDashType||l===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(s=m.pop(),l=m[m.length-1],e(),n.moveTo(a.x,a.y),m.push(l),m.push(s),l=S.nullDataLineDashType,n.setLineDash(R)),n.lineTo(o,r),z&&w.lineTo(o,r)):(n.beginPath(),n.moveTo(o,r),z&&(w.beginPath(),w.moveTo(o,r))),A=s=!1):(n.lineTo(o,r),z&&w.lineTo(o,r),0==x%250&&(e(),n.moveTo(o,r),z&&w.moveTo(o,r),m.push({x:o,y:b-F}))),a={x:o,y:r},x<T.length-1&&(M!==(T[x].lineColor||_)||l!==(T[x].lineDashType||S.lineDashType))&&(e(),n.beginPath(),n.moveTo(o,r),m.push({x:o,y:b-F}),M=T[x].lineColor||_,n.strokeStyle=M,n.setLineDash&&(T[x].lineDashType?(l=T[x].lineDashType,n.setLineDash(y(l,S.lineThickness))):(l=S.lineDashType,n.setLineDash(O)))),0<=S.dataPointIndexes[c]){var I=S.dataPointIds[S.dataPointIndexes[c]];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:S.dataPointIndexes[c],x1:o,y1:r}}0<=S.dataPointIndexes[c]&&0!==D.markerSize&&(0<D.markerSize||0<S.markerSize)&&(F=S.getMarkerProperties(x,o,r,n),f.push(F),c=p(I),z&&f.push({x:o,y:r,ctx:w,type:F.type,size:F.size,color:c,borderColor:c,borderThickness:F.borderThickness})),(D.indexLabel||S.indexLabel||D.indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:D,dataSeries:S,point:{x:o,y:r},direction:0>T[x].y===t.axisY.reversed?1:-1,color:h})}}e(),n.moveTo(o,r),z&&w.moveTo(o,r)}delete S.dataPointIndexes}return et.drawMarkers(f),z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(d.x1,d.y1,d.width,d.height),w.restore()),n.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=this.plotArea,a=0;i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var s=-1/0,l=1/0,u=0;u<t.dataSeriesIndexes.length;u++){var h=t.dataSeriesIndexes[u],c=this.data[h],d=c.dataPoints,f=0;for(a=0;a<d.length;a++)(n=n=d[a].getTime?d[a].x.getTime():d[a].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax||"undefined"===typeof d[a].z||((f=d[a].z)>s&&(s=f),f<l&&(l=f))}var g=25*Math.PI,m=Math.max(Math.pow(.25*Math.min(r.height,r.width)/2,2)*Math.PI,g);for(u=0;u<t.dataSeriesIndexes.length;u++)if(h=t.dataSeriesIndexes[u],0<(d=(c=this.data[h]).dataPoints).length)for(i.strokeStyle="#4572A7 ",a=0;a<d.length;a++)if(!((n=n=d[a].getTime?d[a].x.getTime():d[a].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"===typeof d[a].y){n=t.axisX.convertValueToPixel(n),o=t.axisY.convertValueToPixel(d[a].y);f=d[a].z;var y=2*Math.max(Math.sqrt((s===l?m/2:g+(m-g)/(s-l)*(f-l))/Math.PI)<<0,1);(f=c.getMarkerProperties(a,i)).size=y,i.globalAlpha=c.fillOpacity,et.drawMarker(n,o,i,f.type,f.size,f.color,f.borderColor,f.borderThickness),i.globalAlpha=1;var v=c.dataPointIds[a];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:a,x1:n,y1:o,size:y},y=p(v),z&&et.drawMarker(n,o,this._eventManager.ghostCtx,f.type,f.size,y,y,f.borderThickness),(d[a].indexLabel||c.indexLabel||d[a].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:d[a],dataSeries:c,point:{x:n,y:o},direction:1,bounds:{x1:n-f.size/2,y1:o-f.size/2,x2:n+f.size/2,y2:o+f.size/2},color:null})}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r=this.plotArea,a=0;i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],h=u.dataPoints;if(0<h.length){i.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(r.height,r.width)/2,2);var c=0,d=0;for(a=0;a<h.length;a++)if(!((n=n=h[a].getTime?h[a].x.getTime():h[a].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"===typeof h[a].y){n=t.axisX.convertValueToPixel(n),o=t.axisY.convertValueToPixel(h[a].y);var f=u.getMarkerProperties(a,n,o,i);i.globalAlpha=u.fillOpacity,et.drawMarker(f.x,f.y,f.ctx,f.type,f.size,f.color,f.borderColor,f.borderThickness),i.globalAlpha=1,Math.sqrt((c-n)*(c-n)+(d-o)*(d-o))<Math.min(f.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(c=u.dataPointIds[a],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:a,x1:n,y1:o},c=p(c),z&&et.drawMarker(f.x,f.y,this._eventManager.ghostCtx,f.type,f.size,c,c,f.borderThickness),(h[a].indexLabel||u.indexLabel||h[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[a],dataSeries:u,point:{x:n,y:o},direction:1,bounds:{x1:n-f.size/2,y1:o-f.size/2,x2:n+f.size/2,y2:o+f.size/2},color:null}),c=n,d=o)}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var o,r,a,s,l,u,h=null,c=null,f=this.plotArea,g=0,m=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&h>c&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<h&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),m<h&&(m=h),m>c&&(m=c),i.save(),z&&n.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),z&&(n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip());for(var y=0;y<t.dataSeriesIndexes.length;y++){var v=t.dataSeriesIndexes[y],C=this.data[v],x=C.dataPoints;if(0<x.length){var b=!!(5<m&&C.bevelEnabled);for(g=0;g<x.length;g++)if(!((u=x[g].getTime?x[g].x.getTime():x[g].x)<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax)&&!d(x[g].y)&&x[g].y.length&&"number"===typeof x[g].y[0]&&"number"===typeof x[g].y[1]&&"number"===typeof x[g].y[2]&&"number"===typeof x[g].y[3]){o=t.axisX.convertValueToPixel(u),r=t.axisY.convertValueToPixel(x[g].y[0]),a=t.axisY.convertValueToPixel(x[g].y[1]),s=t.axisY.convertValueToPixel(x[g].y[2]),l=t.axisY.convertValueToPixel(x[g].y[3]);var w=o-m/2<<0,E=w+m<<0,P=(c=C.options.fallingColor?C.fallingColor:C._colorSet[0],h=x[g].color?x[g].color:C._colorSet[0],Math.round(Math.max(1,.15*m))),S=0===P%2?0:.5,T=C.dataPointIds[g];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:g,x1:w,y1:r,x2:E,y2:a,x3:o,y3:s,x4:o,y4:l,borderThickness:P,color:h},i.strokeStyle=h,i.beginPath(),i.lineWidth=P,n.lineWidth=Math.max(P,4),"candlestick"===C.type?(i.moveTo(o-S,a),i.lineTo(o-S,Math.min(r,l)),i.stroke(),i.moveTo(o-S,Math.max(r,l)),i.lineTo(o-S,s),i.stroke(),ct(i,w,Math.min(r,l),E,Math.max(r,l),x[g].y[0]<=x[g].y[3]?C.risingColor:c,P,h,b,b,!1,!1,C.fillOpacity),z&&(h=p(T),n.strokeStyle=h,n.moveTo(o-S,a),n.lineTo(o-S,Math.min(r,l)),n.stroke(),n.moveTo(o-S,Math.max(r,l)),n.lineTo(o-S,s),n.stroke(),ct(n,w,Math.min(r,l),E,Math.max(r,l),h,0,null,!1,!1,!1,!1))):"ohlc"===C.type&&(i.moveTo(o-S,a),i.lineTo(o-S,s),i.stroke(),i.beginPath(),i.moveTo(o,r),i.lineTo(w,r),i.stroke(),i.beginPath(),i.moveTo(o,l),i.lineTo(E,l),i.stroke(),z&&(h=p(T),n.strokeStyle=h,n.moveTo(o-S,a),n.lineTo(o-S,s),n.stroke(),n.beginPath(),n.moveTo(o,r),n.lineTo(w,r),n.stroke(),n.beginPath(),n.moveTo(o,l),n.lineTo(E,l),n.stroke())),(x[g].indexLabel||C.indexLabel||x[g].indexLabelFormatter||C.indexLabelFormatter)&&this._indexLabels.push({chartType:C.type,dataPoint:x[g],dataSeries:C,point:{x:w+(E-w)/2,y:t.axisY.reversed?s:a},direction:1,bounds:{x1:w,y1:Math.min(a,s),x2:E,y2:Math.max(a,s)},color:h})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),n.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var o,r,a,s,l,u,h,c=null,f=this.plotArea,g=0,m=(c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&c>g&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<c&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),m<c&&(m=c),m>g&&(m=g),i.save(),z&&n.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),z&&(n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip());for(var v=!!t.axisY.reversed,C=0;C<t.dataSeriesIndexes.length;C++){var x=t.dataSeriesIndexes[C],b=this.data[x],w=b.dataPoints;if(0<w.length){var E=!!(5<m&&b.bevelEnabled);for(g=0;g<w.length;g++)if(!((h=w[g].getTime?w[g].x.getTime():w[g].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(w[g].y)&&w[g].y.length&&"number"===typeof w[g].y[0]&&"number"===typeof w[g].y[1]&&"number"===typeof w[g].y[2]&&"number"===typeof w[g].y[3]&&"number"===typeof w[g].y[4]&&5===w[g].y.length){o=t.axisX.convertValueToPixel(h),r=t.axisY.convertValueToPixel(w[g].y[0]),a=t.axisY.convertValueToPixel(w[g].y[1]),s=t.axisY.convertValueToPixel(w[g].y[2]),l=t.axisY.convertValueToPixel(w[g].y[3]),u=t.axisY.convertValueToPixel(w[g].y[4]);var P=o-m/2<<0,S=o+m/2<<0,T=(c=w[g].color?w[g].color:b._colorSet[0],Math.round(Math.max(1,.15*m))),_=0===T%2?0:.5,M=w[g].whiskerColor?w[g].whiskerColor:w[g].color?b.whiskerColor?b.whiskerColor:w[g].color:b.whiskerColor?b.whiskerColor:c,R="number"===typeof w[g].whiskerThickness?w[g].whiskerThickness:"number"===typeof b.options.whiskerThickness?b.whiskerThickness:T,O=w[g].whiskerDashType?w[g].whiskerDashType:b.whiskerDashType,A="number"===typeof(A=d(w[g].whiskerLength)?d(b.options.whiskerLength)?m:b.whiskerLength:w[g].whiskerLength)?0>=A?0:A>=m?m:A:"string"===typeof A?parseInt(A)*m/100>m?m:parseInt(A)*m/100:m,D=1===Math.round(R)%2?.5:0,k=w[g].stemColor?w[g].stemColor:w[g].color?b.stemColor?b.stemColor:w[g].color:b.stemColor?b.stemColor:c,F="number"===typeof w[g].stemThickness?w[g].stemThickness:"number"===typeof b.options.stemThickness?b.stemThickness:T,I=1===Math.round(F)%2?.5:0,L=w[g].stemDashType?w[g].stemDashType:b.stemDashType,N=w[g].lineColor?w[g].lineColor:w[g].color?b.lineColor?b.lineColor:w[g].color:b.lineColor?b.lineColor:c,V="number"===typeof w[g].lineThickness?w[g].lineThickness:"number"===typeof b.options.lineThickness?b.lineThickness:T,B=w[g].lineDashType?w[g].lineDashType:b.lineDashType,W=1===Math.round(V)%2?.5:0,G=b.upperBoxColor,H=b.lowerBoxColor,j=d(b.options.fillOpacity)?1:b.fillOpacity,U=b.dataPointIds[g];this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:g,x1:P,y1:r,x2:S,y2:a,x3:o,y3:s,x4:o,y4:l,y5:u,borderThickness:T,color:c,stemThickness:F,stemColor:k,whiskerThickness:R,whiskerLength:A,whiskerColor:M,lineThickness:V,lineColor:N},i.save(),0<F&&(i.beginPath(),i.strokeStyle=k,i.lineWidth=F,i.setLineDash&&i.setLineDash(y(L,F)),i.moveTo(o-I,a),i.lineTo(o-I,r),i.stroke(),i.moveTo(o-I,l),i.lineTo(o-I,s),i.stroke()),i.restore(),n.lineWidth=Math.max(T,4),i.beginPath(),ct(i,P,Math.min(u,a),S,Math.max(a,u),H,0,c,!!v&&E,!v&&E,!1,!1,j),i.beginPath(),ct(i,P,Math.min(s,u),S,Math.max(u,s),G,0,c,!v&&E,!!v&&E,!1,!1,j),i.beginPath(),i.lineWidth=T,i.strokeStyle=c,i.rect(P-_,Math.min(a,s)-_,S-P+2*_,Math.max(a,s)-Math.min(a,s)+2*_),i.stroke(),i.save(),0<V&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(y(B,V)),i.strokeStyle=N,i.lineWidth=V,i.moveTo(P,u-W),i.lineTo(S,u-W),i.stroke()),i.restore(),i.save(),0<R&&(i.beginPath(),i.setLineDash&&i.setLineDash(y(O,R)),i.strokeStyle=M,i.lineWidth=R,i.moveTo(o-A/2<<0,l-D),i.lineTo(o+A/2<<0,l-D),i.stroke(),i.moveTo(o-A/2<<0,r+D),i.lineTo(o+A/2<<0,r+D),i.stroke()),i.restore(),z&&(c=p(U),n.strokeStyle=c,n.lineWidth=F,0<F&&(n.moveTo(o-_-I,a),n.lineTo(o-_-I,Math.max(r,l)),n.stroke(),n.moveTo(o-_-I,Math.min(r,l)),n.lineTo(o-_-I,s),n.stroke()),ct(n,P,Math.max(a,s),S,Math.min(a,s),c,0,null,!1,!1,!1,!1),0<R&&(n.beginPath(),n.lineWidth=R,n.moveTo(o+A/2,l-D),n.lineTo(o-A/2,l-D),n.stroke(),n.moveTo(o+A/2,r+D),n.lineTo(o-A/2,r+D),n.stroke())),(w[g].indexLabel||b.indexLabel||w[g].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:w[g],dataSeries:b,point:{x:P+(S-P)/2,y:t.axisY.reversed?r:l},direction:1,bounds:{x1:P,y1:Math.min(r,l),x2:S,y2:Math.max(r,l)},color:c})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),n.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r,a=null,s=this.plotArea,l=0;l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;n=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>n&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<l&&(n=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),u<l&&(u=l),u>n&&(u=n),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var c=t.dataSeriesIndexes[h],f=this.data[c],g=f.dataPoints;if(0<g.length){var m=!!(5<u&&f.bevelEnabled);for(l=0;l<g.length;l++)if(!((r=g[l].getTime?g[l].x.getTime():g[l].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&!d(g[l].y)&&g[l].y.length&&"number"===typeof g[l].y[0]&&"number"===typeof g[l].y[1]){a=t.axisX.convertValueToPixel(r),n=t.axisY.convertValueToPixel(g[l].y[0]),o=t.axisY.convertValueToPixel(g[l].y[1]);var y=t.axisX.reversed?a+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+h)*u<<0:a-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+h)*u<<0,v=t.axisX.reversed?y-u<<0:y+u<<0;a=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length];if(n>o){var C=n;n=o,o=C}C=f.dataPointIds[l],this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:l,x1:y,y1:n,x2:v,y2:o},ct(i,y,n,v,o,a,0,a,m,m,!1,!1,f.fillOpacity),a=p(C),z&&ct(this._eventManager.ghostCtx,y,n,v,o,a,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:g[l],dataSeries:f,indexKeyword:0,point:{x:y+(v-y)/2,y:g[l].y[1]>=g[l].y[0]?o:n},direction:g[l].y[1]>=g[l].y[0]?-1:1,bounds:{x1:y,y1:Math.min(n,o),x2:v,y2:Math.max(n,o)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:g[l],dataSeries:f,indexKeyword:1,point:{x:y+(v-y)/2,y:g[l].y[1]>=g[l].y[0]?n:o},direction:g[l].y[1]>=g[l].y[0]?1:-1,bounds:{x1:y,y1:Math.min(n,o),x2:v,y2:Math.max(n,o)},color:a}))}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e,n=!!t.axisY._position&&("left"!==t.axisY._position&&"right"!==t.axisY._position);if(!(0>=t.dataSeriesIndexes.length)){var o,r,s,l,u,h,p,c=null,f=!1,g=this.plotArea,m=0,y=t.axisX.dataInfo.minDiff;isFinite(y)||(y=.3*Math.abs(t.axisX.range)),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(g.x1,g.y1,g.width,g.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var v=0,C=0;C<this.data.length;C++)!this.data[C].type.match(/(bar|column)/gi)||!this.data[C].visible||this.data[C].type.match(/(stacked)/gi)&&v||v++;for(var x=0;x<t.dataSeriesIndexes.length;x++){var b=t.dataSeriesIndexes[x],w=this.data[b],E=w.dataPoints,P=!d(w._linkedSeries)&&!(!w._linkedSeries.type.match(/(bar|column)/gi)||!w._linkedSeries.visible),S=0;if(P)for(c=w._linkedSeries.id,C=0;C<c;C++)!this.data[C].type.match(/(bar|column)/gi)||!this.data[C].visible||this.data[C].type.match(/(stacked)/gi)&&S||(this.data[C].type.match(/(range)/gi)&&(f=!0),S++);if(c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?Math.min(.15*this.height,this.plotArea.height/(P?v:1)*.9)<<0:.3*this.width,f&&(m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?Math.min(.15*this.height,this.plotArea.height/(P?v:1)*.9)<<0:.03*this.width),C=this.options.dataPointWidth?this.dataPointWidth:(n?g.height:g.width)*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/(P?v:1)*.9<<0,this.dataPointMaxWidth&&c>m&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<c&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),C<c&&(C=c),C>m&&(C=m),0<E.length){var T=w._colorSet;for(m=0;m<E.length;m++){c=w.lineColor=w.options.color?w.options.color:T[0];var _={color:E[m].whiskerColor?E[m].whiskerColor:E[m].color?w.whiskerColor?w.whiskerColor:E[m].color:w.whiskerColor?w.whiskerColor:c,thickness:d(E[m].whiskerThickness)?w.whiskerThickness:E[m].whiskerThickness,dashType:E[m].whiskerDashType?E[m].whiskerDashType:w.whiskerDashType,length:d(E[m].whiskerLength)?d(w.options.whiskerLength)?C:w.options.whiskerLength:E[m].whiskerLength,trimLength:d(E[m].whiskerLength)&&d(w.options.whiskerLength)?50:0};_.length="number"===typeof _.length?0>=_.length?0:_.length>=C?C:_.length:"string"===typeof _.length?parseInt(_.length)*C/100>C?C:parseInt(_.length)*C/100>C:C,_.thickness="number"===typeof _.thickness?0>_.thickness?0:Math.round(_.thickness):2;var M={color:E[m].stemColor?E[m].stemColor:E[m].color?w.stemColor?w.stemColor:E[m].color:w.stemColor?w.stemColor:c,thickness:E[m].stemThickness?E[m].stemThickness:w.stemThickness,dashType:E[m].stemDashType?E[m].stemDashType:w.stemDashType};if(M.thickness="number"===typeof M.thickness?0>M.thickness?0:Math.round(M.thickness):2,!((p=E[m].getTime?E[m].x.getTime():E[m].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&!d(E[m].y)&&E[m].y.length&&"number"===typeof E[m].y[0]&&"number"===typeof E[m].y[1]){var R=t.axisX.convertValueToPixel(p);n?r=R:o=R,R=t.axisY.convertValueToPixel(E[m].y[0]),n?s=R:u=R,R=t.axisY.convertValueToPixel(E[m].y[1]),n?l=R:h=R,n?(u=t.axisX.reversed?r+(P?v:1)*C/2-(P?S-1:0)*C<<0:r-(P?v:1)*C/2+(P?S-1:0)*C<<0,h=t.axisX.reversed?u-C<<0:u+C<<0):(s=t.axisX.reversed?o+(P?v:1)*C/2-(P?S-1:0)*C<<0:o-(P?v:1)*C/2+(P?S-1:0)*C<<0,l=t.axisX.reversed?s-C<<0:s+C<<0),!n&&u>h&&(R=u,u=h,h=R),n&&s>l&&(R=s,s=l,l=R),R=w.dataPointIds[m],this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:m,x1:Math.min(s,l),y1:Math.min(u,h),x2:Math.max(l,s),y2:Math.max(h,u),isXYSwapped:n,stemProperties:M,whiskerProperties:_},a(i,Math.min(s,l),Math.min(u,h),Math.max(l,s),Math.max(h,u),c,_,M,n),z&&a(this._eventManager.ghostCtx,s,u,l,h,c,_,M,n),(E[m].indexLabel||w.indexLabel||E[m].indexLabelFormatter||w.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:E[m],dataSeries:w,indexKeyword:0,point:{x:n?E[m].y[1]>=E[m].y[0]?s:l:s+(l-s)/2,y:n?u+(h-u)/2:E[m].y[1]>=E[m].y[0]?h:u},direction:E[m].y[1]>=E[m].y[0]?-1:1,bounds:{x1:n?Math.min(s,l):s,y1:n?u:Math.min(u,h),x2:n?Math.max(s,l):l,y2:n?h:Math.max(u,h)},color:c,axisSwapped:n}),this._indexLabels.push({chartType:"error",dataPoint:E[m],dataSeries:w,indexKeyword:1,point:{x:n?E[m].y[1]>=E[m].y[0]?l:s:s+(l-s)/2,y:n?u+(h-u)/2:E[m].y[1]>=E[m].y[0]?u:h},direction:E[m].y[1]>=E[m].y[0]?1:-1,bounds:{x1:n?Math.min(s,l):s,y1:n?u:Math.min(u,h),x2:n?Math.max(s,l):l,y2:n?h:Math.max(u,h)},color:c,axisSwapped:n}))}}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r,a,s=null,l=this.plotArea,u=0;u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;n=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0;var h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>n&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<u&&(n=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>n&&(h=n),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var f=t.dataSeriesIndexes[c],g=this.data[f],m=g.dataPoints;if(0<m.length){var y=!!(5<h&&g.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<m.length;u++)if(!((a=m[u].getTime?m[u].x.getTime():m[u].x)<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&!d(m[u].y)&&m[u].y.length&&"number"===typeof m[u].y[0]&&"number"===typeof m[u].y[1]){n=t.axisY.convertValueToPixel(m[u].y[0]),o=t.axisY.convertValueToPixel(m[u].y[1]),r=t.axisX.convertValueToPixel(a),r=t.axisX.reversed?r+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+c)*h<<0:r-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+c)*h<<0;var v=t.axisX.reversed?r-h<<0:r+h<<0;n>o&&(s=n,n=o,o=s),s=m[u].color?m[u].color:g._colorSet[u%g._colorSet.length],ct(i,n,r,o,v,s,0,null,y,!1,!1,!1,g.fillOpacity),s=g.dataPointIds[u],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:u,x1:n,y1:r,x2:o,y2:v},s=p(s),z&&ct(this._eventManager.ghostCtx,n,r,o,v,s,0,null,!1,!1,!1,!1),(m[u].indexLabel||g.indexLabel||m[u].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:m[u],dataSeries:g,indexKeyword:0,point:{x:m[u].y[1]>=m[u].y[0]?n:o,y:r+(v-r)/2},direction:m[u].y[1]>=m[u].y[0]?-1:1,bounds:{x1:Math.min(n,o),y1:r,x2:Math.max(n,o),y2:v},color:s}),this._indexLabels.push({chartType:"rangeBar",dataPoint:m[u],dataSeries:g,indexKeyword:1,point:{x:m[u].y[1]>=m[u].y[0]?o:n,y:r+(v-r)/2},direction:m[u].y[1]>=m[u].y[0]?1:-1,bounds:{x1:Math.min(n,o),y1:r,x2:Math.max(n,o),y2:v},color:s}))}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeArea=function(t){function e(){if(x){var t=null;0<h.lineThickness&&n.stroke();for(var e=l.length-1;0<=e;e--)t=l[e],n.lineTo(t.x,t.y),o.lineTo(t.x,t.y);if(n.closePath(),n.globalAlpha=h.fillOpacity,n.fill(),n.globalAlpha=1,o.fill(),0<h.lineThickness){for(n.beginPath(),n.moveTo(t.x,t.y),e=0;e<l.length;e++)t=l[e],n.lineTo(t.x,t.y);n.stroke()}n.beginPath(),n.moveTo(d,f),o.beginPath(),o.moveTo(d,f),x={x:d,y:f},(l=[]).push({x:d,y:g})}}var i=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,r=[],a=this.plotArea;n.save(),z&&o.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),z&&(o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=[],u=t.dataSeriesIndexes[s],h=this.data[u],c=h.dataPoints;r=h.id;this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:u},r=p(r),o.fillStyle=r;r=[];var d,f,g,m,v=!0,C=0,x=null;if(0<c.length){var b=h._colorSet[C%h._colorSet.length],w=h.lineColor=h.options.lineColor||b,E=w;n.fillStyle=b,n.strokeStyle=w,n.lineWidth=h.lineThickness;var P="solid";if(n.setLineDash){var S=y(h.nullDataLineDashType,h.lineThickness),T=y(P=h.lineDashType,h.lineThickness);n.setLineDash(T)}for(var _=!0;C<c.length;C++)if(!((m=c[C].x.getTime?c[C].x.getTime():c[C].x)<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!_)))if(null!==c[C].y&&c[C].y.length&&"number"===typeof c[C].y[0]&&"number"===typeof c[C].y[1]){if(d=t.axisX.convertValueToPixel(m),f=t.axisY.convertValueToPixel(c[C].y[0]),g=t.axisY.convertValueToPixel(c[C].y[1]),v||_?(h.connectNullData&&!v?(n.setLineDash&&(h.options.nullDataLineDashType||P===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=T,P=h.nullDataLineDashType,n.setLineDash(S)),n.lineTo(d,f),z&&o.lineTo(d,f),l.push({x:d,y:g})):(n.beginPath(),n.moveTo(d,f),x={x:d,y:f},(l=[]).push({x:d,y:g}),z&&(o.beginPath(),o.moveTo(d,f))),_=v=!1):(n.lineTo(d,f),l.push({x:d,y:g}),z&&o.lineTo(d,f),0==C%250&&e()),m=h.dataPointIds[C],this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:C,x1:d,y1:f,y2:g},C<c.length-1&&(E!==(c[C].lineColor||w)||P!==(c[C].lineDashType||h.lineDashType))&&(e(),E=c[C].lineColor||w,l[l.length-1].newStrokeStyle=E,n.strokeStyle=E,n.setLineDash&&(c[C].lineDashType?(P=c[C].lineDashType,l[l.length-1].newLineDashArray=y(P,h.lineThickness),n.setLineDash(l[l.length-1].newLineDashArray)):(P=h.lineDashType,l[l.length-1].newLineDashArray=T,n.setLineDash(T)))),0!==c[C].markerSize&&(0<c[C].markerSize||0<h.markerSize)){var M=h.getMarkerProperties(C,d,g,n);r.push(M);var R=p(m);z&&r.push({x:d,y:g,ctx:o,type:M.type,size:M.size,color:R,borderColor:R,borderThickness:M.borderThickness}),M=h.getMarkerProperties(C,d,f,n),r.push(M),R=p(m),z&&r.push({x:d,y:f,ctx:o,type:M.type,size:M.size,color:R,borderColor:R,borderThickness:M.borderThickness})}(c[C].indexLabel||h.indexLabel||c[C].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:c[C],dataSeries:h,indexKeyword:0,point:{x:d,y:f},direction:c[C].y[0]>c[C].y[1]===t.axisY.reversed?-1:1,color:b}),this._indexLabels.push({chartType:"rangeArea",dataPoint:c[C],dataSeries:h,indexKeyword:1,point:{x:d,y:g},direction:c[C].y[0]>c[C].y[1]===t.axisY.reversed?1:-1,color:b}))}else _||v||e(),_=!0;e(),et.drawMarkers(r)}}return z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderRangeSplineArea=function(t){function e(t,e){var i=n(v,2);if(0<i.length){if(0<h.lineThickness){o.strokeStyle=e,o.setLineDash&&o.setLineDash(t),o.beginPath(),o.moveTo(i[0].x,i[0].y);for(var a=0;a<i.length-3;a+=3)(i[a].newStrokeStyle||i[a].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(i[a].x,i[a].y),i[a].newStrokeStyle&&(o.strokeStyle=i[a].newStrokeStyle),i[a].newLineDashArray&&o.setLineDash(i[a].newLineDashArray)),o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);o.stroke()}for(o.beginPath(),o.moveTo(i[0].x,i[0].y),z&&(r.beginPath(),r.moveTo(i[0].x,i[0].y)),a=0;a<i.length-3;a+=3)o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y),z&&r.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);for(i=n(C,2),o.lineTo(C[C.length-1].x,C[C.length-1].y),a=i.length-1;2<a;a-=3)o.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y),z&&r.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y);if(o.closePath(),o.globalAlpha=h.fillOpacity,o.fill(),z&&(r.closePath(),r.fill()),o.globalAlpha=1,0<h.lineThickness){o.strokeStyle=e,o.setLineDash&&o.setLineDash(t),o.beginPath(),o.moveTo(i[0].x,i[0].y);for(var s=a=0;a<i.length-3;a+=3,s++)(v[s].newStrokeStyle||v[s].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(i[a].x,i[a].y),v[s].newStrokeStyle&&(o.strokeStyle=v[s].newStrokeStyle),v[s].newLineDashArray&&o.setLineDash(v[s].newLineDashArray)),o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);o.stroke()}o.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=z?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,a=[],s=this.plotArea;o.save(),z&&r.save(),o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip(),z&&(r.beginPath(),r.rect(s.x1,s.y1,s.width,s.height),r.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u],c=h.dataPoints;a=h.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:u},a=p(a),r.fillStyle=a;a=[];var d,f,g,m=0,v=[],C=[];if(0<c.length){var x=h._colorSet[m%h._colorSet.length],b=h.lineColor=h.options.lineColor||x,w=b;o.fillStyle=x,o.lineWidth=h.lineThickness;var E,P="solid";if(o.setLineDash){var S=y(h.nullDataLineDashType,h.lineThickness);E=y(P=h.lineDashType,h.lineThickness)}for(f=!1;m<c.length;m++)if(!((d=c[m].x.getTime?c[m].x.getTime():c[m].x)<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!f)))if(null!==c[m].y&&c[m].y.length&&"number"===typeof c[m].y[0]&&"number"===typeof c[m].y[1]){d=t.axisX.convertValueToPixel(d),f=t.axisY.convertValueToPixel(c[m].y[0]),g=t.axisY.convertValueToPixel(c[m].y[1]);var T=h.dataPointIds[m];if(this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:m,x1:d,y1:f,y2:g},v[v.length]={x:d,y:f},C[C.length]={x:d,y:g},m<c.length-1&&(w!==(c[m].lineColor||b)||P!==(c[m].lineDashType||h.lineDashType))&&(w=c[m].lineColor||b,v[v.length-1].newStrokeStyle=w,o.setLineDash&&(c[m].lineDashType?(P=c[m].lineDashType,v[v.length-1].newLineDashArray=y(P,h.lineThickness)):(P=h.lineDashType,v[v.length-1].newLineDashArray=E))),0!==c[m].markerSize&&(0<c[m].markerSize||0<h.markerSize)){var _=h.getMarkerProperties(m,d,f,o);a.push(_);var M=p(T);z&&a.push({x:d,y:f,ctx:r,type:_.type,size:_.size,color:M,borderColor:M,borderThickness:_.borderThickness}),_=h.getMarkerProperties(m,d,g,o),a.push(_),M=p(T),z&&a.push({x:d,y:g,ctx:r,type:_.type,size:_.size,color:M,borderColor:M,borderThickness:_.borderThickness})}(c[m].indexLabel||h.indexLabel||c[m].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[m],dataSeries:h,indexKeyword:0,point:{x:d,y:f},direction:c[m].y[0]<=c[m].y[1]?-1:1,color:x}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[m],dataSeries:h,indexKeyword:1,point:{x:d,y:g},direction:c[m].y[0]<=c[m].y[1]?1:-1,color:x})),f=!1}else 0<m&&!f&&(h.connectNullData?o.setLineDash&&0<v.length&&(h.options.nullDataLineDashType||!c[m-1].lineDashType)&&(v[v.length-1].newLineDashArray=S,P=h.nullDataLineDashType):(e(E,b),v=[],C=[])),f=!0;e(E,b),et.drawMarkers(a)}}return z&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var n,o,r,a,s=this._eventManager.ghostCtx,l=null,u=this.plotArea,h=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0;var d=t.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:u.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>o&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<h&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),d<h&&(d=h),d>o&&(d=o),i.save(),z&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(u.x1,u.y1,u.width,u.height),i.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],m=this.data[g],v=m.dataPoints;l=m._colorSet[0];m.risingColor=m.options.risingColor?m.options.risingColor:l,m.fallingColor=m.options.fallingColor?m.options.fallingColor:"#e40a0a";var C="number"===typeof m.options.lineThickness?Math.round(m.lineThickness):1,x=1===Math.round(C)%2?-.5:0;if(0<v.length){var b=!!(5<d&&m.bevelEnabled),w=!1,E=null,P=null;for(h=0;h<v.length;h++)if(a=v[h].getTime?v[h].x.getTime():v[h].x,"number"!==typeof v[h].y){if(0<h&&!w&&m.connectNullData)var S=m.options.nullDataLineDashType||!v[h-1].lineDashType?m.nullDataLineDashType:v[h-1].lineDashType;w=!0}else{n=t.axisX.convertValueToPixel(a),o=0===m.dataPointEOs[h].cumulativeSum?c:t.axisY.convertValueToPixel(m.dataPointEOs[h].cumulativeSum),r=0===m.dataPointEOs[h].cumulativeSumYStartValue?c:t.axisY.convertValueToPixel(m.dataPointEOs[h].cumulativeSumYStartValue),n=t.axisX.reversed?n+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+f)*d<<0:n-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+f)*d<<0;var T=t.axisX.reversed?n-d<<0:n+d<<0;o>r&&(l=o,o=r,r=l),t.axisY.reversed&&(l=o,o=r,r=l),l=m.dataPointIds[h],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:n,y1:o,x2:T,y2:r};var _=v[h].color?v[h].color:0<v[h].y?m.risingColor:m.fallingColor;ct(i,n,o,T,r,_,0,_,b,b,!1,!1,m.fillOpacity),l=p(l),z&&ct(this._eventManager.ghostCtx,n,o,T,r,l,0,null,!1,!1,!1,!1);var M;_=n;M="undefined"!==typeof v[h].isIntermediateSum&&!0===v[h].isIntermediateSum||"undefined"!==typeof v[h].isCumulativeSum&&!0===v[h].isCumulativeSum?0<v[h].y?o:r:0<v[h].y?r:o,0<h&&E&&(!w||m.connectNullData)&&(w&&i.setLineDash&&i.setLineDash(y(S,C)),i.beginPath(),i.moveTo(E,P-x),i.lineTo(_,M-x),0<C&&i.stroke(),z&&(s.beginPath(),s.moveTo(E,P-x),s.lineTo(_,M-x),0<C&&s.stroke())),w=!1,E=T,P=0<v[h].y?o:r,_=v[h].lineDashType?v[h].lineDashType:m.options.lineDashType?m.options.lineDashType:"shortDash",i.strokeStyle=v[h].lineColor?v[h].lineColor:m.options.lineColor?m.options.lineColor:"#9e9e9e",i.lineWidth=C,i.setLineDash&&(_=y(_,C),i.setLineDash(_)),(v[h].indexLabel||m.indexLabel||v[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:v[h],dataSeries:m,point:{x:n+(T-n)/2,y:0<=v[h].y?o:r},direction:0>v[h].y===t.axisY.reversed?1:-1,bounds:{x1:n,y1:Math.min(o,r),x2:T,y2:Math.max(o,r)},color:l})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}};var Q=function(t,e,i,n,o,r,a,s,l){if(!(0>i)){if("undefined"===typeof s&&(s=1),!z){var u=Number((a%(2*Math.PI)).toFixed(8));Number((r%(2*Math.PI)).toFixed(8))===u&&(a-=1e-4)}t.save(),t.globalAlpha=s,"pie"===o?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,r,a,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===o&&(t.beginPath(),t.arc(e.x,e.y,i,r,a,!1),0<=l&&t.arc(e.x,e.y,l*i,a,r,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};e.prototype.renderPie=function(t){function e(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),e=0;e<h.length;e++){var i=g[e].startAngle,n=g[e].endAngle;if(n>i){var o=.07*P*Math.cos(g[e].midAngle),r=.07*P*Math.sin(g[e].midAngle),a=!1;h[e].exploded?(1e-9<Math.abs(g[e].center.x-(b.x+o))||1e-9<Math.abs(g[e].center.y-(b.y+r)))&&(g[e].center.x=b.x+o*t,g[e].center.y=b.y+r*t,a=!0):(0<Math.abs(g[e].center.x-b.x)||0<Math.abs(g[e].center.y-b.y))&&(g[e].center.x=b.x+o*(1-t),g[e].center.y=b.y+r*(1-t),a=!0),a&&((o={}).dataSeries=u,o.dataPoint=u.dataPoints[e],o.index=e,s.toolTip.highlightObjects([o])),Q(s.plotArea.ctx,g[e].center,g[e].radius,h[e].color?h[e].color:u._colorSet[e%u._colorSet.length],u.type,i,n,u.fillOpacity,g[e].percentInnerRadius)}}for((t=s.plotArea.ctx).save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<h.length;e++)(i=g[e]).indexLabelText&&(i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2,n=0,n="left"===i.hemisphere?"inside"!==u.indexLabelPlacement?-(i.indexLabelTextBlock.width+p):-i.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?p:-i.indexLabelTextBlock.width/2,i.indexLabelTextBlock.x+=n,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=n,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&0<i.indexLabelLineThickness&&(n=i.center.x+P*Math.cos(i.midAngle),o=i.center.y+P*Math.sin(i.midAngle),t.strokeStyle=i.indexLabelLineColor,t.lineWidth=i.indexLabelLineThickness,t.setLineDash&&t.setLineDash(y(i.indexLabelLineDashType,i.indexLabelLineThickness)),t.beginPath(),t.moveTo(n,o),t.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),t.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-p:p),i.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function i(t,e){var i=0,n=(i=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2),o=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,r=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?o-n:i-r}function n(t){for(var e=null,n=1;n<h.length;n++){if(e=(t+n+g.length)%g.length,g[e].hemisphere!==g[t].hemisphere){e=null;break}if(g[e].indexLabelText&&e!==t&&(0>i(g[e],g[t])||("right"===g[t].hemisphere?g[e].indexLabelTextBlock.y>=g[t].indexLabelTextBlock.y:g[e].indexLabelTextBlock.y<=g[t].indexLabelTextBlock.y)))break;e=null}return e}function o(t,e,r){if(1e3<(r=(r||0)+1))return 0;e=e||0;var a=0,s=b.y-1*l,u=b.y+1*l;if(0<=t&&t<h.length){var p=g[t];if(0>e&&p.indexLabelTextBlock.y<s||0<e&&p.indexLabelTextBlock.y>u)return 0;var c=0,d=0;d=c=c=0;for(0>e?p.indexLabelTextBlock.y-p.indexLabelTextBlock.height/2>s&&p.indexLabelTextBlock.y-p.indexLabelTextBlock.height/2+e<s&&(e=-(s-(p.indexLabelTextBlock.y-p.indexLabelTextBlock.height/2+e))):p.indexLabelTextBlock.y+p.indexLabelTextBlock.height/2<s&&p.indexLabelTextBlock.y+p.indexLabelTextBlock.height/2+e>u&&(e=p.indexLabelTextBlock.y+p.indexLabelTextBlock.height/2+e-u),e=p.indexLabelTextBlock.y+e,s=0,s="right"===p.hemisphere?b.x+Math.sqrt(Math.pow(l,2)-Math.pow(e-b.y,2)):b.x-Math.sqrt(Math.pow(l,2)-Math.pow(e-b.y,2)),d=b.x+P*Math.cos(p.midAngle),c=b.y+P*Math.sin(p.midAngle),c=Math.sqrt(Math.pow(s-d,2)+Math.pow(e-c,2)),d=Math.acos(P/l),e=(c=Math.acos((l*l+P*P-c*c)/(2*P*l)))<d?e-p.indexLabelTextBlock.y:0,s=null,u=1;u<h.length;u++){if(s=(t-u+g.length)%g.length,g[s].hemisphere!==g[t].hemisphere){s=null;break}if(g[s].indexLabelText&&g[s].hemisphere===g[t].hemisphere&&s!==t&&(0>i(g[s],g[t])||("right"===g[t].hemisphere?g[s].indexLabelTextBlock.y<=g[t].indexLabelTextBlock.y:g[s].indexLabelTextBlock.y>=g[t].indexLabelTextBlock.y)))break;s=null}d=s,c=n(t),u=s=0,0>e?(a=e,null!==(u="right"===p.hemisphere?d:c)&&(d=-e,(e=p.indexLabelTextBlock.y-p.indexLabelTextBlock.height/2-(g[u].indexLabelTextBlock.y+g[u].indexLabelTextBlock.height/2))-d<m&&(+(u=o(u,s=-d,r+1)).toFixed(x)>+s.toFixed(x)&&(a=e>m?-(e-m):-(d-(u-s)))))):0<e&&(a=e,null!==(u="right"===p.hemisphere?c:d)&&(d=e,(e=g[u].indexLabelTextBlock.y-g[u].indexLabelTextBlock.height/2-(p.indexLabelTextBlock.y+p.indexLabelTextBlock.height/2))-d<m&&(+(u=o(u,s=d,r+1)).toFixed(x)<+s.toFixed(x)&&(a=e>m?e-m:d-(s-u))))),a&&(r=p.indexLabelTextBlock.y+a,e=0,e="right"===p.hemisphere?b.x+Math.sqrt(Math.pow(l,2)-Math.pow(r-b.y,2)):b.x-Math.sqrt(Math.pow(l,2)-Math.pow(r-b.y,2)),p.midAngle>Math.PI/2-C&&p.midAngle<Math.PI/2+C?(s=(t-1+g.length)%g.length,s=g[s],t=g[(t+1+g.length)%g.length],"left"===p.hemisphere&&"right"===s.hemisphere&&e>s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x-15:"right"===p.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):p.midAngle>3*Math.PI/2-C&&p.midAngle<3*Math.PI/2+C&&(s=(t-1+g.length)%g.length,s=g[s],t=g[(t+1+g.length)%g.length],"right"===p.hemisphere&&"left"===s.hemisphere&&e<s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x+15:"left"===p.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),p.indexLabelTextBlock.y=r,p.indexLabelTextBlock.x=e,p.indexLabelAngle=Math.atan2(p.indexLabelTextBlock.y-b.y,p.indexLabelTextBlock.x-b.x))}return a}function r(){(d=s.plotArea.ctx).fillStyle="grey",d.strokeStyle="grey",d.font="16px Arial",d.textBaseline="middle";var t=d=0,e=0,r=!0;for(t=0;10>t&&(1>t||0<e);t++){if((u.radius||!u.radius&&"undefined"!==typeof u.innerRadius&&null!==u.innerRadius&&P-e<=S)&&(r=!1),r&&(P-=e),e=0,"inside"!==u.indexLabelPlacement){for(l=P*v,d=0;d<h.length;d++){(y=g[d]).indexLabelTextBlock.x=b.x+l*Math.cos(y.midAngle),y.indexLabelTextBlock.y=b.y+l*Math.sin(y.midAngle),y.indexLabelAngle=y.midAngle,y.radius=P,y.percentInnerRadius=T}for(var a,c,d=0;d<h.length;d++){var y=g[d],C=n(d);if(null!==C){a=g[d],c=g[C];var w=0;if(0>(w=i(a,c)-m)){for(var E=c=0,_=0;_<h.length;_++)_!==d&&g[_].hemisphere===y.hemisphere&&(g[_].indexLabelTextBlock.y<y.indexLabelTextBlock.y?c++:E++);E=-1*(w-(c=w/(c+E||1)*E));var M=_=0;"right"===y.hemisphere?(_=o(d,c),+(M=o(C,E=-1*(w-_))).toFixed(x)<+E.toFixed(x)&&+_.toFixed(x)<=+c.toFixed(x)&&o(d,-(E-M))):(_=o(C,c),+(M=o(d,E=-1*(w-_))).toFixed(x)<+E.toFixed(x)&&+_.toFixed(x)<=+c.toFixed(x)&&o(C,-(E-M)))}}}}else for(d=0;d<h.length;d++)y=g[d],l="pie"===u.type?.7*P:.8*P,C=b.x+l*Math.cos(y.midAngle),c=b.y+l*Math.sin(y.midAngle),y.indexLabelTextBlock.x=C,y.indexLabelTextBlock.y=c;for(d=0;d<h.length;d++)0!==(C=(y=g[d]).indexLabelTextBlock.measureText()).height&&0!==C.width&&(C=C=0,"right"===y.hemisphere?(C=f.x2-(y.indexLabelTextBlock.x+y.indexLabelTextBlock.width+p),C*=-1):C=f.x1-(y.indexLabelTextBlock.x-y.indexLabelTextBlock.width-p),0<C&&(!r&&y.indexLabelText&&(c="right"===y.hemisphere?f.x2-y.indexLabelTextBlock.x:y.indexLabelTextBlock.x-f.x1,.3*y.indexLabelTextBlock.maxWidth>c?y.indexLabelText="":y.indexLabelTextBlock.maxWidth=.85*c,.3*y.indexLabelTextBlock.maxWidth<c&&(y.indexLabelTextBlock.x-="right"===y.hemisphere?2:-2)),Math.abs(y.indexLabelTextBlock.y-y.indexLabelTextBlock.height/2-b.y)<P||Math.abs(y.indexLabelTextBlock.y+y.indexLabelTextBlock.height/2-b.y)<P)&&(9<(C/=Math.abs(Math.cos(y.indexLabelAngle)))&&(C*=.3),C>e&&(e=C)),C=C=0,0<y.indexLabelAngle&&y.indexLabelAngle<Math.PI?(C=f.y2-(y.indexLabelTextBlock.y+y.indexLabelTextBlock.height/2+5),C*=-1):C=f.y1-(y.indexLabelTextBlock.y-y.indexLabelTextBlock.height/2-5),0<C&&(!r&&y.indexLabelText&&(0===o(d,C*(c=0<y.indexLabelAngle&&y.indexLabelAngle<Math.PI?-1:1))&&o(d,2*c)),Math.abs(y.indexLabelTextBlock.x-b.x)<P&&(9<(C/=Math.abs(Math.sin(y.indexLabelAngle)))&&(C*=.3),C>e&&(e=C))));var R=function(t,e,i){for(var n=[],o=0;n.push(g[e]),e!==i;e=(e+1+h.length)%h.length);for(n.sort((function(t,e){return t.y-e.y})),e=0;e<n.length&&(i=n[e],o<.7*t);e++)o+=i.indexLabelTextBlock.height,i.indexLabelTextBlock.text="",i.indexLabelText="",i.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,o=0,r=!1,s=0;s<h.length;s++)if(r=!1,(a=g[s]).indexLabelText){var l=n(s);if(null!==l){var u,c=g[l];if(w=0,u=0>(w=i(a,c))){u=a.indexLabelTextBlock.x;var d=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,f=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,m=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2,y=c.indexLabelTextBlock.x+c.indexLabelTextBlock.width,v=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2;u=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<c.indexLabelTextBlock.x-p||u>y+p||d>v+p||f<m-p)}u?(0>t&&(t=s),l!==t&&(e=l,o+=-w),0===s%Math.max(h.length/10,3)&&(r=!0)):r=!0,r&&0<o&&0<=t&&0<=e&&(R(o,t,e),e=t=-1,o=0)}}0<o&&R(o,t,e)}()}}function a(){if(s.plotArea.layoutManager.reset(),s.title&&(s.title.dockInsidePlotArea||"center"===s.title.horizontalAlign&&"center"===s.title.verticalAlign)&&s.title.render(),s.subtitles)for(var t=0;t<s.subtitles.length;t++){var e=s.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}s.legend&&(s.legend.dockInsidePlotArea||"center"===s.legend.horizontalAlign&&"center"===s.legend.verticalAlign)&&(s.legend.setLayout(),s.legend.render())}var s=this;if(!(0>=t.dataSeriesIndexes.length)){var l,u=this.data[t.dataSeriesIndexes[0]],h=u.dataPoints,p=10,f=this.plotArea,g=u.dataPointEOs,m=2,v=1.3,C=20/180*Math.PI,x=6,b={x:(f.x2+f.x1)/2,y:(f.y2+f.y1)/2},w=0;t=!1;for(var E=0;E<h.length;E++)w+=Math.abs(h[E].y),!t&&"undefined"!==typeof h[E].indexLabel&&null!==h[E].indexLabel&&0<h[E].indexLabel.toString().length&&(t=!0),!t&&"undefined"!==typeof h[E].label&&null!==h[E].label&&0<h[E].label.toString().length&&(t=!0);if(0!==w){t=t||"undefined"!==typeof u.indexLabel&&null!==u.indexLabel&&0<u.indexLabel.toString().length;var P="inside"!==u.indexLabelPlacement&&t?.75*Math.min(f.width,f.height)/2:.92*Math.min(f.width,f.height)/2;u.radius&&(P=c(u.radius,P));var S="undefined"!==typeof u.innerRadius&&null!==u.innerRadius?c(u.innerRadius,P):.7*P;u.radius=P,"doughnut"===u.type&&(u.innerRadius=S);var T=Math.min(S/P,(P-1)/P);this.pieDoughnutClickHandler=function(t){s.isAnimating||!d(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||((t=t.dataPoint).exploded=!t.exploded,1<this.dataPoints.length&&s._animator.animate(0,500,(function(t){e(t),a()})))},function(){if(u&&h){for(var t=0,e=0,i=0,n=0,o=0;o<h.length;o++){var r=h[o],a=u.dataPointIds[o];g[o].id=a,g[o].objectType="dataPoint",g[o].dataPointIndex=o,g[o].dataSeriesIndex=0;var l=g[o],p={percent:null,total:null},c=null;p=s.getPercentAndTotal(u,r),(u.indexLabelFormatter||r.indexLabelFormatter)&&(c={chart:s.options,dataSeries:u,dataPoint:r,total:p.total,percent:p.percent}),p=r.indexLabelFormatter?r.indexLabelFormatter(c):r.indexLabel?s.replaceKeywordsWithValue(r.indexLabel,r,u,o):u.indexLabelFormatter?u.indexLabelFormatter(c):u.indexLabel?s.replaceKeywordsWithValue(u.indexLabel,r,u,o):r.label?r.label:"",s._eventManager.objectMap[a]=l,l.center={x:b.x,y:b.y},l.y=r.y,l.radius=P,l.percentInnerRadius=T,l.indexLabelText=p,l.indexLabelPlacement=u.indexLabelPlacement,l.indexLabelLineColor=r.indexLabelLineColor?r.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:r.color?r.color:u._colorSet[o%u._colorSet.length],l.indexLabelLineThickness=d(r.indexLabelLineThickness)?u.indexLabelLineThickness:r.indexLabelLineThickness,l.indexLabelLineDashType=r.indexLabelLineDashType?r.indexLabelLineDashType:u.indexLabelLineDashType,l.indexLabelFontColor=r.indexLabelFontColor?r.indexLabelFontColor:u.indexLabelFontColor,l.indexLabelFontStyle=r.indexLabelFontStyle?r.indexLabelFontStyle:u.indexLabelFontStyle,l.indexLabelFontWeight=r.indexLabelFontWeight?r.indexLabelFontWeight:u.indexLabelFontWeight,l.indexLabelFontSize=d(r.indexLabelFontSize)?u.indexLabelFontSize:r.indexLabelFontSize,l.indexLabelFontFamily=r.indexLabelFontFamily?r.indexLabelFontFamily:u.indexLabelFontFamily,l.indexLabelBackgroundColor=r.indexLabelBackgroundColor?r.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,l.indexLabelMaxWidth=r.indexLabelMaxWidth?r.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*f.width,l.indexLabelWrap="undefined"!==typeof r.indexLabelWrap?r.indexLabelWrap:u.indexLabelWrap,l.startAngle=0===o?u.startAngle?u.startAngle/180*Math.PI:0:g[o-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/w*Math.abs(r.y),r=((r=(l.endAngle+l.startAngle)/2)+2*Math.PI)%(2*Math.PI),l.midAngle=r,l.midAngle>Math.PI/2-C&&l.midAngle<Math.PI/2+C?((0===t||g[i].midAngle>l.midAngle)&&(i=o),t++):l.midAngle>3*Math.PI/2-C&&l.midAngle<3*Math.PI/2+C&&((0===e||g[n].midAngle>l.midAngle)&&(n=o),e++),l.hemisphere=r>Math.PI/2&&r<=3*Math.PI/2?"left":"right",l.indexLabelTextBlock=new O(s.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(a=r=0,p=!1,o=0;o<h.length;o++)l=g[(i+o)%h.length],1<t&&l.midAngle>Math.PI/2-C&&l.midAngle<Math.PI/2+C&&(r<=t/2&&!p?(l.hemisphere="right",r++):(l.hemisphere="left",p=!0));for(p=!1,o=0;o<h.length;o++)l=g[(n+o)%h.length],1<e&&l.midAngle>3*Math.PI/2-C&&l.midAngle<3*Math.PI/2+C&&(a<=e/2&&!p?(l.hemisphere="left",a++):(l.hemisphere="right",p=!0))}}(),r(),r(),r(),r(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),t=g[0].startAngle+2*Math.PI*t,e=0;e<h.length;e++){var i=0===e?g[e].startAngle:n,n=i+(g[e].endAngle-g[e].startAngle),o=!1;n>t&&(n=t,o=!0);var r=h[e].color?h[e].color:u._colorSet[e%u._colorSet.length];if(n>i&&Q(s.plotArea.ctx,g[e].center,g[e].radius,r,u.type,i,n,u.fillOpacity,g[e].percentInnerRadius),o)break}a()}),(function(){s.disableToolTip=!1,s._animator.animate(0,s.animatedRender?500:0,(function(t){e(t),a()}))}))}}};var $=function(t,e,i,n){"undefined"===typeof i&&(i=1),0>=Math.round(e.y4-e.y1)||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=n||e.color,t.fill(),t.globalAplha=1,t.restore())};e.prototype.renderFunnel=function(t){function e(){var t,e,i,n;if("inside"!==c.indexLabelPlacement)for(var o=0;o<G.length;o++)0==q[o].textBlock.text.length?q[o].isDirty=!0:(i="undefined"!==typeof(t=G[o]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=c.reversed?"undefined"!==typeof t.x5&&i>V?s(i).x2+1:(t.x2+t.x3)/2+1:"undefined"!==typeof t.x5?i<V?s(i).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,q[o].textBlock.x=e+D,q[o].textBlock.y=i-q[o].height/2,c.reversed?(q[o].textBlock.y+q[o].height>I+v&&(q[o].textBlock.y=I+v-q[o].height),q[o].textBlock.y<B-v&&(q[o].textBlock.y=B-v)):(q[o].textBlock.y<I-v&&(q[o].textBlock.y=I-v),q[o].textBlock.y+q[o].height>B+v&&(q[o].textBlock.y=B+v-q[o].height)));else for(o=0;o<G.length;o++)0==q[o].textBlock.text.length?q[o].isDirty=!0:(e=(t=G[o]).height,i=q[o].height,n=q[o].width,e>=i?(e=o!=W?(t.x4+t.x3)/2-n/2:(t.x5+t.x4)/2-n/2,i=o!=W?(t.y1+t.y3)/2-i/2:(t.y1+t.y4)/2-i/2,q[o].textBlock.x=e,q[o].textBlock.y=i):q[o].isDirty=!0)}function i(t,e){return(e<G.length?q[e].textBlock.y:c.reversed?I+v:B+v)-(0>t?c.reversed?B-v:I-v:q[t].textBlock.y+q[t].height+X)}function n(t,i,n){var r,a,s,l=[],p=v,d=[];if(-1!==i&&(0<=Q.indexOf(i)?(a=Q.indexOf(i),Q.splice(a,1)):(Q.push(i),Q=Q.sort((function(t,e){return t-e})))),0===Q.length)l=Z;else{a=v*(1!=Q.length||0!=Q[0]&&Q[0]!=G.length-1?2:1)/function(){for(var t=0,e=0;e<G.length-1;e++)(0<=Q.indexOf(e)||0<=Q.indexOf(e+1))&&t++;return t}();for(var f=0;f<G.length;f++){if(1==Q.length&&0==Q[0]){if(0===f){l.push(Z[f]),r=p;continue}}else 0===f&&(r=-1*p);l.push(Z[f]+r),(0<=Q.indexOf(f)||f<G.length&&0<=Q.indexOf(f+1))&&(r+=a)}}s=function(){for(var t=[],e=0;e<G.length;e++)t.push(l[e]-G[e].y1);return t}();(new Date).getTime();var y=function(t){for(var e,i,n=0;n<G.length;n++)e=s[n],i=G[n],e*=t,"undefined"===typeof d[n]&&(d[n]=0),0>d&&(d*=-1),i.y1+=e-d[n],i.y2+=e-d[n],i.y3+=e-d[n],i.y4+=e-d[n],i.y5&&(i.y5+=e-d[n],i.y6+=e-d[n]),d[n]=e};t._animator.animate(0,n,(function(n){var r=t.plotArea.ctx||t.ctx;K=!0,r.clearRect(m.x1,m.y1,m.x2-m.x1,m.y2-m.y1),r.fillStyle=t.backgroundColor,r.fillRect(m.x1,m.y1,m.width,m.height),y(n,i);var a={};for(a.dataSeries=c,a.dataPoint=c.reversed?c.dataPoints[g.length-1-i]:c.dataPoints[i],a.index=c.reversed?g.length-1-i:i,t.toolTip.highlightObjects([a]),a=0;a<G.length;a++)$(r,G[a],c.fillOpacity);h(r),E&&("inside"!==c.indexLabelPlacement?o(r):e(),u(r)),1<=n&&(K=!1)}),null,J.easing.easeOutQuart)}function o(t){for(var e,i,n,o,r=0;r<G.length;r++)o=1===q[r].lineThickness%2?.5:0,e=s(i=((G[r].y2+G[r].y4)/2<<0)+o).x2-1,n=q[r].textBlock.x,o=(q[r].textBlock.y+q[r].height/2<<0)+o,q[r].isDirty||0==q[r].lineThickness||(t.strokeStyle=q[r].lineColor,t.lineWidth=q[r].lineThickness,t.setLineDash&&t.setLineDash(y(q[r].lineDashType,q[r].lineThickness)),t.beginPath(),t.moveTo(e,i),t.lineTo(n,o),t.stroke())}function r(t){for(t-=1;-1<=t&&-1!=t&&q[t].isDirty;t--);return t}function a(t){for(t+=1;t<=G.length&&t!=G.length&&q[t].isDirty;t++);return t}function s(t){for(var e,i=0;i<g.length;i++)if(G[i].y1<t&&G[i].y4>t){e=G[i];break}return e?{x1:t=e.y6&&t>e.y6?e.x3+(e.x4-e.x3)/(e.y4-e.y3)*(t-e.y3):e.x2+(e.x3-e.x2)/(e.y3-e.y2)*(t-e.y2),x2:t}:-1}function u(t){for(var e=0;e<G.length;e++)q[e].isDirty||(t&&(q[e].textBlock.ctx=t),q[e].textBlock.render(!0))}function h(t){if(p.plotArea.layoutManager.reset(),t.roundRect||l(t),p.title&&(p.title.dockInsidePlotArea||"center"===p.title.horizontalAlign&&"center"===p.title.verticalAlign)&&(p.title.ctx=t,p.title.render()),p.subtitles)for(var e=0;e<p.subtitles.length;e++){var i=p.subtitles[e];(i.dockInsidePlotArea||"center"===i.horizontalAlign&&"center"===i.verticalAlign)&&(p.subtitles.ctx=t,i.render())}p.legend&&(p.legend.dockInsidePlotArea||"center"===p.legend.horizontalAlign&&"center"===p.legend.verticalAlign)&&(p.legend.ctx=t,p.legend.setLayout(),p.legend.render()),H.fNg&&H.fNg(p)}var p=this;if(!(0>=t.dataSeriesIndexes.length)){for(var c=this.data[t.dataSeriesIndexes[0]],g=c.dataPoints,m=this.plotArea,v=.025*m.width,C=.01*m.width,x=0,b=m.height-2*v,w=Math.min(m.width-2*C,2.8*m.height),E=!1,P=0;P<g.length;P++)!E&&"undefined"!==typeof g[P].indexLabel&&null!==g[P].indexLabel&&0<g[P].indexLabel.toString().length&&(E=!0),!E&&"undefined"!==typeof g[P].label&&null!==g[P].label&&0<g[P].label.toString().length&&(E=!0),(!E&&"function"===typeof c.indexLabelFormatter||"function"===typeof g[P].indexLabelFormatter)&&(E=!0);E=E||"undefined"!==typeof c.indexLabel&&null!==c.indexLabel&&0<c.indexLabel.toString().length,"inside"!==c.indexLabelPlacement&&E||(C=(m.width-.75*w)/2);P=m.x1+C;var S=m.x2-C,T=m.y1+v,_=m.y2-v,M=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=c.length&&c.dataPoints&&c.visible&&0!==g.length){var R,A,D=30*(S-(t=75*w/100))/100;"funnel"===c.type?(R=d(c.options.neckHeight)?.35*b:c.neckHeight,A=d(c.options.neckWidth)?.25*t:c.neckWidth,"string"===typeof R&&R.match(/%$/)?R=(R=parseInt(R))*b/100:R=parseInt(R),"string"===typeof A&&A.match(/%$/)?A=(A=parseInt(A))*t/100:A=parseInt(A),R>b?R=b:0>=R&&(R=0),A>t?A=t-.5:0>=A&&(A=0)):"pyramid"===c.type&&(A=R=0,c.reversed=!c.reversed);C=P+t/2;var k=P,F=P+t,I=c.reversed?_:T,L=C-A/2,N=C+A/2,V=c.reversed?T+R:_-R,B=c.reversed?T:_;t=[];C=[];var W,G=[],j=(w=[],T),U=(V-I)/(L-k),Y=-U;if(-1!==(P="area"===(c.valueRepresents?c.valueRepresents:"height")?function(){var t,e,i=k,n=F,o=L,r=N;t=T,e=_-R,r=Math.abs((e-t)*(n-i+(r-o))/2),t=e-t,e=(o=N-L)*(e-_),e=r+(e=Math.abs(e)),r=[];for(var a=0,s=0;s<g.length;s++){if("undefined"===typeof g[s].y)return-1;g[s].y="number"===typeof g[s].y?g[s].y:0,a+=Math.abs(g[s].y)}if(0===a)return-1;var l,u,h=r[0]=0,p=0;for(n-=i,h=!1,s=0;s<g.length;s++)i=Math.abs(g[s].y)*e/a,h?l=0==Number(o.toFixed(3))?0:i/o:0>(u=U*U*n*n-4*Math.abs(U)*i)?(i-=h=(n+(u=o))*(t-p)/2,l=t-p,p+=t-p,l+=0==u?0:i/u,p+=i/u,h=!0):(u=n-2*(l=(Math.abs(U)*n-Math.sqrt(u))/2)/Math.abs(U),(p+=l)>t&&(h=(n+(u=o))*(t-(p-=l))/2,l=t-p,p+=t-p,l+=(i-=h)/u,p+=i/u,h=!0),n=u),r.push(l);return r}():function(){for(var t=0,e=[],i=0;i<g.length;i++){if("undefined"===typeof g[i].y)return-1;g[i].y="number"===typeof g[i].y?g[i].y:0,t+=Math.abs(g[i].y)}if(0===t)return-1;for(i=e[0]=0;i<g.length;i++)e.push(Math.abs(g[i].y)*b/t);return e}())){if(c.reversed)for(w.push(j),A=P.length-1;0<A;A--)j+=P[A],w.push(j);else for(A=0;A<P.length;A++)j+=P[A],w.push(j);if(c.reversed)for(A=0;A<P.length;A++)w[A]<V?(t.push(L),C.push(N),W=A):(t.push((w[A]-I+U*k)/U),C.push((w[A]-I+Y*F)/Y));else for(A=0;A<P.length;A++)w[A]<V?(t.push((w[A]-I+U*k)/U),C.push((w[A]-I+Y*F)/Y),W=A):(t.push(L),C.push(N));for(A=0;A<P.length-1;A++)j=c.reversed?g[g.length-1-A].color?g[g.length-1-A].color:c._colorSet[(g.length-1-A)%c._colorSet.length]:g[A].color?g[A].color:c._colorSet[A%c._colorSet.length],A===W?G.push({x1:t[A],y1:w[A],x2:C[A],y2:w[A],x3:N,y3:V,x4:C[A+1],y4:w[A+1],x5:t[A+1],y5:w[A+1],x6:L,y6:V,id:A,height:w[A+1]-w[A],color:j}):G.push({x1:t[A],y1:w[A],x2:C[A],y2:w[A],x3:C[A+1],y3:w[A+1],x4:t[A+1],y4:w[A+1],id:A,height:w[A+1]-w[A],color:j});var X=2,q=[],K=!1,Q=[],Z=[];P=!1;for(t=t=0,f(Q),A=0;A<g.length;A++)g[A].exploded&&(P=!0,c.reversed?Q.push(g.length-1-A):Q.push(A));if(M.clearRect(m.x1,m.y1,m.width,m.height),M.fillStyle=p.backgroundColor,M.fillRect(m.x1,m.y1,m.width,m.height),E&&c.visible&&(function(){if(c&&g){for(var t,e,i,n,o,r,a,u,h,f,m,y,v,C,x=[],b=[],w={percent:null,total:null},E=null,P=0;P<g.length;P++)C=s(C="undefined"!==typeof(C=G[P]).x5?(C.y2+C.y4)/2:(C.y2+C.y3)/2).x2+1,x[P]=S-C-D;C=.5*D,P=0;for(var T=g.length-1;P<g.length||0<=T;P++,T--)t=(e=c.reversed?g[T]:g[P]).color?e.color:c.reversed?c._colorSet[(g.length-1-P)%c._colorSet.length]:c._colorSet[P%c._colorSet.length],i=e.indexLabelPlacement||c.indexLabelPlacement||"outside",n=e.indexLabelBackgroundColor||c.indexLabelBackgroundColor||(z?"transparent":null),o=e.indexLabelFontColor||c.indexLabelFontColor||"#979797",r=d(e.indexLabelFontSize)?c.indexLabelFontSize:e.indexLabelFontSize,a=e.indexLabelFontStyle||c.indexLabelFontStyle||"normal",u=e.indexLabelFontFamily||c.indexLabelFontFamily||"arial",h=e.indexLabelFontWeight||c.indexLabelFontWeight||"normal",t=e.indexLabelLineColor||c.options.indexLabelLineColor||t,f="number"===typeof e.indexLabelLineThickness?e.indexLabelLineThickness:"number"===typeof c.indexLabelLineThickness?c.indexLabelLineThickness:2,m=e.indexLabelLineDashType||c.indexLabelLineDashType||"solid",y="undefined"!==typeof e.indexLabelWrap?e.indexLabelWrap:"undefined"===typeof c.indexLabelWrap||c.indexLabelWrap,v=c.dataPointIds[P],p._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataPointIndex:P,dataSeriesIndex:0,funnelSection:G[c.reversed?g.length-1-P:P]},"inside"===c.indexLabelPlacement&&(x[P]=P!==W?c.reversed?G[P].x2-G[P].x1:G[P].x3-G[P].x4:G[P].x3-G[P].x6,20>x[P]&&(x[P]=P!==W&&c.reversed?G[P].x3-G[P].x4:G[P].x2-G[P].x1,x[P]/=2)),((v=e.indexLabelMaxWidth?e.indexLabelMaxWidth:c.options.indexLabelMaxWidth?c.indexLabelMaxWidth:x[P])>x[P]||0>v)&&(v=x[P]),b[P]="inside"===c.indexLabelPlacement&&G[P].height,w=p.getPercentAndTotal(c,e),(c.indexLabelFormatter||e.indexLabelFormatter)&&(E={chart:p.options,dataSeries:c,dataPoint:e,total:w.total,percent:w.percent}),e=e.indexLabelFormatter?e.indexLabelFormatter(E):e.indexLabel?p.replaceKeywordsWithValue(e.indexLabel,e,c,P):c.indexLabelFormatter?c.indexLabelFormatter(E):c.indexLabel?p.replaceKeywordsWithValue(c.indexLabel,e,c,P):e.label?e.label:"",0>=f&&(f=0),1e3>v&&1e3-v<C&&(v+=1e3-v),M.roundRect||l(M),(i=new O(M,{fontSize:r,fontFamily:u,fontColor:o,fontStyle:a,fontWeight:h,horizontalAlign:i,backgroundColor:n,maxWidth:v,maxHeight:!1===b[P]?y?4.28571429*r:1.5*r:b[P],text:e,padding:X})).measureText(),q.push({textBlock:i,id:c.reversed?T:P,isDirty:!1,lineColor:t,lineThickness:f,lineDashType:m,height:i.height<i.maxHeight?i.height:i.maxHeight,width:i.width<i.maxWidth?i.width:i.maxWidth})}}(),e(),function(){var t,e,i,n,o,r=[];o=!1,i=0;for(var s,l=S-F-D/2,u=(l=c.options.indexLabelMaxWidth?c.indexLabelMaxWidth>l?l:c.indexLabelMaxWidth:l,q.length-1);0<=u;u--)s=g[q[u].id],n=(i=q[u]).textBlock,e=(t=a(u)<G.length?q[a(u)]:null)?t.textBlock:null,i=i.height,t&&n.y+i+X>e.y&&(o=!0),((i=s.indexLabelMaxWidth||l)>l||0>i)&&(i=l),r.push(i);if(o)for(u=q.length-1;0<=u;u--)t=G[u],q[u].textBlock.maxWidth=r[r.length-(u+1)],q[u].textBlock.measureText(),q[u].textBlock.x=S-l,i=q[u].textBlock.height<q[u].textBlock.maxHeight?q[u].textBlock.height:q[u].textBlock.maxHeight,o=q[u].textBlock.width<q[u].textBlock.maxWidth?q[u].textBlock.width:q[u].textBlock.maxWidth,q[u].height=i,q[u].width=o,i="undefined"!==typeof t.x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,q[u].textBlock.y=i-q[u].height/2,c.reversed?(q[u].textBlock.y+q[u].height>I+v&&(q[u].textBlock.y=I+v-q[u].height),q[u].textBlock.y<B-v&&(q[u].textBlock.y=B-v)):(q[u].textBlock.y<I-v&&(q[u].textBlock.y=I-v),q[u].textBlock.y+q[u].height>B+v&&(q[u].textBlock.y=B+v-q[u].height))}(),"inside"!==c.indexLabelPlacement)){for(function(){function t(e,n){var o;if(0>e||e>=q.length)return 0;var s,l=q[e].textBlock;return 0>n?(n*=-1,(o=i(s=r(e),e))>=n?(l.y-=n,n):0==e?(0<o&&(l.y-=o),o):(0<(o+=t(s,-(n-o)))&&(l.y-=o),o)):(o=i(e,s=a(e)))>=n?(l.y+=n,n):e==G.length-1?(0<o&&(l.y+=o),o):(0<(o+=t(s,n-o))&&(l.y+=o),o)}function e(){var t,e,i,o,s,l=0;o=(_-T+2*v)/c,s=c;for(var u,h=1;h<s;h++){i=h*o;for(var p=q.length-1;0<=p;p--)!q[p].isDirty&&q[p].textBlock.y<i&&q[p].textBlock.y+q[p].height>i&&!((u=a(p))>=q.length-1)&&q[p].textBlock.y+q[p].height+X>q[u].textBlock.y&&(q[p].textBlock.y=q[p].textBlock.y+q[p].height-i>i-q[p].textBlock.y?i+1:i-q[p].height-1)}for(u=G.length-1;0<u;u--)if(!q[u].isDirty){if(0>(i=r(u))&&q[i=0].isDirty)break;if(q[u].textBlock.y<q[i].textBlock.y+q[i].height){for(e=e||u,o=u,s=0;q[o].textBlock.y<q[i].textBlock.y+q[i].height+X;){if(t=t||q[o].textBlock.y+q[o].height,s+=q[o].height,s+=X,0>=(o=i)){s+=q[o=0].height;break}if(0>(i=r(o))){s+=q[o=0].height;break}}if(o!=u){l=n(t=s-(t-=l=q[o].textBlock.y),e,o);break}}}return l}function n(t,e,i){var n=[],o=0,r=0;for(t=Math.abs(t);i<=e;i++)n.push(G[i]);for(n.sort((function(t,e){return t.height-e.height})),i=0;i<n.length&&(e=n[i],o<t);i++)r++,o+=q[e.id].height+X,q[e.id].textBlock.text="",q[e.id].indexLabelText="",q[e.id].isDirty=!0,q[e.id].textBlock.measureText();return r}for(var o,s,l,u,h,p,c=1,d=0;d<2*c;d++){for(var f=q.length-1;0<=f&&(0<=r(f)&&r(f),u=(l=q[f]).textBlock,p=(h=a(f)<G.length?q[a(f)]:null)?h.textBlock:null,o=+l.height.toFixed(6),s=+u.y.toFixed(6),!(!l.isDirty&&h&&s+o+X>+p.y.toFixed(6)&&(o=u.y+o+X-p.y,s=t(f,-o),s<o&&(0<s&&(o-=s),s=t(a(f),o),s!=o))));f--);e()}}(),A=0;A<g.length;A++)q[A].isDirty||(t=q[A].textBlock.x+q[A].width,t=(S-t)/2,0==A&&(x=t),x>t&&(x=t));for(A=0;A<G.length;A++)G[A].x1+=x,G[A].x2+=x,G[A].x3+=x,G[A].x4+=x,G[A].x5&&(G[A].x5+=x,G[A].x6+=x),q[A].textBlock.x+=x}for(A=0;A<G.length;A++)x=G[A],$(M,x,c.fillOpacity),Z.push(x.y1);if(h(M),E&&c.visible&&("inside"===c.indexLabelPlacement||p.animationEnabled||o(M),p.animationEnabled||u()),!E)for(A=0;A<g.length;A++)t={id:x=c.dataPointIds[A],objectType:"dataPoint",dataPointIndex:A,dataSeriesIndex:0,funnelSection:G[c.reversed?g.length-1-A:A]},p._eventManager.objectMap[x]=t;return(!p.animationEnabled&&P||p.animationEnabled&&!p.animatedRender)&&n(p,-1,0),this.funnelPyramidClickHandler=function(t){var e=-1;!K&&!p.isAnimating&&(d(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=c.reversed?g.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==c.type&&"pyramid"!==c.type||(c.reversed?g[g.length-1-t].exploded=!g[g.length-1-t].exploded:g[t].exploded=!g[t].exploded),n(p,e,500))},{source:M,dest:this.plotArea.ctx,animationCallback:function(t,e){J.fadeInAnimation(t,e),1<=t&&(n(p,-1,500),h(p.plotArea.ctx||p.ctx))},easingFunction:J.easing.easeInQuad,animationBase:0}}}}},e.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,e.prototype.set=function(t,i,n){n="undefined"===typeof n||n,"options"===t?(this.options=i,n&&this.render()):e.base.set.call(this,t,i,n)},e.prototype.exportChart=function(t){var e=(t="undefined"===typeof t?{}:t).format?t.format:"png",i=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);h(this.canvas,e,i)},e.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var i=this,n=e.contentWindow||e.contentDocument.document||e.contentDocument;n.document.open(),n.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),n.document.close(),setTimeout((function(){n.focus(),n.print(),setTimeout((function(){i._canvasJSContainer.removeChild(e)}),1e3)}),500)},e.prototype.getPercentAndTotal=function(t,e){var i=null,n=null,o=null;if(0<=t.type.indexOf("stacked"))n=0,(i=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(n=t.plotUnit.yTotals[i],o=isNaN(e.y)?0:e.y/n*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(i=n=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(n+=t.dataPoints[i].y);o=isNaN(e.y)?0:e.y/n*100}return{percent:o,total:n}},e.prototype.replaceKeywordsWithValue=function(t,e,i,n,o){var r=this;if(o="undefined"===typeof o?0:o,(0<=i.type.indexOf("stacked")||"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var a="#percent",l="#total",u=this.getPercentAndTotal(i,e);l=isNaN(u.total)?l:u.total,a=isNaN(u.percent)?a:u.percent;do{if(u="",i.percentFormatString)u=i.percentFormatString;else{u="#,##0.";var h=Math.max(Math.ceil(Math.log(1/Math.abs(a))/Math.LN10),2);!isNaN(h)&&isFinite(h)||(h=2);for(var p=0;p<h;p++)u+="#";i.percentFormatString=u}t=(t=t.replace("#percent",at(a,u,r._cultureInfo))).replace("#total",at(l,i.yValueFormatString?i.yValueFormatString:"#,##0.########",r._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=(t=s(t.slice(1,t.length-1))).replace("#index",o);var a=null;try{var u=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);u&&0<u.length&&(a=s(u[2]),t=s(u[1]))}catch(l){}if(u=null,"color"===t)return"waterfall"===i.type?e.color?e.color:0<e.y?i.risingColor:i.fallingColor:"error"===i.type?i.color?i.color:i._colorSet[a%i._colorSet.length]:e.color?e.color:i.color?i.color:i._colorSet[n%i._colorSet.length];if(e.hasOwnProperty(t))u=e;else{if(!i.hasOwnProperty(t))return"";u=i}return u=u[t],null!==a&&(u=u[a]),"x"!==t?"y"===t?at(u,e.yValueFormatString?e.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",r._cultureInfo):"z"===t?at(u,e.zValueFormatString?e.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",r._cultureInfo):u:"dateTime"===i.axisX.valueType||"dateTime"===i.xValueType||e.x&&e.x.getTime?r.plotInfo.plotTypes[0].plotUnits[0].axisX&&!r.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?rt(u,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=r.axisX&&r.axisX.autoValueFormatString?r.axisX.autoValueFormatString:"DD MMM YY",r._cultureInfo):void 0:at(u,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",r._cultureInfo)}))},i(L,M),L.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,n=0,o=0,r=0,a=0,s=this.markerMargin=this.chart.options.legend&&!d(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var l=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,r=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,r=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var h=0;h<this.dataSeries.length;h++){var p=this.dataSeries[h];if(p.dataPoints&&p.dataPoints.length)if("pie"!==p.type&&"doughnut"!==p.type&&"funnel"!==p.type&&"pyramid"!==p.type){var c=p.legendMarkerType=p.legendMarkerType?p.legendMarkerType:"line"!==p.type&&"stepLine"!==p.type&&"spline"!==p.type&&"scatter"!==p.type&&"bubble"!==p.type||!p.markerType?"error"===p.type&&p._linkedSeries?p._linkedSeries.legendMarkerType?p._linkedSeries.legendMarkerType:N.getDefaultLegendMarker(p._linkedSeries.type):N.getDefaultLegendMarker(p.type):p.markerType,f=p.legendText?p.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:p,dataPoint:null}):p.name,g=p.legendMarkerColor=p.legendMarkerColor?p.legendMarkerColor:p.markerColor?p.markerColor:"error"===p.type?d(p.whiskerColor)?p._colorSet[0]:p.whiskerColor:p._colorSet[0],m=p.markerSize||"line"!==p.type&&"stepLine"!==p.type&&"spline"!==p.type?.75*this.lineHeight:0,y=p.legendMarkerBorderColor?p.legendMarkerBorderColor:p.markerBorderColor,v=p.legendMarkerBorderThickness?p.legendMarkerBorderThickness:p.markerBorderThickness?Math.max(1,Math.round(.2*m)):0;"error"===p.type&&this.errorMarkerColor.push(g),c={markerType:c,markerColor:g,text:f=this.chart.replaceKeywordsWithValue(f,p.dataPoints[0],p,h),textBlock:null,chartType:p.type,markerSize:m,lineColor:p._colorSet[0],dataSeriesIndex:p.index,dataPointIndex:null,markerBorderColor:y,markerBorderThickness:v},l.push(c)}else for(var C=0;C<p.dataPoints.length;C++){var x=p.dataPoints[C];c=x.legendMarkerType?x.legendMarkerType:p.legendMarkerType?p.legendMarkerType:N.getDefaultLegendMarker(p.type),f=x.legendText?x.legendText:p.legendText?p.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:p,dataPoint:x}):x.name?x.name:"DataPoint: "+(C+1),g=x.legendMarkerColor?x.legendMarkerColor:p.legendMarkerColor?p.legendMarkerColor:x.color?x.color:p.color?p.color:p._colorSet[C%p._colorSet.length],m=.75*this.lineHeight,y=x.legendMarkerBorderColor?x.legendMarkerBorderColor:p.legendMarkerBorderColor?p.legendMarkerBorderColor:x.markerBorderColor?x.markerBorderColor:p.markerBorderColor,v=x.legendMarkerBorderThickness?x.legendMarkerBorderThickness:p.legendMarkerBorderThickness?p.legendMarkerBorderThickness:x.markerBorderThickness||p.markerBorderThickness?Math.max(1,Math.round(.2*m)):0,c={markerType:c,markerColor:g,text:f=this.chart.replaceKeywordsWithValue(f,x,p,C),textBlock:null,chartType:p.type,markerSize:m,dataSeriesIndex:h,dataPointIndex:C,markerBorderColor:y,markerBorderThickness:v};(x.showInLegend||p.showInLegend&&!1!==x.showInLegend)&&l.push(c)}}if(!0===this.reversed&&l.reverse(),0<l.length){for(p=null,g=f=x=C=0,x=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,r):this.itemMaxWidth=Math.min(this.itemWidth,r):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,r):this.itemMaxWidth=r,x-=(m=0===m?.75*this.lineHeight:m)+s,h=0;h<l.length;h++)y=x,"line"!==(c=l[h]).chartType&&"spline"!==c.chartType&&"stepLine"!==c.chartType||(y-=.2*this.lineHeight),0>=a||"undefined"===typeof a||0>=y||"undefined"===typeof y||("horizontal"===this.orientation?(c.textBlock=new O(this.ctx,{x:0,y:0,maxWidth:y,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),c.textBlock.measureText(),null!==this.itemWidth&&(c.textBlock.width=this.itemWidth-(m+s+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))),(!p||p.width+Math.round(c.textBlock.width+m+s+(0===p.width?0:this.horizontalSpacing)+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))>r)&&(p={items:[],width:0},u.push(p),this.height+=f,f=0),f=Math.max(f,c.textBlock.height)):(c.textBlock=new O(this.ctx,{x:0,y:0,maxWidth:x,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),c.textBlock.measureText(),null!==this.itemWidth&&(c.textBlock.width=this.itemWidth-(m+s+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?(p={items:[],width:0},u.push(p)):(p=u[C],C=(C+1)%u.length),this.height+=c.textBlock.height),c.textBlock.x=p.width,c.textBlock.y=0,p.width+=Math.round(c.textBlock.width+m+s+(0===p.width?0:this.horizontalSpacing)+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0)),p.items.push(c),this.width=Math.max(p.width,this.width),g=c.textBlock.width+(m+s+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0)));this.itemWidth=g,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+f,this.height=Math.min(a,this.height),this.width=Math.min(r,this.width)}for("top"===this.verticalAlign?(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y1):"center"===this.verticalAlign?(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y2-this.height),this.items=l,h=0;h<this.items.length;h++)(c=l[h]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[c.id]={id:c.id,objectType:"legendItem",legendItemIndex:h,dataSeriesIndex:c.dataSeriesIndex,dataPointIndex:c.dataPointIndex};this.markerSize=m,this.rows=u,0<l.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:o,y1:n,x2:o+this.width,y2:n+this.height}},L.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,i=this.markerMargin,n=this.maxWidth,o=this.maxHeight,r=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var s=0,l=0;l<a.length;l++){for(var u=a[l],h=0,c=0;c<u.items.length;c++){var d=u.items[c],f=d.textBlock.x+t+(0===c?.2*r:this.horizontalSpacing),g=e+s,m=f;if(this.chart.data[d.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,n,Math.max(o-o%this.lineHeight,0)),this.ctx.clip(),"line"!==d.chartType&&"stepLine"!==d.chartType&&"spline"!==d.chartType||(this.ctx.strokeStyle=d.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(f+.85*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),m-=.1*this.lineHeight),"error"===d.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=r/8,this.ctx.beginPath();var y=f-.08*this.lineHeight+.1*this.lineHeight,v=g+.15*this.lineHeight,C=.7*this.lineHeight,x=C+.02*this.lineHeight;this.ctx.moveTo(y,v),this.ctx.lineTo(y+C,v),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y+C/2,v),this.ctx.lineTo(y+C/2,v+x),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y,v+x),this.ctx.lineTo(y+C,v+x),this.ctx.stroke(),this.errorMarkerColor.shift()}et.drawMarker(f+r/2,g+this.lineHeight/2,this.ctx,d.markerType,"error"===d.chartType||"line"===d.chartType||"spline"===d.chartType?d.markerSize/2:d.markerSize,d.markerColor,d.markerBorderColor,d.markerBorderThickness),d.textBlock.x=f+i+r,"line"!==d.chartType&&"stepLine"!==d.chartType&&"spline"!==d.chartType||(d.textBlock.x+=.1*this.lineHeight),d.textBlock.y=Math.round(g+this.lineHeight/2),d.textBlock.render(!0),this.ctx.restore(),h=0<c?Math.max(h,d.textBlock.height):d.textBlock.height,this.chart.data[d.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),f=p(d.id),this.ghostCtx.fillStyle=f,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(m,d.textBlock.y-this.lineHeight/2,d.textBlock.x+d.textBlock.width-m,d.textBlock.height),d.x1=this.chart._eventManager.objectMap[d.id].x1=m,d.y1=this.chart._eventManager.objectMap[d.id].y1=d.textBlock.y-this.lineHeight/2,d.x2=this.chart._eventManager.objectMap[d.id].x2=d.textBlock.x+d.textBlock.width,d.y2=this.chart._eventManager.objectMap[d.id].y2=d.textBlock.y+d.textBlock.height-this.lineHeight/2}s+=h}},i(N,M),N.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},N.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},N.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},n=null,o=0,r=0,a=1,s=1/0,l=0,u=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?h=1<(h=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/h*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:h=0<(h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/h*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(r=0<a?h+o:h-o)&&r<this.dataPoints.length){n=this.dataPoints[r];var p=this.axisX.logarithmic?n.x>t?n.x/t:t/n.x:Math.abs(n.x-t);if(p<i.distance&&(i.dataPoint=n,i.distance=p,i.index=r),(n=p)<=s?s=n:0<a?l++:u++,1e3<l&&1e3<u)break}else if(0>h-o&&h+o>=this.dataPoints.length)break;-1===a?(o++,a=1):a=-1}return e||i.dataPoint.x!==t?e&&null!==i.dataPoint?i:null:i},N.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var n=[],o=0,r=0,a=1,s=!1,l=1/0,u=0,h=0,p=0;if("none"!==this.chart.plotInfo.axisPlacement)if(p=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e}),this.axisX.logarithmic)p=1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(p/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else p=0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(p-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(0<=(r=0<a?p+o:p-o)&&r<this.dataPoints.length){var c=this.chart._eventManager.objectMap[this.dataPointIds[r]],d=this.dataPoints[r],f=null;if(c){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=c.x1&&t<=c.x2&&e>=c.y1&&e<=c.y2&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(c.x1-t),Math.abs(c.x2-t),Math.abs(c.y1-e),Math.abs(c.y2-e))}),s=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var g=x("markerSize",d,this)||4,m=i?20:g;(f=Math.sqrt(Math.pow(c.x1-t,2)+Math.pow(c.y1-e,2)))<=m&&n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:f}),(c=Math.abs(c.x1-t))<=l?l=c:0<a?u++:h++,f<=g/2&&(s=!0);break;case"rangeArea":case"rangeSplineArea":g=x("markerSize",d,this)||4,m=i?20:g,(f=Math.min(Math.sqrt(Math.pow(c.x1-t,2)+Math.pow(c.y1-e,2)),Math.sqrt(Math.pow(c.x1-t,2)+Math.pow(c.y2-e,2))))<=m&&n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:f}),(c=Math.abs(c.x1-t))<=l?l=c:0<a?u++:h++,f<=g/2&&(s=!0);break;case"bubble":g=c.size,(f=Math.sqrt(Math.pow(c.x1-t,2)+Math.pow(c.y1-e,2)))<=g/2&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:f}),s=!0);break;case"pie":case"doughnut":g=c.center,m="doughnut"===this.type?c.percentInnerRadius*c.radius:0,(f=Math.sqrt(Math.pow(g.x-t,2)+Math.pow(g.y-e,2)))<c.radius&&f>m&&(0>(f=Math.atan2(e-g.y,t-g.x))&&(f+=2*Math.PI),f=Number(((f/Math.PI*180%360+360)%360).toFixed(12)),g=Number(((c.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(m=Number(((c.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<c.endAngle&&(m=360),g>=m&&0!==d.y&&(m+=360,f<g&&(f+=360)),f>g&&f<m&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:0}),s=!0));break;case"funnel":case"pyramid":e>(f=c.funnelSection).y1&&e<f.y4&&(f.y6?e>f.y6?(r=f.x6+(f.x5-f.x6)/(f.y5-f.y6)*(e-f.y6),f=f.x3+(f.x4-f.x3)/(f.y4-f.y3)*(e-f.y3)):(r=f.x1+(f.x6-f.x1)/(f.y6-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)):(r=f.x1+(f.x4-f.x1)/(f.y4-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)),t>r&&t<f&&(n.push({dataPoint:d,dataPointIndex:c.dataPointIndex,dataSeries:this,distance:0}),s=!0));break;case"boxAndWhisker":(t>=c.x1-c.borderThickness/2&&t<=c.x2+c.borderThickness/2&&e>=c.y4-c.borderThickness/2&&e<=c.y1+c.borderThickness/2||Math.abs(c.x2-t+c.x1-t)<c.borderThickness&&e>=c.y1&&e<=c.y4)&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(c.x1-t),Math.abs(c.x2-t),Math.abs(c.y2-e),Math.abs(c.y3-e))}),s=!0);break;case"candlestick":(t>=c.x1-c.borderThickness/2&&t<=c.x2+c.borderThickness/2&&e>=c.y2-c.borderThickness/2&&e<=c.y3+c.borderThickness/2||Math.abs(c.x2-t+c.x1-t)<c.borderThickness&&e>=c.y1&&e<=c.y4)&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(c.x1-t),Math.abs(c.x2-t),Math.abs(c.y2-e),Math.abs(c.y3-e))}),s=!0);break;case"ohlc":(Math.abs(c.x2-t+c.x1-t)<c.borderThickness&&e>=c.y2&&e<=c.y3||t>=c.x1&&t<=(c.x2+c.x1)/2&&e>=c.y1-c.borderThickness/2&&e<=c.y1+c.borderThickness/2||t>=(c.x1+c.x2)/2&&t<=c.x2&&e>=c.y4-c.borderThickness/2&&e<=c.y4+c.borderThickness/2)&&(n.push({dataPoint:d,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(c.x1-t),Math.abs(c.x2-t),Math.abs(c.y2-e),Math.abs(c.y3-e))}),s=!0)}if(s||1e3<u&&1e3<h)break}}else if(0>p-o&&p+o>=this.dataPoints.length)break;-1===a?(o++,a=1):a=-1}for(t=null,e=0;e<n.length;e++)t?n[e].distance<=t.distance&&(t=n[e]):t=n[e];return t},N.prototype.getMarkerProperties=function(t,e,i,n){var o=this.dataPoints;return{x:e,y:i,ctx:n,type:o[t].markerType?o[t].markerType:this.markerType,size:o[t].markerSize?o[t].markerSize:this.markerSize,color:o[t].markerColor?o[t].markerColor:this.markerColor?this.markerColor:o[t].color?o[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:o[t].markerBorderColor?o[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:o[t].markerBorderThickness?o[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},i(V,M),V.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=V.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/i)*i;n<e;n+=i)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(u),this.createExtraLabelsForLog(t)}}},V.prototype.createLabels=function(){var t,e,i,n,a,s=0,l=0,u=0,h=0,p=(l=0,l=this.interval,0),c=.6*this.chart.height;t=!1;var f=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],g=f.length?d(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(i=this.viewportMaximum,this.labels){t=Math.ceil(l);var m=!1;for(s=l=Math.ceil(this.intervalStartPosition);s<this.viewportMaximum;s+=t){if(!this.labels[s]){m=!1;break}m=!0}m&&(this.interval=t,this.intervalStartPosition=l)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),l=0,m=g;l<this.logLabelValues.length;l++)if((s=this.logLabelValues[l])<this.viewportMinimum)l++;else{for(;m<f.length&&s>f[m].endValue;m++);a=s,(t=m<f.length&&s>=f[m].startValue&&s<=f[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:a,label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:at(a,this.valueFormatString,this.chart._cultureInfo),t=new O(this.ctx,o({x:0,y:0,maxWidth:u,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:a,textBlock:t,effectiveHeight:null}))}for(m=g,s=this.intervalStartPosition;s<=i;s=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval:(this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval).toFixed(12))){for(;m<f.length&&s>f[m].endValue;m++);a=s,(t=m<f.length&&s>=f[m].startValue&&s<=f[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:a,label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:at(a,this.valueFormatString,this.chart._cultureInfo),t=new O(this.ctx,{x:0,y:0,maxWidth:u,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:a,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),i=r(new Date(this.viewportMaximum),this.interval,this.intervalType),m=g,s=this.intervalStartPosition;s<i;r(s,l,this.intervalType)){for(t=s.getTime();m<f.length&&t>f[m].endValue;m++);a=t,(t=m<f.length&&t>=f[m].startValue&&t<=f[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(a),label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:rt(a,this.valueFormatString,this.chart._cultureInfo),t=new O(this.ctx,{x:0,y:0,maxWidth:u,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:a,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(p=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*tt[this.intervalType+"Duration"]*this.interval,u="undefined"===typeof this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(h="undefined"===typeof this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(p=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*tt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(u="undefined"===typeof this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),h="undefined"===typeof this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),l=0;l<this._labels.length;l++){(t=this._labels[l].textBlock).maxWidth=u,t.maxHeight=h;var y=t.measureText();n=y.height}if(i=[],g=f=0,this.labelAutoFit||this.options.labelAutoFit)if(d(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(u=.9*p>>0,g=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=u,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){var v;for(m=(t=this._labels[s].textBlock).text.split(" "),l=0;l<m.length;l++)a=m[l],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(a=this.ctx.measureText(a)).width>g&&(v=s,g=a.width)}for(s=0,s=this.intervalStartPosition<this.viewportMinimum?1:0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(y=(t=this._labels[s].textBlock).measureText(),m=s+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}if(i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l=u*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:Math.min((l-u*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),a=(c-(n+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),d(this.options.labelWrap)){if(d(this.options.labelWrap))if(d(this.options.labelMaxWidth)){if(!d(e))if(l=y.width+e.width>>0,m=this.labelFontSize,g<u)l-2*u>f&&(f=l-2*u,l>=2*u&&l<2.2*u?(this.sessionVariables.labelMaxWidth=u,d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=2.2*u&&l<2.8*u?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=m):l>=2.8*u&&l<3.2*u?(this.sessionVariables.labelMaxWidth=Math.max(u,g),this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=3.2*u&&l<3.6*u?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*u&&l<5*u?(d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a):l>5*u&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=u,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle));else if(v===s&&(0===v&&g+this._labels[v+1].textBlock.measureText().width-2*u>f||v===this._labels.length-1&&g+this._labels[v-1].textBlock.measureText().width-2*u>f||0<v&&v<this._labels.length-1&&g+this._labels[v+1].textBlock.measureText().width-2*u>f&&g+this._labels[v-1].textBlock.measureText().width-2*u>f))f=0===v?g+this._labels[v+1].textBlock.measureText().width-2*u:g+this._labels[v-1].textBlock.measureText().width-2*u,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a;else if(0===f)for(this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,l=0;l<this._labels.length;l++)(t=this._labels[l].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(u,g),a),y=t.measureText(),l<this._labels.length-1&&(m=l+1,(e=this._labels[m].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(u,g),a),e=e.measureText(),y.width+e.width>>0>2*u&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<u?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h)}else this.labelWrap?d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(u,g),a),this.sessionVariables.labelWrap=this.labelWrap,y.width+e.width>>0>2*u&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>u?-25:this.sessionVariables.labelAngle):d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=u,y.width+e.width>>0>2*u&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>u?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:Math.min((l-u*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),a=0!=this.labelAngle?(c-(n+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):u,this.sessionVariables.labelMaxHeight=h=this.labelWrap?(c-a*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=l<.9*p?.9*p:l,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a):(d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=h)}for(l=0;l<this._labels.length;l++)(t=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(u=d(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,h="undefined"===typeof this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=u,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(y=(t=this._labels[s].textBlock).measureText(),m=s+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),l=u*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?d(this.options.labelWrap)?d(this.options.labelWrap)&&(d(this.options.labelMaxWidth)?d(e)||(p=y.height+e.height>>0)-2*h>g&&(g=p-2*h,p>=2*h&&p<2.4*h?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):p>=2.4*h&&p<2.8*h?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):p>=2.8*h&&p<3.2*h?(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):p>=3.2*h&&p<3.6*h?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):p>3.6*h&&p<10*h?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=u,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):p>10*h&&p<50*h&&(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:u,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?u:Math.min((l-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),h),d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:u,this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:l,d(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:l,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=u):(this.sessionVariables.labelMaxHeight=h,d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(l=0;l<this._labels.length;l++)(t=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(s=0;s<this.stripLines.length;s++){var C;"outside"===(u=this.stripLines[s]).labelPlacement?(h=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(C=d(u.options.labelWrap)?this.sessionVariables.labelMaxHeight:u.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(C=d(u.options.labelWrap)?this.sessionVariables.labelMaxHeight:u.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),d(u.labelBackgroundColor)&&(u.labelBackgroundColor="#EEEEEE")):(h="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,C=d(u.options.labelWrap)||u.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,d(u.labelBackgroundColor)&&(d(u.startValue)&&0!==u.startValue?u.labelBackgroundColor=z?"transparent":null:u.labelBackgroundColor="#EEEEEE")),t=new O(this.ctx,{x:0,y:0,backgroundColor:u.labelBackgroundColor,borderColor:u.labelBorderColor,borderThickness:u.labelBorderThickness,cornerRadius:u.labelCornerRadius,maxWidth:u.options.labelMaxWidth?u.options.labelMaxWidth:h,maxHeight:C,angle:this.labelAngle,text:u.labelFormatter?u.labelFormatter({chart:this.chart,axis:this,stripLine:u}):u.label,horizontalAlign:"left",fontSize:"outside"===u.labelPlacement?u.options.labelFontSize?u.labelFontSize:this.labelFontSize:u.labelFontSize,fontFamily:"outside"===u.labelPlacement?u.options.labelFontFamily?u.labelFontFamily:this.labelFontFamily:u.labelFontFamily,fontWeight:"outside"===u.labelPlacement?u.options.labelFontWeight?u.labelFontWeight:this.labelFontWeight:u.labelFontWeight,fontColor:u.labelFontColor||u.color,fontStyle:"outside"===u.labelPlacement?u.options.labelFontStyle?u.labelFontStyle:this.fontWeight:u.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:u.value,textBlock:t,effectiveHeight:null,stripLine:u})}},V.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var i=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var n=this._labels[e].textBlock,o=n.measureText(),r=0;t<(r=0===this.labelAngle?o.width:o.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(o.height-n.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=r),this._labels[e].effectiveWidth=r}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(o=(n=this._stripLineLabels[e].textBlock).measureText(),t<(r=0===this.labelAngle?o.width:o.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(o.height-n.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=r),this._stripLineLabels[e].effectiveWidth=r)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=e+i:e+t+this.tickLength+i},V.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,i=0,n=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(i=0;i<this._labels.length;i++){var o=(e=this._labels[i].textBlock).measureText(),r=0;t<(r=0===this.labelAngle?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(o.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=r),this._labels[i].effectiveHeight=r}for(i=0;i<this._stripLineLabels.length;i++)"outside"===this._stripLineLabels[i].stripLine.labelPlacement&&this._stripLineLabels[i].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[i].stripLine.value<=this.viewportMaximum&&(o=(e=this._stripLineLabels[i].textBlock).measureText(),t<(r=0===this.labelAngle?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(o.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=r),this._stripLineLabels[i].effectiveHeight=r)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=e+n:e+t+this.tickLength+n},V.setLayout=function(t,e,i,n,o,r){var a,s,l,u,h=t[0]?t[0].chart:e[0].chart,p=h.isNavigator?0:10,c=h._axes;if(t&&0<t.length)for(var f=0;f<t.length;f++)t[f]&&t[f].calculateAxisParameters();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateAxisParameters();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateAxisParameters();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateAxisParameters();for(f=0;f<c.length;f++)if(c[f]&&c[f].scaleBreaks&&c[f].scaleBreaks._appliedBreaks.length)for(var g=c[f].scaleBreaks._appliedBreaks,m=0;m<g.length&&!(g[m].startValue>c[f].viewportMaximum);m++)g[m].endValue<c[f].viewportMinimum||(d(c[f].scaleBreaks.firstBreakIndex)&&(c[f].scaleBreaks.firstBreakIndex=m),g[m].startValue>=c[f].viewPortMinimum&&(c[f].scaleBreaks.lastBreakIndex=m));var y,v,C,x,b,w=m=0,E=0,P=0,S=0,T=0,_=0,M=s=0;for(g=C=x=b=!1,f=0;f<c.length;f++)c[f]&&c[f].title&&(c[f]._titleTextBlock=new O(c[f].ctx,{text:c[f].title,horizontalAlign:"center",fontSize:c[f].titleFontSize,fontFamily:c[f].titleFontFamily,fontWeight:c[f].titleFontWeight,fontColor:c[f].titleFontColor,fontStyle:c[f].titleFontStyle,borderColor:c[f].titleBorderColor,borderThickness:c[f].titleBorderThickness,backgroundColor:c[f].titleBackgroundColor,cornerRadius:c[f].titleCornerRadius,textBaseline:"top"}));for(f=0;f<c.length;f++)if(c[f].title)switch(c[f]._position){case"left":c[f]._titleTextBlock.maxWidth=c[f].titleMaxWidth||r.height,c[f]._titleTextBlock.maxHeight=c[f].titleWrap?.8*r.width:1.5*c[f].titleFontSize,c[f]._titleTextBlock.angle=-90;break;case"right":c[f]._titleTextBlock.maxWidth=c[f].titleMaxWidth||r.height,c[f]._titleTextBlock.maxHeight=c[f].titleWrap?.8*r.width:1.5*c[f].titleFontSize,c[f]._titleTextBlock.angle=90;break;default:c[f]._titleTextBlock.maxWidth=c[f].titleMaxWidth||r.width,c[f]._titleTextBlock.maxHeight=c[f].titleWrap?.8*r.height:1.5*c[f].titleFontSize,c[f]._titleTextBlock.angle=0}if("normal"===o){P=[],S=[],T=[],_=[];for(var R=[],A=[],D=[],k=[];4>m;){var F=0,I=0,L=0,N=0,V=o=0,B=0,W=0,G=0,H=0,z=0,j=0;if(i&&0<i.length)for(T=[],f=z=0;f<i.length;f++)T.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateWidth():0)),z+=T[f],B+=i[f]&&!h.isNavigator?i[f].margin:0;else T.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(D.push(T),n&&0<n.length)for(_=[],f=j=0;f<n.length;f++)_.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateWidth():0)),j+=_[f],W+=n[f]?n[f].margin:0;else _.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(k.push(_),a=Math.round(r.x1+z+B),l=Math.round(r.x2-j-W>h.width-p?h.width-p:r.x2-j-W),t&&0<t.length)for(P=[],f=G=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates={}),t[f].lineCoordinates.width=Math.abs(l-a),t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.width?t[f].titleMaxWidth:t[f].lineCoordinates.width),P.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateHeight():0)),G+=P[f],o+=t[f]&&!h.isNavigator?t[f].margin:0;else P.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(R.push(P),e&&0<e.length)for(S=[],f=H=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates={}),e[f].lineCoordinates.width=Math.abs(l-a),e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.width?e[f].titleMaxWidth:e[f].lineCoordinates.width),S.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateHeight():0)),H+=S[f],V+=e[f]&&!h.isNavigator?e[f].margin:0;else S.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(A.push(S),t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates.x1=a,l=Math.round(r.x2-j-W>h.width-p?h.width-p:r.x2-j-W),t[f]._labels&&1<t[f]._labels.length&&(s=u=0,u=t[f]._labels[1],s="dateTime"===t[f].valueType?t[f]._labels[t[f]._labels.length-2]:t[f]._labels[t[f]._labels.length-1],w=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),E=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),!t[f]||!t[f].labelAutoFit||d(y)||d(v)||h.isNavigator||(s=0,0<t[f].labelAngle?v+E>l&&(s+=0<t[f].labelAngle?v+E-l-j:0):0>t[f].labelAngle?y-w<a&&y-w<t[f].viewportMinimum&&(M=a-(B+t[f].tickLength+T+y-w+t[f].labelFontSize/2)):0===t[f].labelAngle&&(v+E>l&&(s=v+E/2-l-j),y-w<a&&y-w<t[f].viewportMinimum&&(M=a-B-t[f].tickLength-T-y+w/2)),t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0<t[f].labelAngle&&0<s?l-=s:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0>t[f].labelAngle&&0<M?a+=M:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0===t[f].labelAngle&&(0<M&&(a+=M),0<s&&(l-=s))),h.panEnabled?G=h.sessionVariables.axisX.height:h.sessionVariables.axisX.height=G,s=Math.round(r.y2-G-o+F),u=Math.round(r.y2),t[f].lineCoordinates.x2=l,t[f].lineCoordinates.width=l-a,t[f].lineCoordinates.y1=s,t[f].lineCoordinates.y2=s,t[f].bounds={x1:a,y1:s,x2:l,y2:u-(G+o-P[f]-F),width:l-a,height:u-s}),F+=P[f]+t[f].margin;if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].lineCoordinates.x1=Math.round(r.x1+z+B),e[f].lineCoordinates.x2=Math.round(r.x2-j-W>h.width-p?h.width-p:r.x2-j-W),e[f].lineCoordinates.width=Math.abs(l-a),e[f]._labels&&1<e[f]._labels.length&&(u=e[f]._labels[1],s="dateTime"===e[f].valueType?e[f]._labels[e[f]._labels.length-2]:e[f]._labels[e[f]._labels.length-1],w=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),E=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),h.panEnabled?H=h.sessionVariables.axisX2.height:h.sessionVariables.axisX2.height=H,s=Math.round(r.y1),u=Math.round(r.y2+e[f].margin),e[f].lineCoordinates.y1=s+H+V-I,e[f].lineCoordinates.y2=s,e[f].bounds={x1:a,y1:s+(H+V-S[f]-I),x2:l,y2:u,width:l-a,height:u-s},I+=S[f]+e[f].margin;if(i&&0<i.length)for(f=0;f<i.length;f++)B=h.isNavigator?0:10,i[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),B=i[f]._labels&&0<i[f]._labels.length?i[f]._labels[i[f]._labels.length-1].textBlock.height/2:p,s=Math.round(r.y1+H+V<Math.max(B,p)?Math.max(B,p):r.y1+H+V),l=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),B=0<t.length?0:i[f]._labels&&0<i[f]._labels.length?i[f]._labels[0].textBlock.height/2:p,u=Math.round(r.y2-G-o-B),i[f].lineCoordinates={x1:l-L,y1:s,x2:l-L,y2:u,height:Math.abs(u-s)},i[f].bounds={x1:a-(T[f]+L),y1:s,x2:l,y2:u,width:l-a,height:u-s},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.height?i[f].titleMaxWidth:i[f].lineCoordinates.height),L+=T[f]+i[f].margin);if(n&&0<n.length)for(f=0;f<n.length;f++)n[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),l=Math.round(a),B=n[f]._labels&&0<n[f]._labels.length?n[f]._labels[n[f]._labels.length-1].textBlock.height/2:0,s=Math.round(r.y1+H+V<Math.max(B,p)?Math.max(B,p):r.y1+H+V),B=0<t.length?0:n[f]._labels&&0<n[f]._labels.length?n[f]._labels[0].textBlock.height/2:0,u=Math.round(r.y2-(G+o+B)),n[f].lineCoordinates={x1:a+N,y1:s,x2:a+N,y2:u,height:Math.abs(u-s)},n[f].bounds={x1:a,y1:s,x2:l+(_[f]+N),y2:u,width:l-a,height:u-s},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.height?n[f].titleMaxWidth:n[f].lineCoordinates.height),N+=_[f]+n[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),t[f]._labels&&1<t[f]._labels.length&&(y=(t[f].logarithmic?Math.log(t[f]._labels[1].position/t[f].viewportMinimum)/t[f].conversionParameters.lnLogarithmBase:t[f]._labels[1].position-t[f].viewportMinimum)*Math.abs(t[f].conversionParameters.pixelPerUnit)+t[f].lineCoordinates.x1,a=t[f]._labels[t[f]._labels.length-("dateTime"===t[f].valueType?2:1)].position,a=t[f].getApparentDifference(t[f].viewportMinimum,a),v=t[f].logarithmic?(1<a?Math.log(a)/t[f].conversionParameters.lnLogarithmBase*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1:(0<a?a*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1));if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),e[f]._labels&&1<e[f]._labels.length&&(y=(e[f].logarithmic?Math.log(e[f]._labels[1].position/e[f].viewportMinimum)/e[f].conversionParameters.lnLogarithmBase:e[f]._labels[1].position-e[f].viewportMinimum)*Math.abs(e[f].conversionParameters.pixelPerUnit)+e[f].lineCoordinates.x1,a=e[f]._labels[e[f]._labels.length-("dateTime"===e[f].valueType?2:1)].position,a=e[f].getApparentDifference(e[f].viewportMinimum,a),v=e[f].logarithmic?(1<a?Math.log(a)/e[f].conversionParameters.lnLogarithmBase*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1:(0<a?a*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1);for(f=0;f<c.length;f++)"axisY"===c[f].type&&(c[f].calculateValueToPixelConversionParameters(),c[f].calculateBreaksSizeInValues());if(0<m){if(t&&0<t.length)for(f=0;f<t.length;f++)g=R[m-1][f]===R[m][f];else g=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)C=A[m-1][f]===A[m][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)x=D[m-1][f]===D[m][f];else x=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)b=k[m-1][f]===k[m][f];else b=!0}if(g&&C&&x&&b)break;m++}if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels()}else{for(p=[],y=[],M=[],w=[],v=[],E=[],R=[],A=[];4>m;){if(G=N=I=L=W=B=V=o=k=D=F=H=0,t&&0<t.length)for(M=[],f=N=0;f<t.length;f++)M.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateWidth():0)),N+=M[f],o+=t[f]&&!h.isNavigator?t[f].margin:0;else M.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(R.push(M),e&&0<e.length)for(w=[],f=G=0;f<e.length;f++)w.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateWidth():0)),G+=w[f],V+=e[f]?e[f].margin:0;else w.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(A.push(w),i&&0<i.length)for(f=0;f<i.length;f++)i[f].lineCoordinates={},a=Math.round(r.x1+N+o),l=Math.round(r.x2-G-V>h.width-10?h.width-10:r.x2-G-V),i[f].labelAutoFit&&!d(P)&&(0<!t.length&&(a=0>i[f].labelAngle?Math.max(a,P):0===i[f].labelAngle?Math.max(a,P/2):a),0<!e.length&&(l=0<i[f].labelAngle||0===i[f].labelAngle?l-S/2:l)),i[f].lineCoordinates.x1=a,i[f].lineCoordinates.x2=l,i[f].lineCoordinates.width=Math.abs(l-a),i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width);if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].lineCoordinates={},a=Math.round(r.x1+N+o),l=Math.round(r.x2-G-V>n[f].chart.width-10?n[f].chart.width-10:r.x2-G-V),n[f]&&n[f].labelAutoFit&&!d(T)&&(0<!t.length&&(a=0<n[f].labelAngle?Math.max(a,T):0===n[f].labelAngle?Math.max(a,T/2):a),0<!e.length&&(l-=_/2)),n[f].lineCoordinates.x1=a,n[f].lineCoordinates.x2=l,n[f].lineCoordinates.width=Math.abs(l-a),n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width);if(i&&0<i.length)for(p=[],f=L=0;f<i.length;f++)p.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateHeight():0)),L+=p[f]+i[f].margin,B+=i[f].margin;else p.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(v.push(p),n&&0<n.length)for(y=[],f=I=0;f<n.length;f++)y.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateHeight():0)),I+=y[f],W+=n[f].margin;else y.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(E.push(y),i&&0<i.length)for(f=0;f<i.length;f++)0<i[f]._labels.length&&(u=i[f]._labels[0],s=i[f]._labels[i[f]._labels.length-1],P=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),S=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(n&&0<n.length)for(f=0;f<n.length;f++)n[f]&&0<n[f]._labels.length&&(u=n[f]._labels[0],s=n[f]._labels[n[f]._labels.length-1],T=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),_=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(h.panEnabled)for(f=0;f<i.length;f++)p[f]=h.sessionVariables.axisY.height;else for(f=0;f<i.length;f++)h.sessionVariables.axisY.height=p[f];if(i&&0<i.length)for(f=i.length-1;0<=f;f--)s=Math.round(r.y2),u=Math.round(r.y2>i[f].chart.height-10?i[f].chart.height-10:r.y2),i[f].lineCoordinates.y1=s-(p[f]+i[f].margin+H),i[f].lineCoordinates.y2=s-(p[f]+i[f].margin+H),i[f].bounds={x1:a,y1:s-(p[f]+H+i[f].margin),x2:l,y2:u-(H+i[f].margin),width:l-a,height:p[f]},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width),H+=p[f]+i[f].margin;if(n&&0<n.length)for(f=n.length-1;0<=f;f--)n[f]&&(s=Math.round(r.y1),u=Math.round(r.y1+(y[f]+n[f].margin+F)),n[f].lineCoordinates.y1=u,n[f].lineCoordinates.y2=u,n[f].bounds={x1:a,y1:s+(n[f].margin+F),x2:l,y2:u,width:l-a,height:I},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width),F+=y[f]+n[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++){if(B=t[f]._labels&&0<t[f]._labels.length?t[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(r.x1+o),s=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:r.y1<Math.max(B,10)?Math.max(B,10):r.y1):r.y1<Math.max(B,10)?Math.max(B,10):r.y1,l=Math.round(r.x1+N+o),u=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:r.y2-L>h.height-Math.max(B,10)?h.height-Math.max(B,10):r.y2-L):r.y2>h.height-Math.max(B,10)?h.height-Math.max(B,10):r.y2,i&&0<i.length)for(B=0;B<i.length;B++)i[B]&&i[B].labelAutoFit&&(l=0>i[B].labelAngle?Math.max(l,P):0===i[B].labelAngle?Math.max(l,P/2):l,a=0>i[B].labelAngle||0===i[B].labelAngle?l-N:a);if(n&&0<n.length)for(B=0;B<n.length;B++)n[B]&&n[B].labelAutoFit&&(a=(l=n[B].lineCoordinates.x1)-N);t[f].lineCoordinates={x1:l-D,y1:s,x2:l-D,y2:u,height:Math.abs(u-s)},t[f].bounds={x1:l-(M[f]+D),y1:s,x2:l,y2:u,width:l-a,height:u-s},t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.height?t[f].titleMaxWidth:t[f].lineCoordinates.height),t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),D+=M[f]+t[f].margin}if(e&&0<e.length)for(f=0;f<e.length;f++){if(B=e[f]._labels&&0<e[f]._labels.length?e[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(r.x1-o),s=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:r.y1<Math.max(B,10)?Math.max(B,10):r.y1):r.y1<Math.max(B,10)?Math.max(B,10):r.y1,l=Math.round(r.x2-G-V),u=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:r.y2-L>h.height-Math.max(B,10)?h.height-Math.max(B,10):r.y2-L):r.y2>h.height-Math.max(B,10)?h.height-Math.max(B,10):r.y2,i&&0<i.length)for(B=0;B<i.length;B++)i[B]&&i[B].labelAutoFit&&(l=0>i[B].labelAngle?Math.max(l,P):0===i[B].labelAngle?Math.max(l,P/2):l,a=0>i[B].labelAngle||0===i[B].labelAngle?l-G:a);if(n&&0<n.length)for(B=0;B<n.length;B++)n[B]&&n[B].labelAutoFit&&(a=(l=n[B].lineCoordinates.x2)-G);e[f].lineCoordinates={x1:l+k,y1:s,x2:l+k,y2:u,height:Math.abs(u-s)},e[f].bounds={x1:a,y1:s,x2:l+w[f]+k,y2:u,width:l-a,height:u-s},e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.height?e[f].titleMaxWidth:e[f].lineCoordinates.height),e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),k+=w[f]+e[f].margin}for(f=0;f<c.length;f++)"axisY"===c[f].type&&(c[f].calculateValueToPixelConversionParameters(),c[f].calculateBreaksSizeInValues());if(0<m){if(t&&0<t.length)for(f=0;f<t.length;f++)g=R[m-1][f]===R[m][f];else g=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)C=A[m-1][f]===A[m][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)x=v[m-1][f]===v[m][f];else x=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)b=E[m-1][f]===E[m][f];else b=!0}if(g&&C&&x&&b)break;m++}if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels()}},V.render=function(t,e,i,n,o){var r=t[0]?t[0].chart:e[0].chart;o=r.ctx;var a=r._axes;if(r.alignVerticalAxes&&r.alignVerticalAxes(),o.save(),o.beginPath(),t[0]&&o.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&o.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),o.clip(),t&&0<t.length)for(var s=0;s<t.length;s++)t[s].renderLabelsTicksAndTitle();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderLabelsTicksAndTitle();if(o.restore(),i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderLabelsTicksAndTitle();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderLabelsTicksAndTitle();if(r.preparePlotArea(),r=r.plotArea,o.save(),o.beginPath(),o.rect(r.x1,r.y1,Math.abs(r.x2-r.x1),Math.abs(r.y2-r.y1)),o.clip(),t&&0<t.length)for(s=0;s<a.length;s++)a[s].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderInterlacedColors();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderInterlacedColors();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderInterlacedColors();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderInterlacedColors();if(o.restore(),t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderGrid(),z&&(t[s].createMask(),t[s].renderBreaksBackground());if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderGrid(),z&&(e[s].createMask(),e[s].renderBreaksBackground());if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderGrid(),z&&(i[s].createMask(),i[s].renderBreaksBackground());if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderGrid(),z&&(n[s].createMask(),n[s].renderBreaksBackground());if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderAxisLine();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderAxisLine();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderAxisLine();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderAxisLine();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("pixel")},V.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var e=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),i=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue);e=this.getApparentDifference(e,i);this.stripLines[t].value=this.logarithmic?this.stripLines[t].value*Math.sqrt(Math.log(this.stripLines[t].endValue/this.stripLines[t].startValue)/Math.log(e)):this.stripLines[t].value+(Math.abs(this.stripLines[t].endValue-this.stripLines[t].startValue)-e)/2,this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},V.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],n=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),o=this.scaleBreaks&&!d(this.scaleBreaks.options.spacing),r=0;r<i.length;r++)t=o||!d(i[r].options.spacing),i[r].spacing=c(i[r].spacing,e,8,t?.1*e:8,t?0:3)<<0,i[r].size=0>i[r].spacing?0:Math.abs(i[r].spacing/n),this.logarithmic&&(i[r].size=Math.pow(this.logarithmBase,i[r].size))},V.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(d(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},V.prototype.renderLabelsTicksAndTitle=function(){var t=this,e=!1,i=0,n=0,o=1,r=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(o=1.2),"undefined"===typeof this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){i=[],o=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var a,s=this.viewportMaximum,l=this.lineCoordinates.width/Math.log(this.range),u=this._labels.length-1;0<=u&&!((p=this._labels[u]).position<this.viewportMinimum);u--)p.position>this.viewportMaximum||!(u===this._labels.length-1||a<Math.log(s/p.position)*l/o)||(i.push(p),s=p.position,a=p.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||(i+=a=p.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));i>this.lineCoordinates.width*o&&this.labelAutoFit&&(e=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var h;for(i=[],s=this.viewportMaximum,l=this.lineCoordinates.height/Math.log(this.range),u=this._labels.length-1;0<=u&&!((p=this._labels[u]).position<this.viewportMinimum);u--)p.position>this.viewportMaximum||!(u===this._labels.length-1||h<Math.log(s/p.position)*l)||(i.push(p),s=p.position,h=p.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||(n+=h=p.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));n>this.lineCoordinates.height*o&&this.labelAutoFit&&(e=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(t,e){return t.position-e.position}));var p,c;u=0;if("bottom"===this._position){for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||p.position>this.viewportMaximum||e&&0!==r++%2&&this.labelAutoFit||(c=this.getPixelCoordinatesOnAxis(p.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,c.y<<0),this.ctx.lineTo(n,c.y+this.tickLength<<0),this.ctx.stroke()),0===p.textBlock.angle?(c.x-=p.textBlock.width/2,c.y="inside"===this.labelPlacement?c.y-(this.tickLength+p.textBlock.fontSize/2):c.y+this.tickLength+p.textBlock.fontSize/2):(c.x="inside"===this.labelPlacement?0>this.labelAngle?c.x:c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):c.x-(0>this.labelAngle?p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),c.y="inside"===this.labelPlacement?0>this.labelAngle?c.y-this.tickLength-5:c.y-this.tickLength-Math.abs(p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):c.y+this.tickLength+Math.abs(0>this.labelAngle?p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),p.textBlock.x=c.x,p.textBlock.y=c.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(u=0;u<t._labels.length;u++)if(!((p=t._labels[u]).position<t.viewportMinimum||p.position>t.viewportMaximum||e&&0!==r++%2&&t.labelAutoFit)&&(c=t.getPixelCoordinatesOnAxis(p.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1===t.ctx.lineWidth%2?.5+(c.x<<0):c.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(i,c.y<<0),t.ctx.lineTo(i,c.y-t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||p.position>this.viewportMaximum||e&&0!==r++%2&&this.labelAutoFit||(c=this.getPixelCoordinatesOnAxis(p.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,c.y<<0),this.ctx.lineTo(n,c.y-this.tickLength<<0),this.ctx.stroke()),0===p.textBlock.angle?(c.x-=p.textBlock.width/2,c.y="inside"===this.labelPlacement?c.y+this.labelFontSize/2+this.tickLength+5:c.y-(this.tickLength+p.textBlock.height-p.textBlock.fontSize/2)):(c.x="inside"===this.labelPlacement?0<this.labelAngle?c.x:c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):c.x+(p.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),c.y="inside"===this.labelPlacement?0<this.labelAngle?c.y+this.tickLength+5:c.y-p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:c.y-(this.tickLength+((p.textBlock.height-p.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),p.textBlock.x=c.x,p.textBlock.y=c.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(u=0;u<t._labels.length;u++)if(!((p=t._labels[u]).position<t.viewportMinimum||p.position>t.viewportMaximum||e&&0!==r++%2&&t.labelAutoFit)&&(c=t.getPixelCoordinatesOnAxis(p.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1===this.ctx.lineWidth%2?.5+(c.x<<0):c.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(i,c.y<<0),t.ctx.lineTo(i,c.y+t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||p.position>this.viewportMaximum||e&&0!==r++%2&&this.labelAutoFit||(c=this.getPixelCoordinatesOnAxis(p.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,n),this.ctx.lineTo(c.x-this.tickLength<<0,n),this.ctx.stroke()),0===this.labelAngle?(p.textBlock.y=c.y,p.textBlock.x="inside"===this.labelPlacement?c.x+this.tickLength+5:c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(p.textBlock.y="inside"===this.labelPlacement?c.y:c.y-p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),p.textBlock.x="inside"===this.labelPlacement?c.x+this.tickLength+5:0<this.labelAngle?c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(u=0;u<t._labels.length;u++)if(!((p=t._labels[u]).position<t.viewportMinimum||p.position>t.viewportMaximum||e&&0!==r++%2&&t.labelAutoFit)&&(c=t.getPixelCoordinatesOnAxis(p.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1===t.ctx.lineWidth%2?.5+(c.y<<0):c.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(c.x<<0,i),t.ctx.lineTo(c.x+t.tickLength<<0,i),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||p.position>this.viewportMaximum||e&&0!==r++%2&&this.labelAutoFit||(c=this.getPixelCoordinatesOnAxis(p.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,n),this.ctx.lineTo(c.x+this.tickLength<<0,n),this.ctx.stroke()),0===this.labelAngle?(p.textBlock.y=c.y,p.textBlock.x="inside"===this.labelPlacement?c.x-p.textBlock.width-this.tickLength-5:c.x+this.tickLength+5):(p.textBlock.y="inside"===this.labelPlacement?c.y-p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?c.y:c.y-(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),p.textBlock.x="inside"===this.labelPlacement?c.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?c.x+(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:c.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(u=0;u<t._labels.length;u++)if(!((p=t._labels[u]).position<t.viewportMinimum||p.position>t.viewportMaximum||e&&0!==r++%2&&t.labelAutoFit)&&(c=t.getPixelCoordinatesOnAxis(p.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1===t.ctx.lineWidth%2?.5+(c.y<<0):c.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(c.x<<0,i),t.ctx.lineTo(c.x-t.tickLength<<0,i),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(r=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(u=0;u<t._labels.length;u++)(p=t._labels[u]).position<t.viewportMinimum||p.position>t.viewportMaximum||e&&0!==r++%2&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),p.textBlock.render(!0),t.ctx.restore())}),this);else for(u=0;u<this._labels.length;u++)(p=this._labels[u]).position<this.viewportMinimum||p.position>this.viewportMaximum||e&&0!==r++%2&&this.labelAutoFit||p.textBlock.render(!0)},V.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,n=this.chart.plotArea,o=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,o=0;o<this._labels.length;o++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[o].position),t=o+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[o+1].position),i.fillRect(n.x1,Math.min(e.y,t.y),Math.abs(n.x1-n.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(i.fillStyle=this.interlacedColor,o=0;o<this._labels.length;o++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[o].position),e=o+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[o+1].position),i.fillRect(Math.min(e.x,t.x),n.y1,Math.abs(e.x-t.x),Math.abs(n.y1-n.y2)),t=!1):t=!0;i.beginPath()},V.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var e,i=this,n=0,o=0,r=!1,a=!1,s=[],l=[];for(a=!1,n=0;n<this.stripLines.length;n++){var u=this.stripLines[n];u._thicknessType===t&&("pixel"===t&&(u.value<this.viewportMinimum||u.value>this.viewportMaximum||d(u.value)||isNaN(this.range))||s.push(u))}for(n=0;n<this._stripLineLabels.length;n++)if(u=this.stripLines[n],!((e=this._stripLineLabels[n]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range))){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(u&&(this.ctx.strokeStyle=u.color,"pixel"===u._thicknessType&&(this.ctx.lineWidth=u.thickness)),"bottom"===this._position){var h=1===this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(h,t.y<<0),this.ctx.lineTo(h,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(h=1===this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(h,t.y<<0),this.ctx.lineTo(h,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(h=1===this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,h),this.ctx.lineTo(t.x-this.tickLength<<0,h),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(h=1===this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,h),this.ctx.lineTo(t.x+this.tickLength<<0,h),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,l.push(e)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<s.length;n++)(u=s[n]).showOnTop?r||(r=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),o=0;o<s.length;o++)(u=s[o]).showOnTop&&u.render();this.ctx.restore()}),u)):u.render();for(n=0;n<l.length;n++)(e=l[n]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(o=0;o<l.length;o++)"inside"===(e=l[o]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(i.ctx.save(),i.ctx.beginPath(),i.ctx.rect(i.chart.plotArea.x1,i.chart.plotArea.y1,i.chart.plotArea.width,i.chart.plotArea.height),i.ctx.clip(),e.textBlock.render(!0),i.ctx.restore())}),e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,n=0;n<l.length;n++)(e=l[n]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(o=0;o<l.length;o++)"outside"===(e=l[o]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)}),e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},V.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},V.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;z?(this.maskCanvas=E(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},V.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},V.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(y(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=1===t.lineWidth%2?.5+(e.x<<0):e.x<<0,t.moveTo(e,i.y1<<0),t.lineTo(e,i.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=1===t.lineWidth%2?.5+(e.y<<0):e.y<<0,t.moveTo(i.x1<<0,e),t.lineTo(i.x2<<0,e),t.stroke());t.restore()}},V.prototype.renderAxisLine=function(){var t,e,i=this.chart.ctx,n=z?this.chart._preRenderCtx:i,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),r=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(n.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,e=this.lineCoordinates.x2),n.lineWidth=this.lineThickness,n.strokeStyle=this.lineColor?this.lineColor:"black",n.setLineDash&&n.setLineDash(y(this.lineDashType,this.lineThickness));var a=1===this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(n.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(var s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)n.moveTo(t,a),n.lineTo(this.scaleBreaks._appliedBreaks[s].startPixel+o,a),t=this.scaleBreaks._appliedBreaks[s].endPixel+r;t&&(n.moveTo(t,a),n.lineTo(e,a)),n.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,e=this.lineCoordinates.y1),n.lineWidth=this.lineThickness,n.strokeStyle=this.lineColor,n.setLineDash&&n.setLineDash(y(this.lineDashType,this.lineThickness)),a=1===this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,n.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)n.moveTo(a,t),n.lineTo(a,this.scaleBreaks._appliedBreaks[s].startPixel+r),t=this.scaleBreaks._appliedBreaks[s].endPixel+o;t&&(n.moveTo(a,t),n.lineTo(a,e)),n.stroke()}z&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),n.clearRect(0,0,this.chart.width,this.chart.height)),n.restore()},V.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},V.prototype.convertPixelToValue=function(t){if("undefined"===typeof t)return null;var e,i=0,n=0,o=(i=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);n="number"===typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x;if(this.logarithmic){if(t=e=Math.pow(this.logarithmBase,(n-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),n<=this.conversionParameters.reference===("left"===this._position||"right"===this._position)!==this.reversed){for(n=0;n<o.length;n++)if(!(o[n].endValue<this.conversionParameters.minimum))if(i)if(o[n].startValue<this.conversionParameters.minimum){if(1<o[n].size&&this.conversionParameters.minimum*Math.pow(o[n].endValue/o[n].startValue,Math.log(e)/Math.log(o[n].size))<o[n].endValue){t=Math.pow(o[n].endValue/o[n].startValue,Math.log(e)/Math.log(o[n].size));break}t*=o[n].endValue/this.conversionParameters.minimum/Math.pow(o[n].size,Math.log(o[n].endValue/this.conversionParameters.minimum)/Math.log(o[n].endValue/o[n].startValue)),e/=Math.pow(o[n].size,Math.log(o[n].endValue/this.conversionParameters.minimum)/Math.log(o[n].endValue/o[n].startValue)),i=!1}else{if(!(e>o[n].startValue/this.conversionParameters.minimum))break;if((e/=o[n].startValue/this.conversionParameters.minimum)<o[n].size){t*=Math.pow(o[n].endValue/o[n].startValue,1===o[n].size?1:Math.log(e)/Math.log(o[n].size))/e;break}t*=o[n].endValue/o[n].startValue/o[n].size,e/=o[n].size,i=!1}else{if(!(e>o[n].startValue/o[n-1].endValue))break;if((e/=o[n].startValue/o[n-1].endValue)<o[n].size){t*=Math.pow(o[n].endValue/o[n].startValue,1===o[n].size?1:Math.log(e)/Math.log(o[n].size))/e;break}t*=o[n].endValue/o[n].startValue/o[n].size,e/=o[n].size}}else for(n=o.length-1;0<=n;n--)if(!(o[n].startValue>this.conversionParameters.minimum))if(i)if(o[n].endValue>this.conversionParameters.minimum){if(1<o[n].size&&this.conversionParameters.minimum*Math.pow(o[n].endValue/o[n].startValue,Math.log(e)/Math.log(o[n].size))>o[n].startValue){t=Math.pow(o[n].endValue/o[n].startValue,Math.log(e)/Math.log(o[n].size));break}t*=o[n].startValue/this.conversionParameters.minimum*Math.pow(o[n].size,Math.log(o[n].startValue/this.conversionParameters.minimum)/Math.log(o[n].endValue/o[n].startValue))*e,e*=Math.pow(o[n].size,Math.log(this.conversionParameters.minimum/o[n].startValue)/Math.log(o[n].endValue/o[n].startValue)),i=!1}else{if(!(e<o[n].endValue/this.conversionParameters.minimum))break;if((e/=o[n].endValue/this.conversionParameters.minimum)>1/o[n].size){t*=Math.pow(o[n].endValue/o[n].startValue,1>=o[n].size?1:Math.log(e)/Math.log(o[n].size))*e;break}t/=o[n].endValue/o[n].startValue/o[n].size,e*=o[n].size,i=!1}else{if(!(e<o[n].endValue/o[n+1].startValue))break;if((e/=o[n].endValue/o[n+1].startValue)>1/o[n].size){t*=Math.pow(o[n].endValue/o[n].startValue,1>=o[n].size?1:Math.log(e)/Math.log(o[n].size))*e;break}t/=o[n].endValue/o[n].startValue/o[n].size,e*=o[n].size}i=t*this.viewportMinimum}else{if(t=e=(n-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,n<=this.conversionParameters.reference===("left"===this._position||"right"===this._position)!==this.reversed){for(n=0;n<o.length;n++)if(!(o[n].endValue<this.conversionParameters.minimum))if(i)if(o[n].startValue<this.conversionParameters.minimum){if(o[n].size&&this.conversionParameters.minimum+e*(o[n].endValue-o[n].startValue)/o[n].size<o[n].endValue){t=0>=o[n].size?0:e*(o[n].endValue-o[n].startValue)/o[n].size;break}t+=o[n].endValue-this.conversionParameters.minimum-o[n].size*(o[n].endValue-this.conversionParameters.minimum)/(o[n].endValue-o[n].startValue),e-=o[n].size*(o[n].endValue-this.conversionParameters.minimum)/(o[n].endValue-o[n].startValue),i=!1}else{if(!(e>o[n].startValue-this.conversionParameters.minimum))break;if((e-=o[n].startValue-this.conversionParameters.minimum)<o[n].size){t+=(o[n].endValue-o[n].startValue)*(0===o[n].size?1:e/o[n].size)-e;break}t+=o[n].endValue-o[n].startValue-o[n].size,e-=o[n].size,i=!1}else{if(!(e>o[n].startValue-o[n-1].endValue))break;if((e-=o[n].startValue-o[n-1].endValue)<o[n].size){t+=(o[n].endValue-o[n].startValue)*(0===o[n].size?1:e/o[n].size)-e;break}t+=o[n].endValue-o[n].startValue-o[n].size,e-=o[n].size}}else for(n=o.length-1;0<=n;n--)if(!(o[n].startValue>this.conversionParameters.minimum))if(i)if(o[n].endValue>this.conversionParameters.minimum){if(o[n].size&&this.conversionParameters.minimum+e*(o[n].endValue-o[n].startValue)/o[n].size>o[n].startValue){t=0>=o[n].size?0:e*(o[n].endValue-o[n].startValue)/o[n].size;break}t+=o[n].startValue-this.conversionParameters.minimum+o[n].size*(this.conversionParameters.minimum-o[n].startValue)/(o[n].endValue-o[n].startValue),e+=o[n].size*(this.conversionParameters.minimum-o[n].startValue)/(o[n].endValue-o[n].startValue),i=!1}else{if(!(e<o[n].endValue-this.conversionParameters.minimum))break;if((e-=o[n].endValue-this.conversionParameters.minimum)>-1*o[n].size){t+=(o[n].endValue-o[n].startValue)*(0===o[n].size?1:e/o[n].size)+e;break}t-=o[n].endValue-o[n].startValue-o[n].size,e+=o[n].size,i=!1}else{if(!(e<o[n].endValue-o[n+1].startValue))break;if((e-=o[n].endValue-o[n+1].startValue)>-1*o[n].size){t+=(o[n].endValue-o[n].startValue)*(0===o[n].size?1:e/o[n].size)+e;break}t-=o[n].endValue-o[n].startValue-o[n].size,e+=o[n].size}i=this.conversionParameters.minimum+t}return i},V.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},V.prototype.getApparentDifference=function(t,e,i,n){var o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){i=d(i)?e/t:i;for(var r=0;r<o.length&&!(e<o[r].startValue);r++)t>o[r].endValue||(t<=o[r].startValue&&e>=o[r].endValue?i=i/o[r].endValue*o[r].startValue*o[r].size:t>=o[r].startValue&&e>=o[r].endValue?i=i/o[r].endValue*t*Math.pow(o[r].size,Math.log(o[r].endValue/t)/Math.log(o[r].endValue/o[r].startValue)):t<=o[r].startValue&&e<=o[r].endValue?i=i/e*o[r].startValue*Math.pow(o[r].size,Math.log(e/o[r].startValue)/Math.log(o[r].endValue/o[r].startValue)):!n&&t>o[r].startValue&&e<o[r].endValue&&(i=t*Math.pow(o[r].size,Math.log(e/t)/Math.log(o[r].endValue/o[r].startValue))))}else for(i=d(i)?Math.abs(e-t):i,r=0;r<o.length&&!(e<o[r].startValue);r++)t>o[r].endValue||(t<=o[r].startValue&&e>=o[r].endValue?i=i-o[r].endValue+o[r].startValue+o[r].size:t>o[r].startValue&&e>=o[r].endValue?i=i-o[r].endValue+t+o[r].size*(o[r].endValue-t)/(o[r].endValue-o[r].startValue):t<=o[r].startValue&&e<o[r].endValue?i=i-e+o[r].startValue+o[r].size*(e-o[r].startValue)/(o[r].endValue-o[r].startValue):!n&&t>o[r].startValue&&e<o[r].endValue&&(i=t+o[r].size*(e-t)/(o[r].endValue-o[r].startValue)));return i},V.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},V.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},V.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,n=this.lineCoordinates.height;i="bottom"===this._position||"top"===this._position?i:n,n=Math.abs(this.range);if(this.logarithmic)for(var o=0;o<t.length&&!(this.viewportMaximum<t[o].startValue);o++)this.viewportMinimum>t[o].endValue||(this.viewportMinimum>=t[o].startValue&&this.viewportMaximum<=t[o].endValue?i=0:this.viewportMinimum<=t[o].startValue&&this.viewportMaximum>=t[o].endValue?(n=n/t[o].endValue*t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100):i-Math.min(t[o].spacing,.1*i)):this.viewportMinimum>t[o].startValue&&this.viewportMaximum>=t[o].endValue?(n=n/t[o].endValue*this.viewportMinimum,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*Math.log(t[o].endValue/this.viewportMinimum)/Math.log(t[o].endValue/t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*Math.log(t[o].endValue/this.viewportMinimum)/Math.log(t[o].endValue/t[o].startValue)):this.viewportMinimum<=t[o].startValue&&this.viewportMaximum<t[o].endValue&&(n=n/this.viewportMaximum*t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*Math.log(this.viewportMaximum/t[o].startValue)/Math.log(t[o].endValue/t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*Math.log(this.viewportMaximum/t[o].startValue)/Math.log(t[o].endValue/t[o].startValue)));else for(o=0;o<t.length&&!(this.viewportMaximum<t[o].startValue);o++)this.viewportMinimum>t[o].endValue||(this.viewportMinimum>=t[o].startValue&&this.viewportMaximum<=t[o].endValue?i=0:this.viewportMinimum<=t[o].startValue&&this.viewportMaximum>=t[o].endValue?(n=n-t[o].endValue+t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100):i-Math.min(t[o].spacing,.1*i)):this.viewportMinimum>t[o].startValue&&this.viewportMaximum>=t[o].endValue?(n=n-t[o].endValue+this.viewportMinimum,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*(t[o].endValue-this.viewportMinimum)/(t[o].endValue-t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*(t[o].endValue-this.viewportMinimum)/(t[o].endValue-t[o].startValue)):this.viewportMinimum<=t[o].startValue&&this.viewportMaximum<t[o].endValue&&(n=n-this.viewportMaximum+t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*(this.viewportMaximum-t[o].startValue)/(t[o].endValue-t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*(this.viewportMaximum-t[o].startValue)/(t[o].endValue-t[o].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=n,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*i*e.lnLogarithmBase/Math.log(Math.abs(n))):e.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(n),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*i*e.lnLogarithmBase/Math.log(Math.abs(n))):e.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(n),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},V.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,i=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var n=4;"axisX"===this.type&&(n=600>this.maxWidth?8:6);var o,r,a;t=Math.max(n,Math.floor(this.maxWidth/t)),n=0;if(!d(this.options.viewportMinimum)&&!d(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!d(this.options.viewportMinimum)||d(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!d(this.options.viewportMaximum)||d(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(n=0;n<this.scaleBreaks._appliedBreaks.length;n++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[n].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[n].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[n].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[n].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[n].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[n].endValue)){this.scaleBreaks._appliedBreaks.splice(n,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(o=0;o<this.dataSeries.length;o++)"dateTime"===this.dataSeries[o].xValueType&&(i=!0);o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0===(r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-o&&(r+=n="undefined"===typeof this.options.interval?.4:this.options.interval,o-=n),1/0!==this.dataInfo.minDiff?a=this.dataInfo.minDiff:1<r-o?a=.5*Math.abs(r-o):(a=1,i&&(e=!0))}else"axisY"===this.type&&(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(o)||isFinite(r)?isFinite(o)?isFinite(r)||(r=o):o=r:(r="undefined"===typeof this.options.interval?-1/0:this.options.interval,o="undefined"!==typeof this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===o&&0===r?(r+=9,o=0):0===r-o?(r+=n=Math.min(Math.abs(.01*Math.abs(r)),5),o-=n):o>r?(n=Math.min(.01*Math.abs(this.getApparentDifference(r,o,null,!0)),5),0<=r?o=r-n:r=isFinite(o)?o+n:0):(n=Math.min(.01*Math.abs(this.getApparentDifference(o,r,null,!0)),.05),0!==r&&(r+=n),0!==o&&(o-=n)),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-o?.5*Math.abs(r-o):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<o&&(o=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>r&&(r=0));n=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?o:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?r:this.viewportMaximum,null,!0),"axisX"===this.type&&i?(this.intervalType||(n/1<=t?(this.interval=1,this.intervalType="millisecond"):n/2<=t?(this.interval=2,this.intervalType="millisecond"):n/5<=t?(this.interval=5,this.intervalType="millisecond"):n/10<=t?(this.interval=10,this.intervalType="millisecond"):n/20<=t?(this.interval=20,this.intervalType="millisecond"):n/50<=t?(this.interval=50,this.intervalType="millisecond"):n/100<=t?(this.interval=100,this.intervalType="millisecond"):n/200<=t?(this.interval=200,this.intervalType="millisecond"):n/250<=t?(this.interval=250,this.intervalType="millisecond"):n/300<=t?(this.interval=300,this.intervalType="millisecond"):n/400<=t?(this.interval=400,this.intervalType="millisecond"):n/500<=t?(this.interval=500,this.intervalType="millisecond"):n/(1*tt.secondDuration)<=t?(this.interval=1,this.intervalType="second"):n/(2*tt.secondDuration)<=t?(this.interval=2,this.intervalType="second"):n/(5*tt.secondDuration)<=t?(this.interval=5,this.intervalType="second"):n/(10*tt.secondDuration)<=t?(this.interval=10,this.intervalType="second"):n/(15*tt.secondDuration)<=t?(this.interval=15,this.intervalType="second"):n/(20*tt.secondDuration)<=t?(this.interval=20,this.intervalType="second"):n/(30*tt.secondDuration)<=t?(this.interval=30,this.intervalType="second"):n/(1*tt.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):n/(2*tt.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):n/(5*tt.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):n/(10*tt.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):n/(15*tt.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):n/(20*tt.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):n/(30*tt.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):n/(1*tt.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):n/(2*tt.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):n/(3*tt.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):n/(6*tt.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):n/(1*tt.dayDuration)<=t?(this.interval=1,this.intervalType="day"):n/(2*tt.dayDuration)<=t?(this.interval=2,this.intervalType="day"):n/(4*tt.dayDuration)<=t?(this.interval=4,this.intervalType="day"):n/(1*tt.weekDuration)<=t?(this.interval=1,this.intervalType="week"):n/(2*tt.weekDuration)<=t?(this.interval=2,this.intervalType="week"):n/(3*tt.weekDuration)<=t?(this.interval=3,this.intervalType="week"):n/(1*tt.monthDuration)<=t?(this.interval=1,this.intervalType="month"):n/(2*tt.monthDuration)<=t?(this.interval=2,this.intervalType="month"):n/(3*tt.monthDuration)<=t?(this.interval=3,this.intervalType="month"):n/(6*tt.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=n/(1*tt.yearDuration)<=t?1:n/(2*tt.yearDuration)<=t?2:n/(4*tt.yearDuration)<=t?4:Math.floor(V.getNiceNumber(n/(t-1),!0)/tt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=o-a/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=r+a/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",n=V.getNiceNumber(n,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:V.getNiceNumber(n/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?o-a/2:Math.floor(o/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?r+a/2:Math.ceil(r/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&"undefined"===typeof this.options.interval&&(this.interval=V.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(o=null!==this.minimum?this.minimum:this.dataInfo.min,0===(r=null!==this.maximum?this.maximum:this.dataInfo.max)-o&&(r+=n="undefined"===typeof this.options.interval?.4:this.options.interval,o-=n),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-o?.5*Math.abs(r-o):1):"axisY"===this.type&&(o=null!==this.minimum?this.minimum:this.dataInfo.min,r=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(o)||isFinite(r)?0===o&&0===r?(r+=9,o=0):0===r-o?(r+=n=Math.min(Math.abs(.01*Math.abs(r)),5),o-=n):o>r?(n=Math.min(.01*Math.abs(this.getApparentDifference(r,o,null,!0)),5),0<=r?o=r-n:r=isFinite(o)?o+n:0):(n=Math.min(.01*Math.abs(this.getApparentDifference(o,r,null,!0)),.05),0!==r&&(r+=n),0!==o&&(o-=n)):(r="undefined"===typeof this.options.interval?-1/0:this.options.interval,o="undefined"!==typeof this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-o?.5*Math.abs(r-o):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<o&&(o=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>r&&(r=0)),Math.abs(this.getApparentDifference(o,r,null,!0)),"axisX"===this.type&&i?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=o-a/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=r+a/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?o-a/2:Math.floor(o/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?r+a/2:Math.ceil(r/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),d(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),d(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&i?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=V.generateValueFormatString(this.range,2))}},V.prototype.calculateLogarithmicAxisParameters=function(){var t,e=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var n,o,r,a;e="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(a=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}"axisX"===this.type?(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1===(o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/n&&(o*=a=Math.pow(this.logarithmBase,"undefined"===typeof this.options.interval?.4:this.options.interval),n/=a),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/n>this.logarithmBase?o/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=n&&!isFinite(o)?(o="undefined"===typeof this.options.interval?0:this.options.interval,n=1):0>=n?n=o:isFinite(o)||(o=n),1===n&&1===o?(o*=this.logarithmBase-1/this.logarithmBase,n=1):1===o/n?(o*=a=Math.min(o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n/=a):n>o?(a=Math.min(n/o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=o?n=o/a:o=n*a):(a=Math.min(o/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==o&&(o*=a),1!==n&&(n/=a)),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/n>this.logarithmBase?o/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>o&&(o=1)),a=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);var s=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);if(this.intervalType="number",a=Math.pow(this.logarithmBase,V.getNiceNumber(Math.abs(Math.log(a)/i),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=V.getNiceExponent(Math.log(a)/i/(e-1),!0),t=V.getNiceNumber(s/(e-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?o*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(o)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&"undefined"===typeof this.options.interval&&(this.interval=V.getNiceExponent(Math.ceil(Math.log(a)/i)/(e-1)),t=V.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,1===(o=null!==this.maximum?this.maximum:this.dataInfo.max)/n&&(o*=a=Math.pow(this.logarithmBase,"undefined"===typeof this.options.interval?.4:this.options.interval),n/=a),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/n>this.logarithmBase?o/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(o)?1===n&&1===o?(o*=this.logarithmBase,n/=this.logarithmBase):1===o/n?(o*=a=Math.pow(this.logarithmBase,this.interval),n/=a):n>o?(a=Math.min(n/o*.01,5),1<=o?n=o/a:o=n*a):(a=Math.min(o/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==o&&(o*=a),1!==n&&(n/=a)):(o="undefined"===typeof this.options.interval?0:this.options.interval,n=1),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/n>this.logarithmBase?o/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>o&&(o=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?"undefined"===typeof this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?o*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(o)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?"undefined"===typeof this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=e,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>e?2:3)){for(i=Math.floor(this.viewportMinimum/t+.5)*t;i<this.viewportMinimum;)i+=t;this.equidistantInterval=!1,this.intervalStartPosition=i,this.interval=t}else this.options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(i=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(i)&&isFinite(i)||(i=2),2<i))for(a=0;a<i-2;a++)this.valueFormatString+="#"},V.generateValueFormatString=function(t,e){var i="#,##0.",n=e;1>t&&(n+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(n)||!isFinite(n))&&(n=e);for(var o=0;o<n;o++)i+="#";return i},V.getNiceExponent=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,i);n=0>i?1>=n?1:5>=n?5:10:Math.max(Math.floor(n),1);return Number(-20>i?n*Math.pow(10,i):(n*Math.pow(10,i)).toFixed(20))},V.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,i);n=e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10;return Number(-20>i?n*Math.pow(10,i):(n*Math.pow(10,i)).toFixed(20))},V.prototype.getLabelStartPoint=function(){var t=tt[this.intervalType+"Duration"]*this.interval;t=new Date(Math.floor(this.viewportMinimum/t)*t);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},i(B,M),i(W,M),W.prototype.createUserOptions=function(t){if("undefined"!==typeof t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options="undefined"===typeof t?{}:t,this.parent.options[this.optionsName][e]=this.options}},W.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&("undefined"!==typeof this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,i=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var n,o,r,a,s,l,u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,p(this.id),t=Math.max(this.spacing,3);var c=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=c,this.ctx.setLineDash&&this.ctx.setLineDash(y(this.lineDashType,c)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(u=1===c%2?.5+(u.x<<0):u.x<<0,o=1===c%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,r=this.chart.plotArea.y2+c/2+.5<<0):(h=this.chart.plotArea.y2,r=this.chart.plotArea.y1-c/2+.5<<0,t*=-1),this.bounds={x1:u-c/2,y1:h,x2:o+c/2,y2:r},this.ctx.moveTo(u,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(u,r),this.ctx.lineTo(o,r),this.ctx.lineTo(o,h);else if("wavy"===this.type){a=u,n=.5,l=(r-(s=h))/t/3;for(var d=0;d<l;d++)this.ctx.bezierCurveTo(a+n*t,s+t,a+n*t,s+2*t,a,s+3*t),s+=3*t,n*=-1;for(this.ctx.bezierCurveTo(a+n*t,s+t,a+n*t,s+2*t,a,s+3*t),a=o,n*=-1,this.ctx.lineTo(a,s),d=0;d<l;d++)this.ctx.bezierCurveTo(a+n*t,s-t,a+n*t,s-2*t,a,s-3*t),s-=3*t,n*=-1}else if("zigzag"===this.type){for(n=-1,a=u+t,l=(r-(s=h+t))/t/2,d=0;d<l;d++)this.ctx.lineTo(a,s),a+=2*n*t,s+=2*t,n*=-1;for(this.ctx.lineTo(a,s),a+=o-u,d=0;d<l+1;d++)this.ctx.lineTo(a,s),a+=2*n*t,s-=2*t,n*=-1;this.ctx.lineTo(a+n*t,s+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(h=1===c%2?.5+(h.y<<0):h.y<<0,r=1===c%2?.5+(u.y<<0):u.y<<0,"left"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.x1,o=this.chart.plotArea.x2+c/2+.5<<0):(u=this.chart.plotArea.x2,o=this.chart.plotArea.x1-c/2+.5<<0,t*=-1),this.bounds={x1:u,y1:h-c/2,x2:o,y2:r+c/2},this.ctx.moveTo(u,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(o,h),this.ctx.lineTo(o,r),this.ctx.lineTo(u,r);else if("wavy"===this.type){for(s=h,n=.5,l=(o-(a=u))/t/3,d=0;d<l;d++)this.ctx.bezierCurveTo(a+t,s+n*t,a+2*t,s+n*t,a+3*t,s),a+=3*t,n*=-1;for(this.ctx.bezierCurveTo(a+t,s+n*t,a+2*t,s+n*t,a+3*t,s),s=r,n*=-1,this.ctx.lineTo(a,s),d=0;d<l;d++)this.ctx.bezierCurveTo(a-t,s+n*t,a-2*t,s+n*t,a-3*t,s),a-=3*t,n*=-1}else if("zigzag"===this.type){for(n=1,s=h-t,l=(o-(a=u+t))/t/2,d=0;d<l;d++)this.ctx.lineTo(a,s),s+=2*n*t,a+=2*t,n*=-1;for(this.ctx.lineTo(a,s),s+=r-h,d=0;d<l+1;d++)this.ctx.lineTo(a,s),s+=2*n*t,a-=2*t,n*=-1;this.ctx.lineTo(a+t,s+n*t)}0<c&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=e}},i(j,M),j.prototype.createUserOptions=function(t){if("undefined"!==typeof t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options="undefined"===typeof t?{}:t,this.parent.options.stripLines[e]=this.options}},j.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var i=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var n,o,r,a,s=this.ctx.globalAlpha;this.ctx.globalAlpha=i,p(this.id),this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(y(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(n=o=1===this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,r=this.chart.plotArea.y1,a=this.chart.plotArea.y2,this.bounds={x1:n-e/2,y1:r,x2:o+e/2,y2:a}):"left"!==this.parent._position&&"right"!==this.parent._position||(r=a=1===this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,n=this.chart.plotArea.x1,o=this.chart.plotArea.x2,this.bounds={x1:n,y1:r-e/2,x2:o,y2:a+e/2}),this.ctx.moveTo(n,r),this.ctx.lineTo(o,a),this.ctx.stroke(),this.ctx.globalAlpha=s}this.ctx.restore()},i(U,M),U.prototype.render=function(t,e){var i,n,o,r,a=null,s=a=null,l="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var u=0;u="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=V.generateValueFormatString(this.parent.range,u)}s=null===this.opacity?1:this.opacity,u=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var h=this.chart.overlaidCanvasCtx,p=h.globalAlpha;if(h.globalAlpha=s,h.beginPath(),h.strokeStyle=this.color,h.lineWidth=u,h.save(),this.labelFontSize=d(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=d(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=d(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<u&&h.setLineDash&&h.setLineDash(y(this.lineDashType,u)),s=new O(h,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:l,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var c=0;a=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var f=null;"bottom"===this.parent._position||"top"===this.parent._position?c=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(c=this.parent.convertPixelToValue({y:e}));for(var g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[g],null!==f.dataPoint.y&&a.push(f));if(f=null,0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),g=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[g].dataPoint.y[0]));var m=0;for(c=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y)))<f&&(f=m,g=c)}else if("stackedBar"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var v=m=0;for(c=g=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else v+=a[c].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<f&&(f=m,g=c)}else if("stackedBar100"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var C=v=m=0;for(c=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else v+=a[c].dataPoint.y,C=a[c].dataPoint.x.getTime?a[c].dataPoint.x.getTime():a[c].dataPoint.x,C=v/a[c].dataSeries.plotUnit.dataPointYSums[C]*100,(m=Math.abs(t-this.parent.convertValueToPixel(C)))<f&&(f=m,g=c)}else for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),c=g=m=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else(m=Math.abs(t-this.parent.convertValueToPixel(a[c].dataPoint.y)))<f&&(f=m,g=c);if(l=a[g],"bottom"===this.parent._position||"top"===this.parent._position){if(i=0,"rangeBar"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type){for(f=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[0])),c=m=0;c<l.dataPoint.y.length;c++)(m=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[c])))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[i])<<0):this.parent.convertValueToPixel(l.dataPoint.y[i])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[i]}):d(this.options.label)?at(l.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[g].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=m=0,c=g;0<=c;c--)v+=a[c].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?at(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[g].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),C=v=m=0,c=g;0<=c;c--)v+=a[c].dataPoint.y,C=a[c].dataPoint.x.getTime?a[c].dataPoint.x.getTime():a[c].dataPoint.x,C=v/a[c].dataSeries.plotUnit.dataPointYSums[C]*100,(m=Math.abs(t-this.parent.convertValueToPixel(C)))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(C)<<0):this.parent.convertValueToPixel(C)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C}):d(this.options.label)?at(C,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?at(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;i=n=a,o=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:i-u/2,y1:o,x2:n+u/2,y2:r},s.x=i-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2?s.x=this.chart.bounds.x2-s.width:s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(o=r=a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,i=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-u/2,x2:n,y2:r+u/2},C=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=a){if(!this.parent.labels[c]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({y:e}),f=null,g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?at(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.y=r+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(c=this.parent.convertPixelToValue({x:t}),g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[g],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),l=a[0],i=n=a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,o=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:i-u/2,y1:o,x2:n+u/2,y2:r},C=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=a){if(!this.parent.labels[c]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({x:t}),f=null,g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?at(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.x=i-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!d(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(c=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[g],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),g=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),c=m=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y)))<f&&(f=m,g=c);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),c=v=m=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else v+=a[c].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(v)))<f&&(f=m,g=c);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),c=C=v=m=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else v+=a[c].dataPoint.y,C=a[c].dataPoint.x.getTime?a[c].dataPoint.x.getTime():a[c].dataPoint.x,C=v/a[c].dataSeries.plotUnit.dataPointYSums[C]*100,(m=Math.abs(e-this.parent.convertValueToPixel(C)))<f&&(f=m,g=c);else for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),c=m=0;c<a.length;c++)if(a[c].dataPoint.y&&a[c].dataPoint.y.length)for(l=0;l<a[c].dataPoint.y.length;l++)(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y[l])))<f&&(f=m,g=c);else(m=Math.abs(e-this.parent.convertValueToPixel(a[c].dataPoint.y)))<f&&(f=m,g=c);if(l=a[g],i=0,"rangeColumn"===this.parent.dataSeries[g].type||"rangeArea"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type||"rangeSplineArea"===this.parent.dataSeries[g].type||"candlestick"===this.parent.dataSeries[g].type||"ohlc"===this.parent.dataSeries[g].type||"boxAndWhisker"===this.parent.dataSeries[g].type){for(f=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[0])),c=m=0;c<l.dataPoint.y.length;c++)(m=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[c])))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[i])<<0):this.parent.convertValueToPixel(l.dataPoint.y[i])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[i]}):d(this.options.label)?at(l.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[g].type||"stackedArea"===this.parent.dataSeries[g].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=m=0,c=g;0<=c;c--)v+=a[c].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(v)))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?at(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[g].type||"stackedArea100"===this.parent.dataSeries[g].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=m=0,c=g;0<=c;c--)v+=a[c].dataPoint.y,C=a[c].dataPoint.x.getTime?a[c].dataPoint.x.getTime():a[c].dataPoint.x,C=v/a[c].dataSeries.plotUnit.dataPointYSums[C]*100,(m=Math.abs(e-this.parent.convertValueToPixel(C)))<f&&(f=m,i=c);a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(C)<<0):this.parent.convertValueToPixel(C)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C}):d(this.options.label)?at(C,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[g].type?(a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0):this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataSeries.dataPointEOs[l.index].cumulativeSum}):d(this.options.label)?at(l.dataSeries.dataPointEOs[l.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1===h.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?at(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);o=r=a,i=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-u/2,x2:n,y2:r+u/2},s.y=r+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&i>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&n<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<u&&(h.moveTo(i,o),h.lineTo(n,r),h.stroke()),h.restore(),!d(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&r>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&o<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<u&&(h.moveTo(i,o),h.lineTo(n,r),h.stroke()),h.restore(),!d(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(i=n=a=1===h.lineWidth%2?.5+(t<<0):t<<0,o=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:i-u/2,y1:o,x2:n+u/2,y2:r}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=r=a=1===h.lineWidth%2?.5+(e<<0):e<<0,i=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-u/2,x2:n,y2:r+u/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(C=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=a){if(!this.parent.labels[c]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({y:e}),f=null,g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?rt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?at(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x1-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?at(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,s.x=i-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2),"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(C=!1,l="",this.parent.labels)for(a=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=a){if(!this.parent.labels[c]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({x:t}),f=null,g=0;g<this.parent.dataSeries.length;g++)(f=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?rt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):d(this.options.label)?at(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);s.x=i-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?at(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2));0<u&&(h.moveTo(i,o),h.lineTo(n,r),h.stroke()),h.restore(),!d(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)}h.globalAlpha=p},i(Y,M),Y.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(z?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=z?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",z||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),t+='} "> Sample Tooltip</div>',this.container.innerHTML=t,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},Y.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},Y.prototype._updateToolTip=function(t,i,n){if(n="undefined"===typeof n||n,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if("undefined"===typeof t||"undefined"===typeof i){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,i=this._prevY}else this._prevX=t,this._prevY=i;var o=null,r=null,a=[],s=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var u=0;u<this.chart.axisX.length;u++){s=this.chart.axisX[u].convertPixelToValue({y:i});var h=null;for(o=0;o<this.chart.axisX[u].dataSeries.length;o++)(h=this.chart.axisX[u].dataSeries[o].getDataPointAtX(s,n))&&0<=h.index&&(h.dataSeries=this.chart.axisX[u].dataSeries[o],null!==h.dataPoint.y&&l.push(h));h=null}if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++){for(s=this.chart.axisX2[u].convertPixelToValue({y:i}),h=null,o=0;o<this.chart.axisX2[u].dataSeries.length;o++)(h=this.chart.axisX2[u].dataSeries[o].getDataPointAtX(s,n))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[u].dataSeries[o],null!==h.dataPoint.y&&l.push(h));h=null}}else{if(l=[],this.chart.axisX)for(u=0;u<this.chart.axisX.length;u++)for(s=this.chart.axisX[u].convertPixelToValue({x:t}),h=null,o=0;o<this.chart.axisX[u].dataSeries.length;o++)(h=this.chart.axisX[u].dataSeries[o].getDataPointAtX(s,n))&&0<=h.index&&(h.dataSeries=this.chart.axisX[u].dataSeries[o],null!==h.dataPoint.y&&l.push(h));if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++)for(s=this.chart.axisX2[u].convertPixelToValue({x:t}),h=null,o=0;o<this.chart.axisX2[u].dataSeries.length;o++)(h=this.chart.axisX2[u].dataSeries[o].getDataPointAtX(s,n))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[u].dataSeries[o],null!==h.dataPoint.y&&l.push(h))}if(0===l.length)return;for(l.sort((function(t,e){return t.distance-e.distance})),n=l[0],o=0;o<l.length;o++)l[o].dataPoint.x.valueOf()===n.dataPoint.x.valueOf()&&a.push(l[o]);l=null}else{if(h=this.chart.getDataPointAtXY(t,i,n))this.currentDataPointIndex=h.dataPointIndex,this.currentSeriesIndex=h.dataSeries.index;else if(z)if(0<(h=C(t,i,this.chart._eventManager.ghostCtx))&&"undefined"!==typeof this.chart._eventManager.objectMap[h]){if("legendItem"===(h=this.chart._eventManager.objectMap[h]).objectType)return;this.currentSeriesIndex=h.dataSeriesIndex,this.currentDataPointIndex=0<=h.dataPointIndex?h.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(r=this.chart.data[this.currentSeriesIndex],h={},0<=this.currentDataPointIndex)o=r.dataPoints[this.currentDataPointIndex],h.dataSeries=r,h.dataPoint=o,h.index=this.currentDataPointIndex,h.distance=Math.abs(o.x-s),"waterfall"===r.type&&(h.cumulativeSumYStartValue=r.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,h.cumulativeSum=r.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==r.type&&"stepLine"!==r.type&&"spline"!==r.type&&"area"!==r.type&&"stepArea"!==r.type&&"splineArea"!==r.type&&"stackedArea"!==r.type&&"stackedArea100"!==r.type&&"rangeArea"!==r.type&&"rangeSplineArea"!==r.type&&"candlestick"!==r.type&&"ohlc"!==r.type&&"boxAndWhisker"!==r.type)return;s=r.axisX.convertPixelToValue({x:t}),d(h=r.getDataPointAtX(s,n))||(h.dataSeries=r,this.currentDataPointIndex=h.index,o=h.dataPoint)}if(!d(h)&&!d(h.dataPoint)&&!d(h.dataPoint.y))if(h.dataSeries.axisY)if(0<h.dataPoint.y.length){for(o=n=0;o<h.dataPoint.y.length;o++)h.dataPoint.y[o]<h.dataSeries.axisY.viewportMinimum?n--:h.dataPoint.y[o]>h.dataSeries.axisY.viewportMaximum&&n++;n<h.dataPoint.y.length&&n>-h.dataPoint.y.length&&a.push(h)}else"column"===r.type||"bar"===r.type?0>h.dataPoint.y?0>h.dataSeries.axisY.viewportMinimum&&h.dataSeries.axisY.viewportMaximum>=h.dataPoint.y&&a.push(h):h.dataSeries.axisY.viewportMinimum<=h.dataPoint.y&&0<=h.dataSeries.axisY.viewportMaximum&&a.push(h):"bubble"===r.type?(n=this.chart._eventManager.objectMap[r.dataPointIds[h.index]].size/2,h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum-n&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum+n&&a.push(h)):"waterfall"===r.type?(n=0,h.cumulativeSumYStartValue<h.dataSeries.axisY.viewportMinimum?n--:h.cumulativeSumYStartValue>h.dataSeries.axisY.viewportMaximum&&n++,h.cumulativeSum<h.dataSeries.axisY.viewportMinimum?n--:h.cumulativeSum>h.dataSeries.axisY.viewportMaximum&&n++,2>n&&-2<n&&a.push(h)):(0<=h.dataSeries.type.indexOf("100")||"stackedColumn"===r.type||"stackedBar"===r.type||h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum)&&a.push(h);else a.push(h)}}if(0<a.length){if(this.highlightObjects(a),this.enabled)if(n="",null!==(n=this.getToolTipInnerHTML({entries:a}))){this.contentDiv.innerHTML=n,n=!1,"none"===this.container.style.display&&(n=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:z?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[r.index%a[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:z?"italic":"normal"}catch(e){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(i=10-(i=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):i:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(i-=i+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,i),!this.animationEnabled||n?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=t+"px",this.container.style.bottom=i+"px"}else this.hide(!1)}else this.hide()}},Y.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var i=this.chart.plotArea,n=0;for(e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip(),i=0;i<t.length;i++){var o=t[i];if((o=this.chart._eventManager.objectMap[o.dataSeries.dataPointIds[o.index]])&&o.objectType&&"dataPoint"===o.objectType){var r=(n=this.chart.data[o.dataSeriesIndex]).dataPoints[o.dataPointIndex],s=o.dataPointIndex;!1===r.highlightEnabled||!0!==n.highlightEnabled&&!0!==r.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?((r=n.getMarkerProperties(s,o.x1,o.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),et.drawMarkers([r]),"undefined"!==typeof o.y2&&((r=n.getMarkerProperties(s,o.x1,o.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),et.drawMarkers([r]))):"bubble"===n.type?((r=n.getMarkerProperties(s,o.x1,o.y1,this.chart.overlaidCanvasCtx)).size=o.size,r.color="white",r.borderColor="white",e.globalAlpha=.3,et.drawMarkers([r]),e.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type||"waterfall"===n.type?ct(e,o.x1,o.y1,o.x2,o.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?Q(e,o.center,o.radius,"white",n.type,o.startAngle,o.endAngle,.3,o.percentInnerRadius):"funnel"===n.type||"pyramid"===n.type?$(e,o.funnelSection,.3,"white"):"candlestick"===n.type?(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,n=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(o.x3-n,Math.min(o.y2,o.y3)),e.lineTo(o.x3-n,Math.min(o.y1,o.y4)),e.stroke(),e.beginPath(),e.moveTo(o.x3-n,Math.max(o.y1,o.y4)),e.lineTo(o.x3-n,Math.max(o.y2,o.y3)),e.stroke(),ct(e,o.x1,Math.min(o.y1,o.y4),o.x2,Math.max(o.y1,o.y4),"transparent",2*o.borderThickness,o.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===n.type?(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,n=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(o.x3-n,o.y2),e.lineTo(o.x3-n,o.y3),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y1),e.lineTo(o.x1,o.y1),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y4),e.lineTo(o.x2,o.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===n.type?(e.save(),e.globalAlpha=1,e.strokeStyle=o.stemColor,e.lineWidth=2*o.stemThickness,0<o.stemThickness&&(e.beginPath(),e.moveTo(o.x3,o.y2+o.borderThickness/2),e.lineTo(o.x3,o.y1+o.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y4-o.whiskerThickness/2),e.lineTo(o.x3,o.y3-o.borderThickness/2),e.stroke()),e.beginPath(),ct(e,o.x1-o.borderThickness/2,Math.max(o.y2+o.borderThickness/2,o.y3+o.borderThickness/2),o.x2+o.borderThickness/2,Math.min(o.y2-o.borderThickness/2,o.y3-o.borderThickness/2),"transparent",o.borderThickness,o.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=o.whiskerColor,e.lineWidth=2*o.whiskerThickness,0<o.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(o.x3-o.whiskerLength/2),o.y4),e.lineTo(Math.ceil(o.x3+o.whiskerLength/2),o.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(o.x3-o.whiskerLength/2),o.y1),e.lineTo(Math.ceil(o.x3+o.whiskerLength/2),o.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=o.lineColor,e.lineWidth=2*o.lineThickness,0<o.lineThickness&&(e.beginPath(),e.moveTo(o.x1,o.y5),e.lineTo(o.x2,o.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===n.type&&a(e,o.x1,o.y1,o.x2,o.y2,"white",o.whiskerProperties,o.stemProperties,o.isXYSwapped,.3))}}e.restore(),e.globalAlpha=1,e.beginPath()},Y.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,i=null,n=null,o=0,r="",a=!0,s=0;s<t.length;s++)if(t[s].dataSeries.toolTipContent||t[s].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"===typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var l=null,u="";for(s=0;s<t.length;s++)i=t[s].dataSeries,n=t[s].dataPoint,o=t[s].index,r="",0===s&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?u+="undefined"!==typeof this.chart.axisX[0].labels[n.x]?this.chart.axisX[0].labels[n.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(u+="undefined"!==typeof this.chart.axisX2[0].labels[n.x]?this.chart.axisX2[0].labels[n.x]:"{x}"),u+="</br>",u=this.chart.replaceKeywordsWithValue(u,n,i,o)),null===n.toolTipContent||"undefined"===typeof n.toolTipContent&&null===i.options.toolTipContent||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",l=i.axisXIndex):"bubble"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===i.type||"ohlc"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===i.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(r+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(r,n,i,o)+e,s<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(r,n,i,o),s<t.length-1&&(e+="</br>")));null!==e&&(e=u+e)}else{if(i=t[0].dataSeries,n=t[0].dataPoint,o=t[0].index,null===n.toolTipContent||"undefined"===typeof n.toolTipContent&&null===i.options.toolTipContent)return null;"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===i.type||"ohlc"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===i.type&&(r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(r,n,i,o)}return e},Y.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Y.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Y.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,("undefined"===typeof t||t)&&this.chart.resetOverlayedCanvas())},Y.prototype.show=function(t,e,i){this._updateToolTip(t,e,"undefined"!==typeof i&&i)},Y.prototype.fixMozTransitionDelay=function(t,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var i=parseFloat(this.container.style.left),n=(i=isNaN(i)?0:i,parseFloat(this.container.style.bottom));n=isNaN(n)?0:n;10<Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},Y.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},X.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],z&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},X.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},X.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],i=st(t),n=null;if((n=this.chart.getObjectAtXY(i.x,i.y,!1))&&"undefined"!==typeof this.objectMap[n])if("dataPoint"===(n=this.objectMap[n]).objectType){var o=this.chart.data[n.dataSeriesIndex],r=o.dataPoints[n.dataPointIndex],a=n.dataPointIndex;n.eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:o.options,dataPointIndex:a,dataSeriesIndex:o.index,chart:this.chart},n.eventContext={context:r,userContext:r,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(n),(n=this.objectMap[o.id]).eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:o.options,dataPointIndex:a,dataSeriesIndex:o.index,chart:this.chart},n.eventContext={context:o,userContext:o.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[o.id])}else"legendItem"===n.objectType&&(o=this.chart.data[n.dataSeriesIndex],r=null!==n.dataPointIndex?o.dataPoints[n.dataPointIndex]:null,n.eventParameter={x:i.x,y:i.y,dataSeries:o.options,dataPoint:r,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart},n.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(n));for(o=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(r=!0,n=0;n<e.length;n++)if(e[n].id===this.mouseoveredObjectMaps[i].id){r=!1;break}r?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):o.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=o,i=0;i<e.length;i++){for(o=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(e[i].id===this.mouseoveredObjectMaps[n].id){o=!0;break}o||(this.fireEvent(e[i],"mouseover",t),this.mouseoveredObjectMaps.push(e[i])),"click"===t.type?this.fireEvent(e[i],"click",t):"mousemove"===t.type&&this.fireEvent(e[i],"mousemove",t)}}},X.prototype.fireEvent=function(t,e,i){if(t&&e){var n=t.eventParameter,o=t.eventContext,r=t.eventContext.userContext;r&&o&&r[o[e]]&&r[o[e]].call(r,n),"mouseout"!==e?r.cursor&&r.cursor!==i.target.style.cursor&&(i.target.style.cursor=r.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},K.prototype.animate=function(t,e,i,n,o){var r=this;for(this.chart.isAnimating=!0,o=o||J.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:i,onComplete:n}),t=[];0<this.animations.length;)e=this.animations.shift(),i=(new Date).getTime(),n=0,e.startTime<=i&&(n=o(Math.min(i-e.startTime,e.duration),0,1,e.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(e),e.animationCallback(n),1<=n&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){r.animate.call(r)})):this.chart.isAnimating=!1},K.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var J={yScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,o=e.animationBase;i.drawImage(n,0,0,n.width,n.height,0,o-o*t,i.canvas.width/pt,t*i.canvas.height/pt)}},xScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,o=e.animationBase;i.drawImage(n,0,0,n.width,n.height,o-o*t,0,t*i.canvas.width/pt,i.canvas.height/pt)}},xClipAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),0<t&&i.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/pt,n.height/pt),i.restore()}},fadeInAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(n,0,0,n.width,n.height,0,0,i.canvas.width/pt,i.canvas.height/pt),i.restore()}},easing:{linear:function(t,e,i,n){return i*t/n+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e}}},et={drawMarker:function(t,e,i,n,o,r,a,s){if(i){var l=1;i.fillStyle=r||"#000000",i.strokeStyle=a||"#000000",i.lineWidth=s||0,i.setLineDash&&i.setLineDash(y("solid",s)),"circle"===n?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,o/2,0,2*Math.PI,!1),r&&i.fill(),s&&(a?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"square"===n?(i.beginPath(),i.rect(t-o/2,e-o/2,o,o),r&&i.fill(),s&&(a?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"triangle"===n?(i.beginPath(),i.moveTo(t-o/2,e+o/2),i.lineTo(t+o/2,e+o/2),i.lineTo(t,e-o/2),i.closePath(),r&&i.fill(),s&&(a?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l)),i.beginPath()):"cross"===n&&(i.strokeStyle=r,i.lineWidth=o/4,i.beginPath(),i.moveTo(t-o/2,e-o/2),i.lineTo(t+o/2,e+o/2),i.stroke(),i.moveTo(t+o/2,e-o/2),i.lineTo(t-o/2,e+o/2),i.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];et.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return e}(),yt.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new p(this))}function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function i(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||((t=t.createStyleSheet()).owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function n(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function o(t){(t=t.srcElement).firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function r(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],n=0;3>n;n++)for(var o=0;3>o;o++){for(var r=0,a=0;3>a;a++)r+=t[n][a]*e[a][o];i[n][o]=r}return i}function a(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1);return 4==(e=t.substring(e+1,i).split(",")).length&&"a"==t.charAt(3)||(e[3]=1),e}function l(t,e,i){return Math.min(i,Math.max(e,t))}function u(t,e,i){return 0>i&&i++,1<i&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}function h(t){if(t in F)return F[t];var e,i=1;if("#"==(t=String(t)).charAt(0))e=t;else if(/^rgb/.test(t)){i=s(t),e="#";for(var n,o=0;3>o;o++)n=-1!=i[o].indexOf("%")?Math.floor(parseFloat(i[o])/100*255):+i[o],e+=O[l(n,0,255)];i=+i[3]}else if(/^hsl/.test(t)){if(o=i=s(t),0>(e=parseFloat(o[0])/360%360)&&e++,n=l(parseFloat(o[1])/100,0,1),o=l(parseFloat(o[2])/100,0,1),0==n)n=o=e=o;else{var r=.5>o?o*(1+n):o+n-o*n,a=2*o-r;n=u(a,r,e+1/3),o=u(a,r,e),e=u(a,r,e-1/3)}e="#"+O[Math.floor(255*n)]+O[Math.floor(255*o)]+O[Math.floor(255*e)],i=i[3]}else e=k[t]||t;return F[t]={color:e,alpha:i}}function p(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*T,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i),(e=i.cloneNode(!1)).style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=i,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function c(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function d(t,e){var i=(n=h(t.strokeStyle)).color,n=n.alpha*t.globalAlpha,o=t.lineScale_*t.lineWidth;1>o&&(n*=o),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',L[t.lineCap]||"square",'"',' weight="',o,'px"',' color="',i,'" />')}function f(t,e,i,n){var o=t.fillStyle,r=t.arcScaleX_,a=t.arcScaleY_,s=n.x-i.x,l=n.y-i.y;if(o instanceof y){var u=0,p=n=0,c=0,d=1;if("gradient"==o.type_){u=o.x1_/r,i=o.y1_/a;var f=g(t,o.x0_/r,o.y0_/a);u=g(t,u,i);0>(u=180*Math.atan2(u.x-f.x,u.y-f.y)/Math.PI)&&(u+=360),1e-6>u&&(u=0)}else n=((f=g(t,o.x0_,o.y0_)).x-i.x)/s,p=(f.y-i.y)/l,s/=r*T,l/=a*T,d=x.max(s,l),c=2*o.r0_/d,d=2*o.r1_/d-c;(r=o.colors_).sort((function(t,e){return t.offset-e.offset})),a=r.length,f=r[0].color,i=r[a-1].color,s=r[0].alpha*t.globalAlpha,t=r[a-1].alpha*t.globalAlpha;l=[];for(var m=0;m<a;m++){var C=r[m];l.push(C.offset*d+c+" "+C.color)}e.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',i,'"',' colors="',l.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',s,'"',' angle="',u,'"',' focusposition="',n,",",p,'" />')}else o instanceof v?s&&l&&e.push("<g_vml_:fill",' position="',-i.x/s*r*r,",",-i.y/l*a*a,'"',' type="tile"',' src="',o.src_,'" />'):(o=h(t.fillStyle),e.push('<g_vml_:fill color="',o.color,'" opacity="',o.alpha*t.globalAlpha,'" />'))}function g(t,e,i){return t=t.m_,{x:T*(e*t[0][0]+i*t[1][0]+t[2][0])-_,y:T*(e*t[0][1]+i*t[1][1]+t[2][1])-_}}function m(t,e,i){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,i&&(t.lineScale_=S(P(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function y(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function v(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new C("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new C("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new C("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function C(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var x=Math,b=x.round,w=x.sin,E=x.cos,P=x.abs,S=x.sqrt,T=10,_=T/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var M=Array.prototype.slice;i(document);var R={init:function(t){(t=t||document).createElement("canvas"),t.attachEvent("onreadystatechange",function(t,e,i){var n=M.call(arguments,2);return function(){return t.apply(e,n.concat(M.call(arguments)))}}(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,i(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",n),e.attachEvent("onresize",o);var r=e.attributes;r.width&&r.width.specified?e.style.width=r.width.nodeValue+"px":e.width=e.clientWidth,r.height&&r.height.specified?e.style.height=r.height.nodeValue+"px":e.height=e.clientHeight}return e}};R.init();for(var O=[],A=0;16>A;A++)for(var D=0;16>D;D++)O[16*A+D]=A.toString(16)+D.toString(16);var k={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},F={},I={},L={butt:"flat",round:"round"};(A=p.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},A.beginPath=function(){this.currentPath_=[]},A.moveTo=function(t,e){var i=g(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},A.lineTo=function(t,e){var i=g(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},A.bezierCurveTo=function(t,e,i,n,o,r){o=g(this,o,r),c(this,t=g(this,t,e),i=g(this,i,n),o)},A.quadraticCurveTo=function(t,e,i,n){t=g(this,t,e),i=g(this,i,n),c(this,n={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},{x:n.x+(i.x-this.currentX_)/3,y:n.y+(i.y-this.currentY_)/3},i)},A.arc=function(t,e,i,n,o,r){i*=T;var a=r?"at":"wa",s=t+E(n)*i-_,l=e+w(n)*i-_;n=t+E(o)*i-_,o=e+w(o)*i-_,s!=n||r||(s+=.125),t=g(this,t,e),s=g(this,s,l),n=g(this,n,o),this.currentPath_.push({type:a,x:t.x,y:t.y,radius:i,xStart:s.x,yStart:s.y,xEnd:n.x,yEnd:n.y})},A.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},A.strokeRect=function(t,e,i,n){var o=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=o},A.fillRect=function(t,e,i,n){var o=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=o},A.createLinearGradient=function(t,e,i,n){var o=new y("gradient");return o.x0_=t,o.y0_=e,o.x1_=i,o.y1_=n,o},A.createRadialGradient=function(t,e,i,n,o,r){var a=new y("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=i,a.x1_=n,a.y1_=o,a.r1_=r,a},A.drawImage=function(t,e){var i,n,o,r,a,s,l,u;o=t.runtimeStyle.width,r=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var h=t.width,p=t.height;if(t.runtimeStyle.width=o,t.runtimeStyle.height=r,3==arguments.length)i=arguments[1],n=arguments[2],a=s=0,l=o=h,u=r=p;else if(5==arguments.length)i=arguments[1],n=arguments[2],o=arguments[3],r=arguments[4],a=s=0,l=h,u=p;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],i=arguments[5],n=arguments[6],o=arguments[7],r=arguments[8]}var c=g(this,i,n),d=[];if(d.push(" <g_vml_:group",' coordsize="',10*T,",",10*T,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",b(c.x/T),",","Dy=",b(c.y/T),"");var m=g(this,i+o,n),y=g(this,i,n+r);i=g(this,i+o,n+r),c.x=x.max(c.x,m.x,y.x,i.x),c.y=x.max(c.y,m.y,y.y,i.y),d.push("padding:0 ",b(c.x/T),"px ",b(c.y/T),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else d.push("top:",b(c.y/T),"px;left:",b(c.x/T),"px;");d.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',T*o,"px;"," height:",T*r,'px"',' cropleft="',a/h,'"',' croptop="',s/p,'"',' cropright="',(h-a-l)/h,'"',' cropbottom="',(p-s-u)/p,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",d.join(""))},A.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*T,",",10*T,'"',' stroked="',!t,'"',' path="');for(var i={x:null,y:null},n={x:null,y:null},o=0;o<this.currentPath_.length;o++){var r=this.currentPath_[o];switch(r.type){case"moveTo":e.push(" m ",b(r.x),",",b(r.y));break;case"lineTo":e.push(" l ",b(r.x),",",b(r.y));break;case"close":e.push(" x "),r=null;break;case"bezierCurveTo":e.push(" c ",b(r.cp1x),",",b(r.cp1y),",",b(r.cp2x),",",b(r.cp2y),",",b(r.x),",",b(r.y));break;case"at":case"wa":e.push(" ",r.type," ",b(r.x-this.arcScaleX_*r.radius),",",b(r.y-this.arcScaleY_*r.radius)," ",b(r.x+this.arcScaleX_*r.radius),",",b(r.y+this.arcScaleY_*r.radius)," ",b(r.xStart),",",b(r.yStart)," ",b(r.xEnd),",",b(r.yEnd))}r&&((null==i.x||r.x<i.x)&&(i.x=r.x),(null==n.x||r.x>n.x)&&(n.x=r.x),(null==i.y||r.y<i.y)&&(i.y=r.y),(null==n.y||r.y>n.y)&&(n.y=r.y))}e.push(' ">'),t?f(this,e,i,n):d(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},A.fill=function(){this.stroke(!0)},A.closePath=function(){this.currentPath_.push({type:"close"})},A.save=function(){var t={};a(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=r([[1,0,0],[0,1,0],[0,0,1]],this.m_)},A.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},A.translate=function(t,e){m(this,r([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},A.rotate=function(t){var e=E(t);m(this,r([[e,t=w(t),0],[-t,e,0],[0,0,1]],this.m_),!1)},A.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,m(this,r([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},A.transform=function(t,e,i,n,o,a){m(this,r([[t,e,0],[i,n,0],[o,a,1]],this.m_),!0)},A.setTransform=function(t,e,i,n,o,r){m(this,[[t,e,0],[i,n,0],[o,r,1]],!0)},A.drawText_=function(t,i,n,o,r){var a=this.m_;o=0;var s,l=1e3,u=0,h=[];if(s=this.font,I[s])s=I[s];else{var p=document.createElement("div").style;try{p.font=s}catch(y){}s=I[s]={style:p.fontStyle||"normal",variant:p.fontVariant||"normal",weight:p.fontWeight||"normal",size:p.fontSize||10,family:p.fontFamily||"sans-serif"}}p=s;var c=this.element_;for(var m in s={},p)s[m]=p[m];switch(m=parseFloat(c.currentStyle.fontSize),c=parseFloat(p.size),"number"==typeof p.size?s.size=p.size:-1!=p.size.indexOf("px")?s.size=c:-1!=p.size.indexOf("em")?s.size=m*c:-1!=p.size.indexOf("%")?s.size=m/100*c:-1!=p.size.indexOf("pt")?s.size=c/.75:s.size=m,s.size*=.981,m=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,c=this.element_.currentStyle,p=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":p="ltr"==c.direction?"right":"left";break;case"start":p="rtl"==c.direction?"right":"left";break;default:p="left"}switch(this.textBaseline){case"hanging":case"top":u=s.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u=-s.size/2.25}switch(p){case"right":o=1e3,l=.05;break;case"center":o=l=500}i=g(this,i+0,n+u),h.push('<g_vml_:line from="',-o,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?d(this,h):f(this,h,{x:-o,y:0},{x:l,y:s.size}),r=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",i=b(i.x/T)+","+b(i.y/T),h.push('<g_vml_:skew on="t" matrix="',r,'" ',' offset="',i,'" origin="',o,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(t),'" style="v-text-align:',p,";font:",e(m),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},A.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},A.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},A.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},A.clip=function(){},A.arcTo=function(){},A.createPattern=function(t,e){return new v(t,e)},y.prototype.addColorStop=function(t,e){e=h(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},(A=C.prototype=Error()).INDEX_SIZE_ERR=1,A.DOMSTRING_SIZE_ERR=2,A.HIERARCHY_REQUEST_ERR=3,A.WRONG_DOCUMENT_ERR=4,A.INVALID_CHARACTER_ERR=5,A.NO_DATA_ALLOWED_ERR=6,A.NO_MODIFICATION_ALLOWED_ERR=7,A.NOT_FOUND_ERR=8,A.NOT_SUPPORTED_ERR=9,A.INUSE_ATTRIBUTE_ERR=10,A.INVALID_STATE_ERR=11,A.SYNTAX_ERR=12,A.INVALID_MODIFICATION_ERR=13,A.NAMESPACE_ERR=14,A.INVALID_ACCESS_ERR=15,A.VALIDATION_ERR=16,A.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=R,CanvasRenderingContext2D=p,CanvasGradient=y,CanvasPattern=v,DOMException=C}()},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=i(1),l=i(14),u=i(26),h=i(33),p=i(62),c=i(34),d=function(t){function e(e){var i=t.call(this,e)||this;return i.props=e,i.changeDetectionService=new c.ChangeDetectionService,i.api=null,i.portals=[],i.hasPendingPortalUpdate=!1,i.destroyed=!1,i}return n(e,t),e.prototype.render=function(){var t=this;return a.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(e){t.eGridDiv=e}},this.portals)},e.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},e.prototype.componentDidMount=function(){var t=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new g(this)},modules:t},i=this.props.gridOptions||{},n=this.props.children;h.AgGridColumn.hasChildColumns(n)&&(i.columnDefs=h.AgGridColumn.mapChildColumnDefs(n)),this.gridOptions=u.ComponentUtil.copyAttributesToGridOptions(i,this.props),new u.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi},e.prototype.waitForInstance=function(t,i,n){var o=this;if(void 0===n&&(n=Date.now()),this.destroyed)i(null);else if(t.rendered())i(t);else{if(Date.now()-n>=e.MAX_COMPONENT_CREATION_TIME_IN_MS)return void console.error("ag-Grid: React Component '"+t.getReactComponentName()+"' not created within "+e.MAX_COMPONENT_CREATION_TIME_IN_MS+"ms");window.setTimeout((function(){return o.batchUpdate((function(){return o.waitForInstance(t,i,n)}))}))}},e.prototype.mountReactPortal=function(t,e,i){var n=this;this.portals=r(this.portals,[t]),this.batchUpdate((function(){return n.waitForInstance(e,i)}))},e.prototype.batchUpdate=function(t){var e=this;this.hasPendingPortalUpdate?t&&t():(setTimeout((function(){e.api&&e.forceUpdate((function(){t&&t(),e.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0)},e.prototype.destroyPortal=function(t){this.portals=this.portals.filter((function(e){return e!==t})),this.batchUpdate()},e.prototype.getStrategyTypeForProp=function(t){if("rowData"===t){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return c.ChangeDetectionStrategyType.IdentityCheck}return c.ChangeDetectionStrategyType.DeepValueCheck},e.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)},e.prototype.shouldComponentUpdate=function(t){return this.processPropsChanges(this.props,t),!1},e.prototype.componentDidUpdate=function(t){this.processPropsChanges(t,this.props)},e.prototype.processPropsChanges=function(t,e){var i={};this.extractGridPropertyChanges(t,e,i),this.extractDeclarativeColDefChanges(e,i),Object.keys(i).length>0&&u.ComponentUtil.processOnChange(i,this.gridOptions,this.api,this.columnApi)},e.prototype.extractDeclarativeColDefChanges=function(t,e){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var i=!!t.debug,n="columnDefs",o=this.gridOptions.columnDefs;if(h.AgGridColumn.hasChildColumns(t.children)){var r=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n)),a=h.AgGridColumn.mapChildColumnDefs(t.children);r.areEqual(o,a)||(i&&console.log("agGridReact: colDefs definitions changed"),e[n]={previousValue:o,currentValue:a})}else o&&o.length>0&&(e[n]={previousValue:o,currentValue:[]})}},e.prototype.extractGridPropertyChanges=function(t,e,i){var n=this,o=!!e.debug;Object.keys(e).forEach((function(r){u._.includes(u.ComponentUtil.ALL_PROPERTIES,r)&&(n.changeDetectionService.getStrategy(n.getStrategyTypeForProp(r)).areEqual(t[r],e[r])||(o&&console.log("agGridReact: ["+r+"] property changed"),i[r]={previousValue:t[r],currentValue:e[r]}))})),u.ComponentUtil.getEventCallbacks().forEach((function(r){n.props[r]!==e[r]&&(o&&console.log("agGridReact: ["+r+"] event callback changed"),i[r]={previousValue:t[r],currentValue:e[r]})}))},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0},e.prototype.isDisableStaticMarkup=function(){return!!this.props.disableStaticMarkup},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e}(s.Component);function f(t,e){t.forEach((function(t){d[t]=e}))}e.AgGridReact=d,d.propTypes={gridOptions:l.object},f(u.ComponentUtil.getEventCallbacks(),l.func),f(u.ComponentUtil.BOOLEAN_PROPERTIES,l.bool),f(u.ComponentUtil.STRING_PROPERTIES,l.string),f(u.ComponentUtil.OBJECT_PROPERTIES,l.object),f(u.ComponentUtil.ARRAY_PROPERTIES,l.array),f(u.ComponentUtil.NUMBER_PROPERTIES,l.number),f(u.ComponentUtil.FUNCTION_PROPERTIES,l.func);var g=function(t){function e(e){var i=t.call(this)||this;return i.agGridReact=e,i}return n(e,t),e.prototype.createWrapper=function(t,e){return new p.ReactComponent(t,this.agGridReact,e)},e}(u.BaseComponentWrapper)},function(t,e,i){"use strict";var n=i(61);function o(){}function r(){}r.resetWarningCache=o,t.exports=function(){function t(t,e,i,o,r,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}},function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(27),a=i(26),s=i(63),l=i(64),u=i(65),h=i(66),p=function(t){function e(i,n,o){var r=t.call(this)||this;return r.portal=null,r.statelessDomInsertedListener=null,r.staticMarkup=null,r.staticRenderTime=0,r.reactComponent=i,r.componentType=o,r.parentComponent=n,r.statelessComponent=e.isStateless(r.reactComponent),r.isStatelessComponent()&&(r.statelessDomInsertedListener=function(){r.removeStaticMarkup()}),r}return n(e,t),e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),this.isStatelessComponent()&&this.eParentElement.addEventListener("DOMNodeInserted",this.statelessDomInsertedListener,!1),new a.Promise((function(i){return e.createReactComponent(t,i)}))},e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.eParentElement.removeEventListener("DOMNodeInserted",this.statelessDomInsertedListener),this.parentComponent.destroyPortal(this.portal)},e.prototype.createReactComponent=function(t,e){var i=this;this.isStatelessComponent()||(t.ref=function(t){i.componentInstance=t,i.addParentContainerStyleAndClasses(),i.removeStaticMarkup()});var n=o.createElement(this.reactComponent,t),a=r.createPortal(n,this.eParentElement,u.default());this.portal=a,this.parentComponent.mountReactPortal(a,this,(function(t){e(t),i.isStatelessComponent()&&setTimeout((function(){return i.removeStaticMarkup()}))}))},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&l.assignProperties(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(e){return a._.addCssClass(t.eParentElement,e)})))},e.prototype.createParentElement=function(t){var e=document.createElement(this.parentComponent.props.componentWrappingElement||"div");return a._.addCssClass(e,"ag-react-container"),t.reactContainer=e,e},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},e.isStateless=function(t){return"function"===typeof t&&!(t.prototype&&t.prototype.isReactComponent)||"object"===typeof t&&t.$$typeof===e.REACT_MEMO_TYPE},e.prototype.isNullRender=function(){return""===this.staticMarkup},e.prototype.renderStaticMarkup=function(t){if(!(this.parentComponent.isDisableStaticMarkup()||this.componentType.isCellRenderer&&!this.componentType.isCellRenderer())){var e=console.error,i=o.createElement(this.reactComponent,t);try{var n=console.error;console.error=function(){};var r=Date.now(),a=h.renderToStaticMarkup(i);this.staticRenderTime=Date.now()-r,console.error=n,""===a?this.staticMarkup=a:a&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=a,this.eParentElement.appendChild(this.staticMarkup))}catch(s){}finally{console.error=e}}},e.prototype.removeStaticMarkup=function(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.isCellRenderer()&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},e.prototype.rendered=function(){return this.isNullRender()||!!this.staticMarkup||!(!this.isStatelessComponent()||!this.statelessComponentRendered())||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},e.REACT_MEMO_TYPE=e.hasSymbol()?Symbol.for("react.memo"):60115,e}(s.BaseReactComponent);e.ReactComponent=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return null!=e&&null!=e[t]},t.prototype.callMethod=function(t,e){var i=this,n=this.getFrameworkComponentInstance();if(null!=n){var o=this.getFrameworkComponentInstance()[t];if(null==o)return;return o.apply(n,e)}window.setTimeout((function(){return i.callMethod(t,e)}),100)},t.prototype.addMethod=function(t,e){this[t]=e},t}();e.BaseReactComponent=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignProperties=function(t,e){Object.keys(e).forEach((function(i){t[i]=e[i]}))},e.assign=function(t,i,n){if("string"===typeof i&&(i=i.split(".")),i.length>1){var o=i.shift();e.assign(t[o]="[object Object]"===Object.prototype.toString.call(t[o])?t[o]:{},i,n)}else t[i[0]]=n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0;e.default=function(){return"agPortalKey_"+ ++n}},function(t,e,i){"use strict";t.exports=i(67)},function(t,e,i){"use strict";var n=i(24),o=i(1);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=60106,s=60107,l=60108,u=60114,h=60109,p=60110,c=60112,d=60113,f=60120,g=60115,m=60116,y=60121,v=60117,C=60119,x=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;a=w("react.portal"),s=w("react.fragment"),l=w("react.strict_mode"),u=w("react.profiler"),h=w("react.provider"),p=w("react.context"),c=w("react.forward_ref"),d=w("react.suspense"),f=w("react.suspense_list"),g=w("react.memo"),m=w("react.lazy"),y=w("react.block"),v=w("react.fundamental"),C=w("react.scope"),x=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function E(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case s:return"Fragment";case a:return"Portal";case u:return"Profiler";case l:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case p:return(t.displayName||"Context")+".Consumer";case h:return(t._context.displayName||"Context")+".Provider";case c:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case g:return E(t.type);case y:return E(t._render);case m:e=t._payload,t=t._init;try{return E(t(e))}catch(i){}}return null}var P=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S={};function T(t,e){for(var i=0|t._threadCount;i<=e;i++)t[i]=t._currentValue2,t._threadCount=i+1}for(var _=new Uint16Array(16),M=0;15>M;M++)_[M]=M+1;_[15]=0;var R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O=Object.prototype.hasOwnProperty,A={},D={};function k(t){return!!O.call(D,t)||!O.call(A,t)&&(R.test(t)?D[t]=!0:(A[t]=!0,!1))}function F(t,e,i,n,o,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){I[t]=new F(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];I[e]=new F(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){I[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){I[t]=new F(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){I[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){I[t]=new F(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){I[t]=new F(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){I[t]=new F(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){I[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)}));var L=/[\-:]([a-z])/g;function N(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(L,N);I[e]=new F(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(L,N);I[e]=new F(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(L,N);I[e]=new F(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){I[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)})),I.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){I[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)}));var V=/["'&<>]/;function B(t){if("boolean"===typeof t||"number"===typeof t)return""+t;t=""+t;var e=V.exec(t);if(e){var i,n="",o=0;for(i=e.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==i&&(n+=t.substring(o,i)),o=i+1,n+=e}t=o!==i?n+t.substring(o,i):n}return t}function W(t,e){var i,n=I.hasOwnProperty(t)?I[t]:null;return(i="style"!==t)&&(i=null!==n?0===n.type:2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])),i||function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(t,e,n,!1)?"":null!==n?(t=n.attributeName,3===(i=n.type)||4===i&&!0===e?t+'=""':(n.sanitizeURL&&(e=""+e),t+'="'+B(e)+'"')):k(t)?t+'="'+B(e)+'"':""}var G="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},H=null,z=null,j=null,U=!1,Y=!1,X=null,q=0;function K(){if(null===H)throw Error(r(321));return H}function Q(){if(0<q)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function $(){return null===j?null===z?(U=!1,z=j=Q()):(U=!0,j=z):null===j.next?(U=!1,j=j.next=Q()):(U=!0,j=j.next),j}function J(t,e,i,n){for(;Y;)Y=!1,q+=1,j=null,i=t(e,n);return Z(),i}function Z(){H=null,Y=!1,z=null,q=0,j=X=null}function tt(t,e){return"function"===typeof e?e(t):e}function et(t,e,i){if(H=K(),j=$(),U){var n=j.queue;if(e=n.dispatch,null!==X&&void 0!==(i=X.get(n))){X.delete(n),n=j.memoizedState;do{n=t(n,i.action),i=i.next}while(null!==i);return j.memoizedState=n,[n,e]}return[j.memoizedState,e]}return t=t===tt?"function"===typeof e?e():e:void 0!==i?i(e):e,j.memoizedState=t,t=(t=j.queue={last:null,dispatch:null}).dispatch=nt.bind(null,H,t),[j.memoizedState,t]}function it(t,e){if(H=K(),e=void 0===e?null:e,null!==(j=$())){var i=j.memoizedState;if(null!==i&&null!==e){var n=i[1];t:if(null===n)n=!1;else{for(var o=0;o<n.length&&o<e.length;o++)if(!G(e[o],n[o])){n=!1;break t}n=!0}if(n)return i[0]}}return t=t(),j.memoizedState=[t,e],t}function nt(t,e,i){if(!(25>q))throw Error(r(301));if(t===H)if(Y=!0,t={action:i,next:null},null===X&&(X=new Map),void 0===(i=X.get(e)))X.set(e,t);else{for(e=i;null!==e.next;)e=e.next;e.next=t}}function ot(){}var rt=null,at={readContext:function(t){var e=rt.threadID;return T(t,e),t[e]},useContext:function(t){K();var e=rt.threadID;return T(t,e),t[e]},useMemo:it,useReducer:et,useRef:function(t){H=K();var e=(j=$()).memoizedState;return null===e?(t={current:t},j.memoizedState=t):e},useState:function(t){return et(tt,t)},useLayoutEffect:function(){},useCallback:function(t,e){return it((function(){return t}),e)},useImperativeHandle:ot,useEffect:ot,useDebugValue:ot,useDeferredValue:function(t){return K(),t},useTransition:function(){return K(),[function(t){t()},!1]},useOpaqueIdentifier:function(){return(rt.identifierPrefix||"")+"R:"+(rt.uniqueID++).toString(36)},useMutableSource:function(t,e){return K(),e(t._source)}},st="http://www.w3.org/1999/xhtml";function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ut={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ht=n({menuitem:!0},ut),pt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(pt).forEach((function(t){ct.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var dt=/([A-Z])/g,ft=/^ms-/,gt=o.Children.toArray,mt=P.ReactCurrentDispatcher,yt={listing:!0,pre:!0,textarea:!0},vt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ct={},xt={};var bt=Object.prototype.hasOwnProperty,wt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Et(t,e){if(void 0===t)throw Error(r(152,E(e)||"Component"))}function Pt(t,e,i){function a(o,a){var s=a.prototype&&a.prototype.isReactComponent,l=function(t,e,i,n){if(n&&"object"===typeof(n=t.contextType)&&null!==n)return T(n,i),n[i];if(t=t.contextTypes){for(var o in i={},t)i[o]=e[o];e=i}else e=S;return e}(a,e,i,s),u=[],h=!1,p={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(t,e){h=!0,u=[e]},enqueueSetState:function(t,e){if(null===u)return null;u.push(e)}};if(s){if(s=new a(o.props,l,p),"function"===typeof a.getDerivedStateFromProps){var c=a.getDerivedStateFromProps.call(null,o.props,s.state);null!=c&&(s.state=n({},s.state,c))}}else if(H={},s=a(o.props,l,p),null==(s=J(a,o.props,s,l))||null==s.render)return void Et(t=s,a);if(s.props=o.props,s.context=l,s.updater=p,void 0===(p=s.state)&&(s.state=p=null),"function"===typeof s.UNSAFE_componentWillMount||"function"===typeof s.componentWillMount)if("function"===typeof s.componentWillMount&&"function"!==typeof a.getDerivedStateFromProps&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&"function"!==typeof a.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),u.length){p=u;var d=h;if(u=null,h=!1,d&&1===p.length)s.state=p[0];else{c=d?p[0]:s.state;var f=!0;for(d=d?1:0;d<p.length;d++){var g=p[d];null!=(g="function"===typeof g?g.call(s,c,o.props,l):g)&&(f?(f=!1,c=n({},c,g)):n(c,g))}s.state=c}}else u=null;if(Et(t=s.render(),a),"function"===typeof s.getChildContext&&"object"===typeof(o=a.childContextTypes)){var m=s.getChildContext();for(var y in m)if(!(y in o))throw Error(r(108,E(a)||"Unknown",y))}m&&(e=n({},e,m))}for(;o.isValidElement(t);){var s=t,l=s.type;if("function"!==typeof l)break;a(s,l)}return{child:t,context:e}}var St=function(){function t(t,e,i){o.isValidElement(t)?t.type!==s?t=[t]:(t=t.props.children,t=o.isValidElement(t)?[t]:gt(t)):t=gt(t),t={type:null,domNamespace:st,children:t,childIndex:0,context:S,footer:""};var n=_[0];if(0===n){var a=_,l=2*(n=a.length);if(!(65536>=l))throw Error(r(304));var u=new Uint16Array(l);for(u.set(a),(_=u)[0]=n+1,a=n;a<l-1;a++)_[a]=a+1;_[l-1]=0}else _[0]=_[n];this.threadID=n,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=e,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=i&&i.identifierPrefix||""}var e=t.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;_[t]=_[0],_[0]=t}},e.pushProvider=function(t){var e=++this.contextIndex,i=t.type._context,n=this.threadID;T(i,n);var o=i[n];this.contextStack[e]=i,this.contextValueStack[e]=o,i[n]=t.props.value},e.popProvider=function(){var t=this.contextIndex,e=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,e[this.threadID]=i},e.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},e.read=function(t){if(this.exhausted)return null;var e=rt;rt=this;var i=mt.current;mt.current=at;try{for(var n=[""],o=!1;n[0].length<t;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;_[a]=_[0],_[0]=a;break}var s=this.stack[this.stack.length-1];if(o||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===h)this.popProvider(s.type);else if(s.type===d){this.suspenseDepth--;var u=n.pop();if(o){o=!1;var p=s.fallbackFrame;if(!p)throw Error(r(303));this.stack.push(p),n[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}n[this.suspenseDepth]+=u}n[this.suspenseDepth]+=l}else{var c=s.children[s.childIndex++],f="";try{f+=this.render(c,s.context,s.domNamespace)}catch(g){if(null!=g&&"function"===typeof g.then)throw Error(r(294));throw g}n.length<=this.suspenseDepth&&n.push(""),n[this.suspenseDepth]+=f}}return n[0]}finally{mt.current=i,rt=e,Z()}},e.render=function(t,e,i){if("string"===typeof t||"number"===typeof t)return""===(i=""+t)?"":this.makeStaticMarkup?B(i):this.previousWasTextNode?"\x3c!-- --\x3e"+B(i):(this.previousWasTextNode=!0,B(i));if(t=(e=Pt(t,e,this.threadID)).child,e=e.context,null===t||!1===t)return"";if(!o.isValidElement(t)){if(null!=t&&null!=t.$$typeof){if((i=t.$$typeof)===a)throw Error(r(257));throw Error(r(258,i.toString()))}return t=gt(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),""}var y=t.type;if("string"===typeof y)return this.renderDOM(t,e,i);switch(y){case b:case x:case l:case u:case f:case s:return t=gt(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),"";case d:throw Error(r(294));case C:throw Error(r(343))}if("object"===typeof y&&null!==y)switch(y.$$typeof){case c:H={};var w=y.render(t.props,t.ref);return w=J(y.render,t.props,w,t.ref),w=gt(w),this.stack.push({type:null,domNamespace:i,children:w,childIndex:0,context:e,footer:""}),"";case g:return t=[o.createElement(y.type,n({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),"";case h:return i={type:t,domNamespace:i,children:y=gt(t.props.children),childIndex:0,context:e,footer:""},this.pushProvider(t),this.stack.push(i),"";case p:y=t.type,w=t.props;var E=this.threadID;return T(y,E),y=gt(w.children(y[E])),this.stack.push({type:t,domNamespace:i,children:y,childIndex:0,context:e,footer:""}),"";case v:throw Error(r(338));case m:return y=(w=(y=t.type)._init)(y._payload),t=[o.createElement(y,n({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),""}throw Error(r(130,null==y?y:typeof y,""))},e.renderDOM=function(t,e,i){var a=t.type.toLowerCase();if(i===st&&lt(a),!Ct.hasOwnProperty(a)){if(!vt.test(a))throw Error(r(65,a));Ct[a]=!0}var s=t.props;if("input"===a)s=n({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;if(null!=u){if(null!=l)throw Error(r(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(r(93));u=u[0]}l=""+u}null==l&&(l="")}s=n({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=n({},s,{value:void 0});else if("option"===a){u=this.currentSelectValue;var h=function(t){if(void 0===t||null===t)return t;var e="";return o.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(s.children);if(null!=u){var p=null!=s.value?s.value+"":h;if(l=!1,Array.isArray(u)){for(var c=0;c<u.length;c++)if(""+u[c]===p){l=!0;break}}else l=""+u===p;s=n({selected:void 0,children:void 0},s,{selected:l,children:h})}}if(l=s){if(ht[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(r(137,a));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(r(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(r(62))}l=s,u=this.makeStaticMarkup,h=1===this.stack.length,p="<"+t.type;t:if(-1===a.indexOf("-"))c="string"===typeof l.is;else switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":c=!1;break t;default:c=!0}for(b in l)if(bt.call(l,b)){var d=l[b];if(null!=d){if("style"===b){var f=void 0,g="",m="";for(f in d)if(d.hasOwnProperty(f)){var y=0===f.indexOf("--"),v=d[f];if(null!=v){if(y)var C=f;else if(C=f,xt.hasOwnProperty(C))C=xt[C];else{var x=C.replace(dt,"-$1").toLowerCase().replace(ft,"-ms-");C=xt[C]=x}g+=m+C+":",m=f,g+=y=null==v||"boolean"===typeof v||""===v?"":y||"number"!==typeof v||0===v||pt.hasOwnProperty(m)&&pt[m]?(""+v).trim():v+"px",m=";"}}d=g||null}f=null,c?wt.hasOwnProperty(b)||(f=k(f=b)&&null!=d?f+'="'+B(d)+'"':""):f=W(b,d),f&&(p+=" "+f)}}u||h&&(p+=' data-reactroot=""');var b=p;l="",ut.hasOwnProperty(a)?b+="/>":(b+=">",l="</"+t.type+">");t:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break t}}else if("string"===typeof(u=s.children)||"number"===typeof u){u=B(u);break t}u=null}return null!=u?(s=[],yt.hasOwnProperty(a)&&"\n"===u.charAt(0)&&(b+="\n"),b+=u):s=gt(s.children),t=t.type,i=null==i||"http://www.w3.org/1999/xhtml"===i?lt(t):"http://www.w3.org/2000/svg"===i&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:a,children:s,childIndex:0,context:e,footer:l}),this.previousWasTextNode=!1,b},t}();e.renderToNodeStream=function(){throw Error(r(207))},e.renderToStaticMarkup=function(t,e){t=new St(t,!0,e);try{return t.read(1/0)}finally{t.destroy()}},e.renderToStaticNodeStream=function(){throw Error(r(208))},e.renderToString=function(t,e){t=new St(t,!1,e);try{return t.read(1/0)}finally{t.destroy()}},e.version="17.0.1"},function(t,e,i){},function(t,e,i){},,function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case p:case c:case a:case l:case s:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case y:case m:case u:return t;default:return e}}case r:return e}}}function E(t){return w(t)===c}e.AsyncMode=p,e.ConcurrentMode=c,e.ContextConsumer=h,e.ContextProvider=u,e.Element=o,e.ForwardRef=d,e.Fragment=a,e.Lazy=y,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return E(t)||w(t)===p},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===h},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===c||t===l||t===s||t===f||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===u||t.$$typeof===h||t.$$typeof===d||t.$$typeof===C||t.$$typeof===x||t.$$typeof===b||t.$$typeof===v)},e.typeOf=w},,,,function(t,e,i){"use strict";i.d(e,"c",(function(){return kn})),i.d(e,"g",(function(){return Fn})),i.d(e,"b",(function(){return Vn})),i.d(e,"e",(function(){return jn})),i.d(e,"f",(function(){return Un})),i.d(e,"d",(function(){return Xn})),i.d(e,"a",(function(){return qn}));var n={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function o(t){return"number"===typeof t}function r(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function a(t){return t&&"object"===typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function s(t){return t&&"object"===typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function l(t){return t&&!0===t.constructor.prototype.isUnit||!1}function u(t){return"string"===typeof t}var h=Array.isArray;function p(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function c(t){return Array.isArray(t)||p(t)}function d(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function f(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function g(t){return t&&!0===t.constructor.prototype.isRange||!1}function m(t){return t&&!0===t.constructor.prototype.isIndex||!1}function y(t){return"boolean"===typeof t}function v(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function C(t){return t&&!0===t.constructor.prototype.isHelp||!1}function x(t){return"function"===typeof t}function b(t){return t instanceof Date}function w(t){return t instanceof RegExp}function E(t){return!(!t||"object"!==typeof t||t.constructor!==Object||a(t)||s(t))}function P(t){return null===t}function S(t){return void 0===t}function T(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function _(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function M(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function O(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function A(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function N(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function W(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function G(t){return t&&!0===t.constructor.prototype.isChain||!1}function H(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":r(t)?"BigNumber":a(t)?"Complex":s(t)?"Fraction":p(t)?"Matrix":l(t)?"Unit":m(t)?"Index":g(t)?"Range":v(t)?"ResultSet":I(t)?t.type:G(t)?"Chain":C(t)?"Help":"Object":"function"===e?"Function":e}function z(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"===typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return z(t)}));if(t instanceof Date)return new Date(t.valueOf());if(r(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return j(t,z)}function j(t,e){var i={};for(var n in t)Y(t,n)&&(i[n]=e(t[n]));return i}function U(t,e){var i,n,o;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(n=0,o=t.length;n<o;n++)if(!U(t[n],e[n]))return!1;return!0}if("function"===typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(i in t)if(!(i in e)||!U(t[i],e[i]))return!1;for(i in e)if(!(i in t)||!U(t[i],e[i]))return!1;return!0}return t===e}function Y(t,e){return t&&Object.hasOwnProperty.call(t,e)}var X=["Matrix","Array"],q=["number","BigNumber","Fraction"];function K(){return(K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var Q=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(n)};function $(t){return"boolean"===typeof t||!!isFinite(t)&&t===Math.round(t)}K(Q,n,{MATRIX_OPTIONS:X,NUMBER_OPTIONS:q});var J=Math.sign||function(t){return t>0?1:t<0?-1:0},Z=Math.log2||function(t){return Math.log(t)/Math.LN2},tt=Math.log10||function(t){return Math.log(t)/Math.LN10},et=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,i=t<0;return i&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,i?-e:e}),it=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function nt(t,e){if("function"===typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var i,n="auto";switch(e&&(e.notation&&(n=e.notation),o(e)?i=e:o(e.precision)&&(i=e.precision)),n){case"fixed":return rt(t,i);case"exponential":return at(t,i);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var i=st(ot(t),e),n=i.exponent,r=i.coefficients,a=n%3===0?n:n<0?n-3-n%3:n-n%3;if(o(e))for(;e>r.length||n-a+1>r.length;)r.push(0);else for(var s=Math.abs(n-a)-(r.length-1),l=0;l<s;l++)r.push(0);var u=Math.abs(n-a),h=1;for(;u>0;)h++,u--;var p=r.slice(h).join(""),c=o(e)&&p.length||p.match(/[1-9]/)?"."+p:"",d=r.slice(0,h).join("")+c+"e"+(n>=0?"+":"")+a.toString();return i.sign+d}(t,i);case"auto":return function(t,e,i){if(isNaN(t)||!isFinite(t))return String(t);var n=i&&void 0!==i.lowerExp?i.lowerExp:-3,o=i&&void 0!==i.upperExp?i.upperExp:5,r=ot(t),a=e?st(r,e):r;if(a.exponent<n||a.exponent>=o)return at(t,e);var s=a.coefficients,l=a.exponent;s.length<e&&(s=s.concat(lt(e-s.length))),s=s.concat(lt(l-s.length+1+(s.length<e?e-s.length:0)));var u=l>0?l:0;return u<(s=lt(-l).concat(s)).length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}(t,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function ot(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var i=e[1],n=e[2],o=parseFloat(e[4]||"0"),r=n.indexOf(".");o+=-1!==r?r-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return o-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),o++),{sign:i,coefficients:a,exponent:o}}function rt(t,e){if(isNaN(t)||!isFinite(t))return String(t);var i=ot(t),n="number"===typeof e?st(i,i.exponent+1+e):i,o=n.coefficients,r=n.exponent+1,a=r+(e||0);return o.length<a&&(o=o.concat(lt(a-o.length))),r<0&&(o=lt(1-r).concat(o),r=1),r<o.length&&o.splice(r,0,0===r?"0.":"."),n.sign+o.join("")}function at(t,e){if(isNaN(t)||!isFinite(t))return String(t);var i=ot(t),n=e?st(i,e):i,o=n.coefficients,r=n.exponent;o.length<e&&(o=o.concat(lt(e-o.length)));var a=o.shift();return n.sign+a+(o.length>0?"."+o.join(""):"")+"e"+(r>=0?"+":"")+r}function st(t,e){for(var i={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=i.coefficients;e<=0;)n.unshift(0),i.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var o=e-1;for(n[o]++;10===n[o];)n.pop(),0===o&&(n.unshift(0),i.exponent++,o++),n[--o]++}return i}function lt(t){for(var e=[],i=0;i<t;i++)e.push(0);return e}var ut=Number.EPSILON||2220446049250313e-31;function ht(t,e,i){if(null===i||void 0===i)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<ut||n<=Math.max(Math.abs(t),Math.abs(e))*i}return!1}var pt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},ct=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},dt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},ft=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function gt(t,e){if("function"===typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var i,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"===typeof e?i=e:e.precision&&(i=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,i);case"exponential":return mt(t,i);case"engineering":return function(t,e){var i=t.e,n=i%3===0?i:i<0?i-3-i%3:i-i%3,o=t.mul(Math.pow(10,-n)),r=o.toPrecision(e);-1!==r.indexOf("e")&&(r=o.toString());return r+"e"+(i>=0?"+":"")+n.toString()}(t,i);case"auto":var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,r=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var a=t.toSignificantDigits(i),s=a.e;return(s>=o&&s<r?a.toFixed():mt(t,i)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function mt(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function yt(t,e){return"number"===typeof t?nt(t,e):r(t)?gt(t,e):function(t){return t&&"object"===typeof t&&"number"===typeof t.s&&"number"===typeof t.n&&"number"===typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?vt(t,e):u(t)?'"'+t+'"':"function"===typeof t?t.syntax?String(t.syntax):"function":t&&"object"===typeof t?"function"===typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(i){return'"'+i+'": '+yt(t[i],e)})).join(", ")+"}":String(t)}function vt(t,e){if(Array.isArray(t)){for(var i="[",n=t.length,o=0;o<n;o++)0!==o&&(i+=", "),i+=vt(t[o],e);return i+="]"}return yt(t,e)}function Ct(t,e,i){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=i,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function xt(t,e,i){if(!(this instanceof xt))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=i),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function bt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function wt(t,e,i){var n,o=t.length;if(o!==e[i])throw new Ct(o,e[i]);if(i<e.length-1){var r=i+1;for(n=0;n<o;n++){var a=t[n];if(!Array.isArray(a))throw new Ct(e.length-1,e.length,"<");wt(t[n],e,r)}}else for(n=0;n<o;n++)if(Array.isArray(t[n]))throw new Ct(e.length+1,e.length,">")}function Et(t,e){if(0===e.length){if(Array.isArray(t))throw new Ct(t.length,0)}else wt(t,e,0)}function Pt(t,e){if(!o(t)||!$(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"===typeof e&&t>=e)throw new xt(t,e)}function St(t,e,i){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!o(t)||!$(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+yt(e)+")")})),Tt(t,e,0,void 0!==i?i:0),t}function Tt(t,e,i,n){var o,r,a=t.length,s=e[i],l=Math.min(a,s);if(t.length=s,i<e.length-1){var u=i+1;for(o=0;o<l;o++)r=t[o],Array.isArray(r)||(r=[r],t[o]=r),Tt(r,e,u,n);for(o=l;o<s;o++)r=[],t[o]=r,Tt(r,e,u,n)}else{for(o=0;o<l;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=l;o<s;o++)t[o]=n}}function _t(t,e){var i,n=Ot(t);function o(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Ct(0,o(bt(t)),"!=");for(var r=1,a=0;a<e.length;a++)r*=e[a];if(n.length!==r)throw new Ct(o(e),o(bt(t)),"!=");try{i=function(t,e){for(var i,n=t,o=e.length-1;o>0;o--){var r=e[o];i=[];for(var a=n.length/r,s=0;s<a;s++)i.push(n.slice(s*r,(s+1)*r));n=i}return n}(n,e)}catch(s){if(s instanceof Ct)throw new Ct(o(e),o(bt(t)),"!=");throw s}return i}function Mt(t,e,i,n){var o=n||bt(t);if(i)for(var r=0;r<i;r++)t=[t],o.unshift(1);for(t=Rt(t,e,0);o.length<e;)o.push(1);return t}function Rt(t,e,i){var n,o;if(Array.isArray(t)){var r=i+1;for(n=0,o=t.length;n<o;n++)t[n]=Rt(t[n],e,r)}else for(var a=i;a<e;a++)t=[t];return t}function Ot(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(i){Array.isArray(i)?i.forEach(t):e.push(i)})),e}function At(t,e){for(var i,n=0,o=0;o<t.length;o++){var r=t[o],a=Array.isArray(r);if(0===o&&a&&(n=r.length),a&&r.length!==n)return;var s=a?At(r,e):e(r);if(void 0===i)i=s;else if(i!==s)return"mixed"}return i}function Dt(t,e,i,n){function o(n){var o=function(t,e){for(var i={},n=0;n<e.length;n++){var o=e[n],r=t[o];void 0!==r&&(i[o]=r)}return i}(n,e.map(kt));return function(t,e,i){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==i[t]}))){var n=e.filter((function(t){return void 0===i[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,n),i(o)}return o.isFactory=!0,o.fn=t,o.dependencies=e.slice().sort(),n&&(o.meta=n),o}function kt(t){return t&&"?"===t[0]?t.slice(1):t}Ct.prototype=new RangeError,Ct.prototype.constructor=RangeError,Ct.prototype.name="DimensionError",Ct.prototype.isDimensionError=!0,xt.prototype=new RangeError,xt.prototype.constructor=RangeError,xt.prototype.name="IndexError",xt.prototype.isIndexError=!0;var Ft=i(5),It=i.n(Ft),Lt=Dt("Complex",[],(function(){return It.a.prototype.type="Complex",It.a.prototype.isComplex=!0,It.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},It.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},It.a.prototype.format=function(t){var e=this.im,i=this.re,n=nt(this.re,t),r=nt(this.im,t),a=o(t)?t:t?t.precision:null;if(null!==a){var s=Math.pow(10,-a);Math.abs(i/e)<s&&(i=0),Math.abs(e/i)<s&&(e=0)}return 0===e?n:0===i?1===e?"i":-1===e?"-i":r+"i":e<0?-1===e?n+" - i":n+" - "+r.substring(1)+"i":1===e?n+" + i":n+" + "+r+"i"},It.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===typeof e)return It()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var i=arguments[0],n=arguments[1];if(o(i)){if(l(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),o(n))return new It.a({r:i,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},It.a.prototype.valueOf=It.a.prototype.toString,It.a.fromJSON=function(t){return new It.a(t)},It.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},It.a}),{isClass:!0});function Nt(t,e){return function i(){"object"!==typeof i.cache&&(i.cache={});for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e?e(n):JSON.stringify(n);return r in i.cache||(i.cache[r]=t.apply(t,n)),i.cache[r]}}Nt((function(t){return new t(1).exp()}),Bt),Nt((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),Bt);var Vt=Nt((function(t){return t.acos(-1)}),Bt);Nt((function(t){return Vt(t).times(2)}),Bt);function Bt(t){return t[0].precision}Math.PI,Math.PI,Math.E;var Wt=i(22),Gt=i.n(Wt),Ht=Dt("BigNumber",["?on","config"],(function(t){var e=t.on,i=t.config,n=Gt.a.clone({precision:i.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision})})),n}),{isClass:!0}),zt=Dt("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,i){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,i){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});jt("fineStructure",.0072973525693),jt("weakMixingAngle",.2229),jt("efimovFactor",22.7),jt("sackurTetrode",-1.16487052358);function jt(t,e){return Dt(t,["config","BigNumber"],(function(t){var i=t.config,n=t.BigNumber;return"BigNumber"===i.number?new n(e):e}))}var Ut=i(17),Yt=i.n(Ut),Xt=Dt("Fraction",[],(function(){return Yt.a.prototype.type="Fraction",Yt.a.prototype.isFraction=!0,Yt.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Yt.a.fromJSON=function(t){return new Yt.a(t)},Yt.a}),{isClass:!0}),qt=Dt("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(p(t))"DenseMatrix"===t.type?(this._data=z(t._data),this._size=z(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&h(t.data)&&h(t.size))this._data=t.data,this._size=t.size,Et(this._data,this._size),this._datatype=e||t.datatype;else if(h(t))this._data=g(t),this._size=bt(this._data),Et(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+H(t)+")");this._data=[],this._size=[0],this._datatype=e}}function n(t,e){if(!m(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new Ct(n.length,t._size.length);for(var o=e.min(),r=e.max(),s=0,l=t._size.length;s<l;s++)Pt(o[s],t._size[s]),Pt(r[s],t._size[s]);return new i(a(t._data,e,n.length,0),t._datatype)}function a(t,e,i,n){var o=n===i-1,r=e.dimension(n);return o?r.map((function(e){return Pt(e,t.length),t[e]})).valueOf():r.map((function(o){return Pt(o,t.length),a(t[o],e,i,n+1)})).valueOf()}function s(t,e,i,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,r=e.size(),a=e.isScalar();if(p(i)?(o=i.size(),i=i.valueOf()):o=bt(i),a){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),i,n)}else{if(r.length<t._size.length)throw new Ct(r.length,t._size.length,"<");if(o.length<r.length){for(var s=0,u=0;1===r[s]&&1===o[s];)s++;for(;1===r[s];)u++,s++;i=Mt(i,r.length,u,o)}if(!U(r,o))throw new Ct(r,o,">");f(t,e.max().map((function(t){return t+1})),n);var h=r.length;l(t._data,e,i,h,0)}return t}function l(t,e,i,n,o){var r=o===n-1,a=e.dimension(o);r?a.forEach((function(e,n){Pt(e),t[e]=i[n[0]]})):a.forEach((function(r,a){Pt(r),l(t[r],e,i[a[0]],n,o+1)}))}function d(t,e,i){if(0===e.length){for(var n=t._data;h(n);)n=n[0];return n}return t._size=e.slice(0),t._data=St(t._data,t._size,i),t}function f(t,e,i){for(var n=t._size.slice(0),o=!1;n.length<e.length;)n.push(0),o=!0;for(var r=0,a=e.length;r<a;r++)e[r]>n[r]&&(n[r]=e[r],o=!0);o&&d(t,n,i)}function g(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];h(n)?t[e]=g(n):n&&!0===n.isMatrix&&(t[e]=g(n.valueOf()))}return t}return i.prototype=new e,i.prototype.createDenseMatrix=function(t,e){return new i(t,e)},i.prototype.type="DenseMatrix",i.prototype.isDenseMatrix=!0,i.prototype.getDataType=function(){return At(this._data,H)},i.prototype.storage=function(){return"dense"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.subset=function(t,e,i){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,i);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!h(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ct(t.length,this._size.length);for(var e=0;e<t.length;e++)Pt(t[e],this._size[e]);for(var i=this._data,n=0,o=t.length;n<o;n++){var r=t[n];Pt(r,i.length),i=i[r]}return i},i.prototype.set=function(t,e,i){if(!h(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Ct(t.length,this._size.length,"<");var n,o,r;f(this,t.map((function(t){return t+1})),i);var a=this._data;for(n=0,o=t.length-1;n<o;n++)Pt(r=t[n],a.length),a=a[r];return Pt(r=t[t.length-1],a.length),a[r]=e,this},i.prototype.resize=function(t,e,i){if(!c(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));return d(i?this.clone():this,n,e)},i.prototype.reshape=function(t,e){var i=e?this.clone():this;return i._data=_t(i._data,t),i._size=t.slice(0),i},i.prototype.clone=function(){return new i({data:z(this._data),size:z(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t){var e=this,n=function i(n,o){return h(n)?n.map((function(t,e){return i(t,o.concat(e))})):t(n,o,e)}(this._data,[]);return new i(n,void 0!==this._datatype?At(n,H):void 0)},i.prototype.forEach=function(t){var e=this;!function i(n,o){h(n)?n.forEach((function(t,e){i(t,o.concat(e))})):t(n,o,e)}(this._data,[])},i.prototype.toArray=function(){return z(this._data)},i.prototype.valueOf=function(){return this._data},i.prototype.format=function(t){return yt(this._data,t)},i.prototype.toString=function(){return yt(this._data)},i.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(r(t)&&(t=t.toNumber()),!o(t)||!$(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,a=this._size[0],s=this._size[1],l=Math.min(a-n,s-e),u=[],h=0;h<l;h++)u[h]=this._data[h+n][h+e];return new i({data:u,size:[l],datatype:this._datatype})},i.diagonal=function(t,e,n,a){if(!h(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(r(t)&&(t=t.toNumber()),!o(t)||!$(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(r(n)&&(n=n.toNumber()),!o(n)||!$(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,l=n>0?n:0,u=n<0?-n:0,c=t[0],d=t[1],f=Math.min(c-u,d-l);if(h(e)){if(e.length!==f)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(p(e)){var g=e.size();if(1!==g.length||g[0]!==f)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};a||(a=r(s(0))?s(0).mul(0):0);var m=[];if(t.length>0){m=St(m,t,a);for(var y=0;y<f;y++)m[y+u][y+l]=s(y)}return new i({data:m,size:[c,d]})},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(t,e){if(!o(t)||!$(t)||!o(e)||!$(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Pt(t,this._size[0]),Pt(e,this._size[0]),i._swapRows(t,e,this._data),this},i._swapRows=function(t,e,i){var n=i[t];i[t]=i[e],i[e]=n},i}),{isClass:!0}),Kt=i(28),Qt=i.n(Kt),$t=function(){return $t=Qt.a.create,Qt.a},Jt=Dt("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,i=t.Complex,n=t.DenseMatrix,c=t.Fraction,H=$t();return H.types=[{name:"number",test:o},{name:"Complex",test:a},{name:"BigNumber",test:r},{name:"Fraction",test:s},{name:"Unit",test:l},{name:"string",test:u},{name:"Chain",test:G},{name:"Array",test:h},{name:"Matrix",test:p},{name:"DenseMatrix",test:d},{name:"SparseMatrix",test:f},{name:"Range",test:g},{name:"Index",test:m},{name:"boolean",test:y},{name:"ResultSet",test:v},{name:"Help",test:C},{name:"function",test:x},{name:"Date",test:b},{name:"RegExp",test:w},{name:"null",test:P},{name:"undefined",test:S},{name:"AccessorNode",test:T},{name:"ArrayNode",test:_},{name:"AssignmentNode",test:M},{name:"BlockNode",test:R},{name:"ConditionalNode",test:O},{name:"ConstantNode",test:A},{name:"FunctionNode",test:k},{name:"FunctionAssignmentNode",test:D},{name:"IndexNode",test:F},{name:"Node",test:I},{name:"ObjectNode",test:L},{name:"OperatorNode",test:N},{name:"ParenthesisNode",test:V},{name:"RangeNode",test:B},{name:"SymbolNode",test:W},{name:"Object",test:E}],H.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||Zt(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return i||te(t),new i(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return i||te(t),new i(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return i||te(t),new i(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){c||ee(t);var e=new c(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Zt(t);try{return new e(t)}catch(i){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){c||ee(t);try{return new c(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){i||te(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Zt(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return c||ee(t),new c(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],H}));function Zt(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function te(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ee(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}function ie(t){for(var e=0;e<t.length;e++)if(c(t[e]))return!0;return!1}function ne(t,e){p(t)&&(t=t.valueOf());for(var i=0,n=t.length;i<n;i++){var o=t[i];Array.isArray(o)?ne(o,e):e(o)}}function oe(t,e,i){return t&&"function"===typeof t.map?t.map((function(t){return oe(t,e,i)})):e(t)}function re(t,e,i){var n=Array.isArray(t)?bt(t):t.size();if(e<0||e>=n.length)throw new xt(e,n.length);return p(t)?t.create(ae(t.valueOf(),e,i)):ae(t,e,i)}function ae(t,e,i){var n,o,r,a;if(e<=0){if(Array.isArray(t[0])){for(a=function(t){var e,i,n=t.length,o=t[0].length,r=[];for(i=0;i<o;i++){var a=[];for(e=0;e<n;e++)a.push(t[e][i]);r.push(a)}return r}(t),o=[],n=0;n<a.length;n++)o[n]=ae(a[n],e-1,i);return o}for(r=t[0],n=1;n<t.length;n++)r=i(r,t[n]);return r}for(o=[],n=0;n<t.length;n++)o[n]=ae(t[n],e-1,i);return o}var se="number";function le(t){return t<0}function ue(t){return t>0}function he(t){return 0===t}function pe(t){return Number.isNaN(t)}le.signature=se,ue.signature=se,he.signature=se,pe.signature=se;function ce(t,e,i){if(null===i||void 0===i)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return n.lte(o.times(i))}return!1}var de="equalScalar",fe=Dt(de,["typed","config"],(function(t){var e=t.typed,i=t.config;return e(de,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return ht(t,e,i.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||ce(t,e,i.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,i){return ht(t.re,e.re,i)&&ht(t.im,e.im,i)}(t,e,i.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})})),ge=(Dt(de,["typed","config"],(function(t){var e=t.typed,i=t.config;return e(de,{"number, number":function(t,e){return ht(t,e,i.epsilon)}})})),Dt("number",["typed"],(function(t){var e=(0,t.typed)("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1))}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return oe(t,this)}});return e.fromJSON=function(t){return parseFloat(t.value)},e}))),me="number",ye="number, number";function ve(t){return Math.abs(t)}function Ce(t,e){return t+e}function xe(t,e){return t*e}function be(t){return-t}function we(t){return t}function Ee(t){return et(t)}function Pe(t){return Math.ceil(t)}function Se(t){return t*t*t}function Te(t){return Math.exp(t)}function _e(t){return it(t)}function Me(t,e){if(!$(t)||!$(e))throw new Error("Parameters in function gcd must be integer numbers");for(var i;0!==e;)i=t%e,t=e,e=i;return t<0?-t:t}function Re(t,e){if(!$(t)||!$(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var i,n=t*e;0!==e;)e=t%(i=e),t=i;return Math.abs(n/t)}function Oe(t){return Math.log(t)}function Ae(t){return tt(t)}function De(t){return Z(t)}function ke(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Fe(t,e){var i=e<0;if(i&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===t)return i?1/0:0;if(!isFinite(t))return i?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,i?1/n:n}function Ie(t){return J(t)}function Le(t){return t*t}function Ne(t,e){var i,n,o,r=0,a=1,s=1,l=0;if(!$(t)||!$(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)o=t-(n=Math.floor(t/e))*e,i=r,r=a-n*r,a=i,i=s,s=l-n*s,l=i,t=e,e=o;return t<0?[-t,-a,-l]:[t,t?a:0,l]}function Ve(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(rt(t,e))}ve.signature=me,Ce.signature=ye,xe.signature=ye,be.signature=me,we.signature=me,Ee.signature=me,Pe.signature=me,Se.signature=me,Te.signature=me,_e.signature=me,Me.signature=ye,Re.signature=ye,Oe.signature=me,Ae.signature=me,De.signature=me,ke.signature=ye,Fe.signature=ye,Ie.signature=me,Le.signature=me,Ne.signature=ye,Ve.signature=ye,Be.signature=ye;var We="number, number";function Ge(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function bitAnd");return t&e}function He(t){if(!$(t))throw new Error("Integer expected in function bitNot");return~t}function ze(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function bitOr");return t|e}function je(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function bitXor");return t^e}function Ue(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function leftShift");return t<<e}function Ye(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function Xe(t,e){if(!$(t)||!$(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Ge.signature=We,He.signature="number",ze.signature=We,je.signature=We,Ue.signature=We,Ye.signature=We,Xe.signature=We;var qe="number, number";function Ke(t){return!t}function Qe(t,e){return!(!t&&!e)}function $e(t,e){return!!t!==!!e}function Je(t,e){return!(!t||!e)}Ke.signature="number",Qe.signature=qe,$e.signature=qe,Je.signature=qe;Math.pow(2,53);function Ze(t){var e={2:"0b",8:"0o",16:"0x"}[t];return function(i){if(i>Math.pow(2,31)-1||i<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!$(i))throw new Error("Value must be an integer");return i<0&&(i+=Math.pow(2,32)),"".concat(e).concat(i.toString(t))}}var ti=["typed"];function ei(t,e){return Dt(t,ti,(function(i){return(0,i.typed)(t,{number:Ze(e)})}))}ei("oct",8);var ii="number";function ni(t){return pt(t)}function oi(t){return Math.atan(1/t)}function ri(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function ai(t){return Math.asin(1/t)}function si(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function li(t){return Math.acos(1/t)}function ui(t){var e=1/t,i=Math.sqrt(e*e-1);return Math.log(i+e)}function hi(t){return ct(t)}function pi(t){return dt(t)}function ci(t){return 1/Math.tan(t)}function di(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function fi(t){return 1/Math.sin(t)}function gi(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*J(t)}function mi(t){return 1/Math.cos(t)}function yi(t){return 2/(Math.exp(t)+Math.exp(-t))}function vi(t){return ft(t)}ni.signature=ii,oi.signature=ii,ri.signature=ii,ai.signature=ii,si.signature=ii,li.signature=ii,ui.signature=ii,hi.signature=ii,pi.signature=ii,ci.signature=ii,di.signature=ii,fi.signature=ii,gi.signature=ii,mi.signature=ii,yi.signature=ii,vi.signature=ii;function Ci(t,e){if(e<t)return 1;if(e===t)return e;var i=e+t>>1;return Ci(t,i)*Ci(i+1,e)}function xi(t,e){if(!$(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!$(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var i=t-e;return e<i?Ci(i+1,t)/Ci(1,e):Ci(e+1,t)/Ci(1,i)}xi.signature="number, number";var bi=i(29),wi=i.n(bi);Date.now();var Ei=Dt("fraction",["typed","Fraction"],(function(t){var e=t.typed,i=t.Fraction;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new i(t)},string:function(t){return new i(t)},"number, number":function(t,e){return new i(t,e)},null:function(t){return new i(0)},BigNumber:function(t){return new i(t.toString())},Fraction:function(t){return t},Object:function(t){return new i(t)},"Array | Matrix":function(t){return oe(t,this)}})})),Pi="unaryMinus",Si=Dt(Pi,["typed"],(function(t){return(0,t.typed)(Pi,{number:be,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return oe(t,this,!0)}})})),Ti="addScalar",_i=Dt(Ti,["typed"],(function(t){return(0,t.typed)(Ti,{"number, number":Ce,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var i=t.clone();return i.value=this(i.value,e.value),i.fixPrefix=!1,i}})}));ei("bin",2);var Mi=Dt("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,i=t.equalScalar,n=t.Matrix;function a(t,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(p(t))!function(t,e,i){"SparseMatrix"===e.type?(t._values=e._values?z(e._values):void 0,t._index=z(e._index),t._ptr=z(e._ptr),t._size=z(e._size),t._datatype=i||e._datatype):s(t,e.valueOf(),i||e._datatype)}(this,t,e);else if(t&&h(t.index)&&h(t.ptr)&&h(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(h(t))s(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+H(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function s(t,n,o){t._values=[],t._index=[],t._ptr=[],t._datatype=o;var r=n.length,a=0,s=i,l=0;if(u(o)&&(s=e.find(i,[o,o])||i,l=e.convert(0,o)),r>0){var p=0;do{t._ptr.push(t._index.length);for(var c=0;c<r;c++){var d=n[c];if(h(d)){if(0===p&&a<d.length&&(a=d.length),p<d.length){var f=d[p];s(f,l)||(t._values.push(f),t._index.push(c))}}else 0===p&&a<1&&(a=1),s(d,l)||(t._values.push(d),t._index.push(c))}p++}while(p<a)}t._ptr.push(t._index.length),t._size=[r,a]}function l(t,e){if(!m(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var i,n,o,r,s=e.size();if(s.length!==t._size.length)throw new Ct(s.length,t._size.length);var l=e.min(),u=e.max();for(i=0,n=t._size.length;i<n;i++)Pt(l[i],t._size[i]),Pt(u[i],t._size[i]);var h=t._values,p=t._index,c=t._ptr,d=e.dimension(0),f=e.dimension(1),g=[],y=[];d.forEach((function(t,e){y[t]=e[0],g[t]=!0}));var v=h?[]:void 0,C=[],x=[];return f.forEach((function(t){for(x.push(C.length),o=c[t],r=c[t+1];o<r;o++)i=p[o],!0===g[i]&&(C.push(y[i]),v&&v.push(h[o]))})),x.push(C.length),new a({values:v,index:C,ptr:x,size:s,datatype:t._datatype})}function d(t,e,i,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,r=e.size(),a=e.isScalar();if(p(i)?(o=i.size(),i=i.toArray()):o=bt(i),a){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),i,n)}else{if(1!==r.length&&2!==r.length)throw new Ct(r.length,t._size.length,"<");if(o.length<r.length){for(var s=0,l=0;1===r[s]&&1===o[s];)s++;for(;1===r[s];)l++,s++;i=Mt(i,r.length,l,o)}if(!U(r,o))throw new Ct(r,o,">");for(var u=e.min()[0],h=e.min()[1],c=o[0],d=o[1],f=0;f<c;f++)for(var g=0;g<d;g++){var m=i[f][g];t.set([f+u,g+h],m,n)}}return t}function f(t,e,i,n){if(i-e===0)return i;for(var o=e;o<i;o++)if(n[o]===t)return o;return e}function g(t,e,i,n,o,r,a){o.splice(t,0,n),r.splice(t,0,e);for(var s=i+1;s<a.length;s++)a[s]++}function y(t,n,o,r){var a=r||0,s=i,l=0;u(t._datatype)&&(s=e.find(i,[t._datatype,t._datatype])||i,l=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,p,c,d=!s(a,l),f=t._size[0],g=t._size[1];if(o>g){for(p=g;p<o;p++)if(t._ptr[p]=t._values.length,d)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[o]=t._values.length}else o<g&&(t._ptr.splice(o+1,g-o),t._values.splice(t._ptr[o],t._values.length),t._index.splice(t._ptr[o],t._index.length));if(g=o,n>f){if(d){var m=0;for(p=0;p<g;p++){t._ptr[p]=t._ptr[p]+m,c=t._ptr[p+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(c+y,0,a),t._index.splice(c+y,0,h),m++}t._ptr[g]=t._values.length}}else if(n<f){var v=0;for(p=0;p<g;p++){t._ptr[p]=t._ptr[p]-v;var C=t._ptr[p],x=t._ptr[p+1]-v;for(c=C;c<x;c++)(h=t._index[c])>n-1&&(t._values.splice(c,1),t._index.splice(c,1),v++)}t._ptr[p]=t._values.length}return t._size[0]=n,t._size[1]=o,t}function v(t,e,i,n,o){var r,a,s=n[0],l=n[1],u=[];for(r=0;r<s;r++)for(u[r]=[],a=0;a<l;a++)u[r][a]=0;for(a=0;a<l;a++)for(var h=i[a],p=i[a+1],c=h;c<p;c++)u[r=e[c]][a]=t?o?z(t[c]):t[c]:1;return u}return a.prototype=new n,a.prototype.createSparseMatrix=function(t,e){return new a(t,e)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return At(this._values,H)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(t,e){return new a(t,e)},a.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},a.prototype.subset=function(t,e,i){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,t);case 2:case 3:return d(this,t,e,i);default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.get=function(t){if(!h(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ct(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],i=t[1];Pt(e,this._size[0]),Pt(i,this._size[1]);var n=f(e,this._ptr[i],this._ptr[i+1],this._index);return n<this._ptr[i+1]&&this._index[n]===e?this._values[n]:0},a.prototype.set=function(t,n,o){if(!h(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Ct(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],a=t[1],s=this._size[0],l=this._size[1],p=i,c=0;u(this._datatype)&&(p=e.find(i,[this._datatype,this._datatype])||i,c=e.convert(0,this._datatype)),(r>s-1||a>l-1)&&(y(this,Math.max(r+1,s),Math.max(a+1,l),o),s=this._size[0],l=this._size[1]),Pt(r,s),Pt(a,l);var d=f(r,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===r?p(n,c)?function(t,e,i,n,o){i.splice(t,1),n.splice(t,1);for(var r=e+1;r<o.length;r++)o[r]--}(d,a,this._values,this._index,this._ptr):this._values[d]=n:g(d,r,a,n,this._values,this._index,this._ptr),this},a.prototype.resize=function(t,e,i){if(!c(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!o(t)||!$(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+yt(n)+")")})),y(i?this.clone():this,n[0],n[1],e)},a.prototype.reshape=function(t,e){if(!h(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!o(e)||!$(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+yt(t)+")")})),this._size[0]*this._size[1]!==t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var i=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return i;for(var n=[],r=0;r<i._ptr.length;r++)for(var a=0;a<i._ptr[r+1]-i._ptr[r];a++)n.push(r);for(var s=i._values.slice(),l=i._index.slice(),u=0;u<i._index.length;u++){var p=l[u],c=n[u],d=p*i._size[1]+c;n[u]=d%t[1],l[u]=Math.floor(d/t[1])}i._values.length=0,i._index.length=0,i._ptr.length=t[1]+1,i._size=t.slice();for(var m=0;m<i._ptr.length;m++)i._ptr[m]=0;for(var y=0;y<s.length;y++){var v=l[y],C=n[y],x=s[y];g(f(v,i._ptr[C],i._ptr[C+1],i._index),v,C,x,i._values,i._index,i._ptr)}return i},a.prototype.clone=function(){return new a({values:this._values?z(this._values):void 0,index:z(this._index),ptr:z(this._ptr),size:z(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(t,n,o,r,s,l,h){var p=[],c=[],d=[],f=i,g=0;u(t._datatype)&&(f=e.find(i,[t._datatype,t._datatype])||i,g=e.convert(0,t._datatype));for(var m=function(t,e,i){t=l(t,e,i),f(t,g)||(p.push(t),c.push(e))},y=r;y<=s;y++){d.push(p.length);var v=t._ptr[y],C=t._ptr[y+1];if(h)for(var x=v;x<C;x++){var b=t._index[x];b>=n&&b<=o&&m(t._values[x],b-n,y-r)}else{for(var w={},E=v;E<C;E++){w[t._index[E]]=t._values[E]}for(var P=n;P<=o;P++){m(P in w?w[P]:0,P-n,y-r)}}}return d.push(p.length),new a({values:p,index:c,ptr:d,size:[o-n+1,s-r+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,i,n){return t(e,[i,n],o)}),n)},a.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var i=this._size[0],n=this._size[1],o=0;o<n;o++){var r=this._ptr[o],a=this._ptr[o+1];if(e)for(var s=r;s<a;s++){var l=this._index[s];t(this._values[s],[l,o],this)}else{for(var u={},h=r;h<a;h++){u[this._index[h]]=this._values[h]}for(var p=0;p<i;p++){t(p in u?u[p]:0,[p,o],this)}}}},a.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(t){for(var e=this._size[0],i=this._size[1],n=this.density(),o="Sparse Matrix ["+yt(e,t)+" x "+yt(i,t)+"] density: "+yt(n,t)+"\n",r=0;r<i;r++)for(var a=this._ptr[r],s=this._ptr[r+1],l=a;l<s;l++){o+="\n    ("+yt(this._index[l],t)+", "+yt(r,t)+") ==> "+(this._values?yt(this._values[l],t):"X")}return o},a.prototype.toString=function(){return yt(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(t){if(t){if(r(t)&&(t=t.toNumber()),!o(t)||!$(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,i=t<0?-t:0,n=this._size[0],s=this._size[1],l=Math.min(n-i,s-e),u=[],h=[],p=[];p[0]=0;for(var c=e;c<s&&u.length<l;c++)for(var d=this._ptr[c],f=this._ptr[c+1],g=d;g<f;g++){var m=this._index[g];if(m===c-e+i){u.push(this._values[g]),h[u.length-1]=m-i;break}}return p.push(u.length),new a({values:u,index:h,ptr:p,size:[l,1]})},a.fromJSON=function(t){return new a(t)},a.diagonal=function(t,n,s,l,c){if(!h(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(r(t)&&(t=t.toNumber()),!o(t)||!$(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(r(s)&&(s=s.toNumber()),!o(s)||!$(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var d=i,f=0;u(c)&&(d=e.find(i,[c,c])||i,f=e.convert(0,c));var g,m=s>0?s:0,y=s<0?-s:0,v=t[0],C=t[1],x=Math.min(v-y,C-m);if(h(n)){if(n.length!==x)throw new Error("Invalid value array length");g=function(t){return n[t]}}else if(p(n)){var b=n.size();if(1!==b.length||b[0]!==x)throw new Error("Invalid matrix length");g=function(t){return n.get([t])}}else g=function(){return n};for(var w=[],E=[],P=[],S=0;S<C;S++){P.push(w.length);var T=S-m;if(T>=0&&T<x){var _=g(T);d(_,f)||(E.push(T+y),w.push(_))}}return P.push(w.length),new a({values:w,index:E,ptr:P,size:[v,C]})},a.prototype.swapRows=function(t,e){if(!o(t)||!$(t)||!o(e)||!$(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Pt(t,this._size[0]),Pt(e,this._size[0]),a._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(t,e,i,n,o){for(var r=n[t],a=n[t+1],s=r;s<a;s++)o(i[s],e[s])},a._swapRows=function(t,e,i,n,o,r){for(var a=0;a<i;a++){var s=r[a],l=r[a+1],u=f(t,s,l,o),h=f(e,s,l,o);if(u<l&&h<l&&o[u]===t&&o[h]===e){if(n){var p=n[u];n[u]=n[h],n[h]=p}}else if(u<l&&o[u]===t&&(h>=l||o[h]!==e)){var c=n?n[u]:void 0;o.splice(h,0,e),n&&n.splice(h,0,c),o.splice(h<=u?u+1:u,1),n&&n.splice(h<=u?u+1:u,1)}else if(h<l&&o[h]===e&&(u>=l||o[u]!==t)){var d=n?n[h]:void 0;o.splice(u,0,t),n&&n.splice(u,0,d),o.splice(u<=h?h+1:h,1),n&&n.splice(u<=h?h+1:h,1)}}},a}),{isClass:!0}),Ri="matrix",Oi=Dt(Ri,["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,i=(t.Matrix,t.DenseMatrix),n=t.SparseMatrix;return e(Ri,{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(t,e,o){if("dense"===e||"default"===e||void 0===e)return new i(t,o);if("sparse"===e)return new n(t,o);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Ai=Dt("algorithm01",["typed"],(function(t){var e=t.typed;return function(t,i,n,o){var r=t._data,a=t._size,s=t._datatype,l=i._values,u=i._index,h=i._ptr,p=i._size,c=i._datatype;if(a.length!==p.length)throw new Ct(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,f,g=a[0],m=a[1],y="string"===typeof s&&s===c?s:void 0,v=y?e.find(n,[y,y]):n,C=[];for(d=0;d<g;d++)C[d]=[];var x=[],b=[];for(f=0;f<m;f++){for(var w=f+1,E=h[f],P=h[f+1],S=E;S<P;S++)x[d=u[S]]=o?v(l[S],r[d][f]):v(r[d][f],l[S]),b[d]=w;for(d=0;d<g;d++)b[d]===w?C[d][f]=x[d]:C[d][f]=r[d][f]}return t.createDenseMatrix({data:C,size:[g,m],datatype:y})}})),Di=Dt("algorithm10",["typed","DenseMatrix"],(function(t){var e=t.typed,i=t.DenseMatrix;return function(t,n,o,r){var a=t._values,s=t._index,l=t._ptr,u=t._size,h=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,c=u[0],d=u[1],f=o;"string"===typeof h&&(p=h,n=e.convert(n,p),f=e.find(o,[p,p]));for(var g=[],m=[],y=[],v=0;v<d;v++){for(var C=v+1,x=l[v],b=l[v+1],w=x;w<b;w++){var E=s[w];m[E]=a[w],y[E]=C}for(var P=0;P<c;P++)0===v&&(g[P]=[]),y[P]===C?g[P][v]=r?f(n,m[P]):f(m[P],n):g[P][v]=n}return new i({data:g,size:[c,d],datatype:p})}})),ki=Dt("algorithm13",["typed"],(function(t){var e=t.typed;return function(t,n,o){var r,a=t._data,s=t._size,l=t._datatype,u=n._data,h=n._size,p=n._datatype,c=[];if(s.length!==h.length)throw new Ct(s.length,h.length);for(var d=0;d<s.length;d++){if(s[d]!==h[d])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");c[d]=s[d]}var f=o;"string"===typeof l&&l===p&&(r=l,f=e.find(o,[r,r]));var g=c.length>0?i(f,0,c,c[0],a,u):[];return t.createDenseMatrix({data:g,size:c,datatype:r})};function i(t,e,n,o,r,a){var s=[];if(e===n.length-1)for(var l=0;l<o;l++)s[l]=t(r[l],a[l]);else for(var u=0;u<o;u++)s[u]=i(t,e+1,n,n[e+1],r[u],a[u]);return s}})),Fi=Dt("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,n,o,r){var a,s=t._data,l=t._size,u=t._datatype,h=o;"string"===typeof u&&(a=u,n=e.convert(n,a),h=e.find(o,[a,a]));var p=l.length>0?i(h,0,l,l[0],s,n,r):[];return t.createDenseMatrix({data:p,size:z(l),datatype:a})};function i(t,e,n,o,r,a,s){var l=[];if(e===n.length-1)for(var u=0;u<o;u++)l[u]=s?t(a,r[u]):t(r[u],a);else for(var h=0;h<o;h++)l[h]=i(t,e+1,n,n[e+1],r[h],a,s);return l}})),Ii=Dt("algorithm03",["typed"],(function(t){var e=t.typed;return function(t,i,n,o){var r=t._data,a=t._size,s=t._datatype,l=i._values,u=i._index,h=i._ptr,p=i._size,c=i._datatype;if(a.length!==p.length)throw new Ct(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,f=a[0],g=a[1],m=0,y=n;"string"===typeof s&&s===c&&(d=s,m=e.convert(0,d),y=e.find(n,[d,d]));for(var v=[],C=0;C<f;C++)v[C]=[];for(var x=[],b=[],w=0;w<g;w++){for(var E=w+1,P=h[w],S=h[w+1],T=P;T<S;T++){var _=u[T];x[_]=o?y(l[T],r[_][w]):y(r[_][w],l[T]),b[_]=E}for(var M=0;M<f;M++)b[M]===E?v[M][w]=x[M]:v[M][w]=o?y(m,r[M][w]):y(r[M][w],m)}return t.createDenseMatrix({data:v,size:[f,g],datatype:d})}})),Li=Dt("algorithm05",["typed","equalScalar"],(function(t){var e=t.typed,i=t.equalScalar;return function(t,n,o){var r=t._values,a=t._index,s=t._ptr,l=t._size,u=t._datatype,h=n._values,p=n._index,c=n._ptr,d=n._size,f=n._datatype;if(l.length!==d.length)throw new Ct(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var g,m=l[0],y=l[1],v=i,C=0,x=o;"string"===typeof u&&u===f&&(g=u,v=e.find(i,[g,g]),C=e.convert(0,g),x=e.find(o,[g,g]));var b,w,E,P,S=r&&h?[]:void 0,T=[],_=[],M=S?[]:void 0,R=S?[]:void 0,O=[],A=[];for(w=0;w<y;w++){_[w]=T.length;var D=w+1;for(E=s[w],P=s[w+1];E<P;E++)b=a[E],T.push(b),O[b]=D,M&&(M[b]=r[E]);for(E=c[w],P=c[w+1];E<P;E++)O[b=p[E]]!==D&&T.push(b),A[b]=D,R&&(R[b]=h[E]);if(S)for(E=_[w];E<T.length;){var k=O[b=T[E]],F=A[b];if(k===D||F===D){var I=x(k===D?M[b]:C,F===D?R[b]:C);v(I,C)?T.splice(E,1):(S.push(I),E++)}}}return _[y]=T.length,t.createSparseMatrix({values:S,index:T,ptr:_,size:[m,y],datatype:g})}})),Ni=Dt("algorithm12",["typed","DenseMatrix"],(function(t){var e=t.typed,i=t.DenseMatrix;return function(t,n,o,r){var a=t._values,s=t._index,l=t._ptr,u=t._size,h=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,c=u[0],d=u[1],f=o;"string"===typeof h&&(p=h,n=e.convert(n,p),f=e.find(o,[p,p]));for(var g=[],m=[],y=[],v=0;v<d;v++){for(var C=v+1,x=l[v],b=l[v+1],w=x;w<b;w++){var E=s[w];m[E]=a[w],y[E]=C}for(var P=0;P<c;P++)0===v&&(g[P]=[]),y[P]===C?g[P][v]=r?f(n,m[P]):f(m[P],n):g[P][v]=r?f(n,0):f(0,n)}return new i({data:g,size:[c,d],datatype:p})}})),Vi=Dt("algorithm07",["typed","DenseMatrix"],(function(t){var e=t.typed,i=t.DenseMatrix;return function(t,o,r){var a=t._size,s=t._datatype,l=o._size,u=o._datatype;if(a.length!==l.length)throw new Ct(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var h,p,c,d=a[0],f=a[1],g=0,m=r;"string"===typeof s&&s===u&&(h=s,g=e.convert(0,h),m=e.find(r,[h,h]));var y=[];for(p=0;p<d;p++)y[p]=[];var v=[],C=[],x=[],b=[];for(c=0;c<f;c++){var w=c+1;for(n(t,c,x,v,w),n(o,c,b,C,w),p=0;p<d;p++){var E=x[p]===w?v[p]:g,P=b[p]===w?C[p]:g;y[p][c]=m(E,P)}}return new i({data:y,size:[d,f],datatype:h})};function n(t,e,i,n,o){for(var r=t._values,a=t._index,s=t._ptr,l=s[e],u=s[e+1];l<u;l++){var h=a[l];i[h]=o,n[h]=r[l]}}}));function Bi(){throw new Error('No "bignumber" implementation available')}function Wi(){throw new Error('No "fraction" implementation available')}function Gi(){throw new Error('No "matrix" implementation available')}var Hi="zeros",zi=Dt(Hi,["typed","config","matrix","BigNumber"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.BigNumber;return e(Hi,{"":function(){return"Array"===i.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(t){if("string"===typeof t[t.length-1]){var e=t.pop();return a(t,e)}return"Array"===i.matrix?a(t):a(t,"default")},Array:a,Matrix:function(t){var e=t.storage();return a(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return a(t.valueOf(),e)}});function a(t,e){var i=function(t){var e=!1;return t.forEach((function(t,i,n){r(t)&&(e=!0,n[i]=t.toNumber())})),e}(t)?new o(0):0;if(function(t){t.forEach((function(t){if("number"!==typeof t||!$(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}))}(t),e){var a=n(e);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?St(s,t,i):s}}));ei("hex",16);var ji="smaller",Ui=Dt(ji,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.DenseMatrix,r=Ii({typed:e}),a=Vi({typed:e,DenseMatrix:o}),s=Ni({typed:e,DenseMatrix:o}),l=ki({typed:e}),u=Fi({typed:e});return e(ji,{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!ht(t,e,i.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!ce(t,e,i.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return r(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return r(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),Yi="larger",Xi=Dt(Yi,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.DenseMatrix,r=Ii({typed:e}),a=Vi({typed:e,DenseMatrix:o}),s=Ni({typed:e,DenseMatrix:o}),l=ki({typed:e}),u=Fi({typed:e});return e(Yi,{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!ht(t,e,i.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!ce(t,e,i.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return r(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return r(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),qi="unequal",Ki=(Dt(qi,["typed","equalScalar"],(function(t){var e=t.typed,i=t.equalScalar;return e(qi,{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!i(t,e)}})})),Dt("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(t){var e=t.smaller,i=t.DenseMatrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(p(t)||h(t)){var o=new i(t,e);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(t&&h(t.data)&&h(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!==typeof t.min?t.min:null,this._max="undefined"!==typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+H(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return n.prototype=new i,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(t){switch(arguments.length){case 1:var e=i.prototype.subset.call(this,t);return p(e)?new n({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:z(this._data),size:z(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(null===this._min){var t=null;this.forEach((function(i){(null===t||e(i,t))&&(t=i)})),this._min=null!==t?t:void 0}return this._min},n.prototype.max=function(){if(null===this._max){var t=null;this.forEach((function(i){(null===t||e(t,i))&&(t=i)})),this._max=null!==t?t:void 0}return this._max},n}),{isClass:!0}));i(21);var Qi="flatten",$i=Dt(Qi,["typed","matrix"],(function(t){var e=t.typed,i=t.matrix;return e(Qi,{Array:function(t){return Ot(z(t))},Matrix:function(t){var e=Ot(z(t.toArray()));return i(e)}})}));function Ji(t,e,i,n){if(!(this instanceof Ji))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=i,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+i+(void 0!==n&&null!==n?"-"+n:"")+" expected)",this.stack=(new Error).stack}Ji.prototype=new Error,Ji.prototype.constructor=Error,Ji.prototype.name="ArgumentsError",Ji.prototype.isArgumentsError=!0;i(18);var Zi="largerEq",tn=Dt(Zi,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.DenseMatrix,r=Ii({typed:e}),a=Vi({typed:e,DenseMatrix:o}),s=Ni({typed:e,DenseMatrix:o}),l=ki({typed:e}),u=Fi({typed:e});return e(Zi,{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,e){return t>=e||ht(t,e,i.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gte(e)||ce(t,e,i.epsilon)},"Fraction, Fraction":function(t,e){return-1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return r(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return r(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})})),en=Dt("Index",["ImmutableDenseMatrix"],(function(t){var e=t.ImmutableDenseMatrix;function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,o=arguments.length;e<o;e++){var r=arguments[e];if(g(r))this._dimensions.push(r),this._isScalar=!1;else if(Array.isArray(r)||p(r)){var a=n(r.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"===typeof r)this._dimensions.push(n([r]));else{if("string"!==typeof r)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(r)}}}function n(t){for(var i=0,n=t.length;i<n;i++)if("number"!==typeof t[i]||!$(t[i]))throw new TypeError("Index parameters must be positive integer numbers");return new e(t)}return i.prototype.type="Index",i.prototype.isIndex=!0,i.prototype.clone=function(){var t=new i;return t._dimensions=z(this._dimensions),t._isScalar=this._isScalar,t},i.create=function(t){var e=new i;return i.apply(e,t),e},i.prototype.size=function(){for(var t=[],e=0,i=this._dimensions.length;e<i;e++){var n=this._dimensions[e];t[e]="string"===typeof n?1:n.size()[0]}return t},i.prototype.max=function(){for(var t=[],e=0,i=this._dimensions.length;e<i;e++){var n=this._dimensions[e];t[e]="string"===typeof n?n:n.max()}return t},i.prototype.min=function(){for(var t=[],e=0,i=this._dimensions.length;e<i;e++){var n=this._dimensions[e];t[e]="string"===typeof n?n:n.min()}return t},i.prototype.forEach=function(t){for(var e=0,i=this._dimensions.length;e<i;e++)t(this._dimensions[e],e,this)},i.prototype.dimension=function(t){return this._dimensions[t]||null},i.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"===typeof this._dimensions[0]},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var t=[],e=0,i=this._dimensions.length;e<i;e++){var n=this._dimensions[e];t.push("string"===typeof n?n:n.toArray())}return t},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var t=[],e=0,i=this._dimensions.length;e<i;e++){var n=this._dimensions[e];"string"===typeof n?t.push(JSON.stringify(n)):t.push(n.toString())}return"["+t.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(t){return i.create(t.dimensions)},i}),{isClass:!0});function nn(t){var e;if($(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Ci(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*nn(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,n=i*t,o=n*t,r=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*n)-571/(2488320*o)+163879/(209018880*r)+5246819/(75246796800*r*t))}--t,e=rn[0];for(var a=1;a<rn.length;++a)e+=rn[a]/(t+a);var s=t+on+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}nn.signature="number";var on=4.7421875,rn=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],an=Dt("bignumber",["typed","BigNumber"],(function(t){var e=t.typed,i=t.BigNumber;return e("bignumber",{"":function(){return new i(0)},number:function(t){return new i(t+"")},string:function(t){return new i(t)},BigNumber:function(t){return t},Fraction:function(t){return new i(t.n).div(t.d).times(t.s)},null:function(t){return new i(0)},"Array | Matrix":function(t){return oe(t,this)}})})),sn=Dt("numeric",["number","?bignumber","?fraction"],(function(t){var e=t.number,i=t.bignumber,n=t.fraction,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},r={number:function(t){return e(t)},BigNumber:i?function(t){return i(t)}:Bi,Fraction:n?function(t){return n(t)}:Wi};return function(t,e){var i=H(t);if(!(i in o))throw new TypeError("Cannot convert "+t+' of type "'+i+'"; valid input types are '+Object.keys(o).join(", "));if(!(e in r))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(r).join(", "));return e===i?t:r[e](t)}})),ln="smallerEq",un=Dt(ln,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.DenseMatrix,r=Ii({typed:e}),a=Vi({typed:e,DenseMatrix:o}),s=Ni({typed:e,DenseMatrix:o}),l=ki({typed:e}),u=Fi({typed:e});return e(ln,{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,e){return t<=e||ht(t,e,i.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lte(e)||ce(t,e,i.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return r(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return r(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return u(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return u(e,t,this,!0)},"Array, any":function(t,e){return u(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,this,!0).valueOf()}})}));function hn(t,e,i){var n;return-1!==String(t).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+H(i)+", value: "+JSON.stringify(i)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):-1!==String(t).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+H(i)+", value: "+JSON.stringify(i)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var pn=Dt("min",["typed","config","numeric","smaller"],(function(t){var e=t.typed,i=t.config,n=t.numeric,o=t.smaller;return e("min",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){return re(t,e.valueOf(),r)},"...":function(t){if(ie(t))throw new TypeError("Scalar values expected in function min");return a(t)}});function r(t,e){try{return o(t,e)?t:e}catch(i){throw hn(i,"min",e)}}function a(t){var e;if(ne(t,(function(t){try{isNaN(t)&&"number"===typeof t?e=NaN:(void 0===e||o(t,e))&&(e=t)}catch(i){throw hn(i,"min",t)}})),void 0===e)throw new Error("Cannot calculate min of an empty array");return"string"===typeof e&&(e=n(e,i.number)),e}}));var cn="subtract",dn=Dt(cn,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(t){var e=t.typed,i=t.matrix,n=t.equalScalar,o=t.addScalar,r=t.unaryMinus,a=t.DenseMatrix,s=Ai({typed:e}),l=Ii({typed:e}),u=Li({typed:e,equalScalar:n}),h=Di({typed:e,DenseMatrix:a}),p=ki({typed:e}),c=Fi({typed:e});return e(cn,{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var i=t.clone();return i.value=this(i.value,e.value),i.fixPrefix=!1,i},"SparseMatrix, SparseMatrix":function(t,e){return fn(t,e),u(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return fn(t,e),l(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return fn(t,e),s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return fn(t,e),p(t,e,this)},"Array, Array":function(t,e){return this(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return this(i(t),e)},"Matrix, Array":function(t,e){return this(t,i(e))},"SparseMatrix, any":function(t,e){return h(t,r(e),o)},"DenseMatrix, any":function(t,e){return c(t,e,this)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(i(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(i(e),t,this,!0).valueOf()}})}));function fn(t,e){var i=t.size(),n=e.size();if(i.length!==n.length)throw new Ct(i.length,n.length)}var gn="range",mn=Dt(gn,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(t){var e=t.typed,i=t.config,n=t.matrix,o=t.bignumber,r=t.smaller,a=t.smallerEq,s=t.larger,l=t.largerEq;return e(gn,{string:h,"string, boolean":h,"number, number":function(t,e){return u(p(t,e,1))},"number, number, number":function(t,e,i){return u(p(t,e,i))},"number, number, boolean":function(t,e,i){return u(i?c(t,e,1):p(t,e,1))},"number, number, number, boolean":function(t,e,i,n){return u(n?c(t,e,i):p(t,e,i))},"BigNumber, BigNumber":function(t,e){return u(d(t,e,new(0,t.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(t,e,i){return u(d(t,e,i))},"BigNumber, BigNumber, boolean":function(t,e,i){var n=t.constructor;return u(i?f(t,e,new n(1)):d(t,e,new n(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,i,n){return u(n?f(t,e,i):d(t,e,i))}});function u(t){return"Matrix"===i.matrix?n?n(t):Gi():t}function h(t,e){var n=function(t){var e=t.split(":").map((function(t){return Number(t)}));if(e.some((function(t){return isNaN(t)})))return null;switch(e.length){case 2:return{start:e[0],end:e[1],step:1};case 3:return{start:e[0],end:e[2],step:e[1]};default:return null}}(t);if(!n)throw new SyntaxError('String "'+t+'" is no valid range');return"BigNumber"===i.number?(void 0===o&&Bi(),u((e?f:d)(o(n.start),o(n.end),o(n.step)))):u((e?c:p)(n.start,n.end,n.step))}function p(t,e,i){var n=[],o=t;if(i>0)for(;r(o,e);)n.push(o),o+=i;else if(i<0)for(;s(o,e);)n.push(o),o+=i;return n}function c(t,e,i){var n=[],o=t;if(i>0)for(;a(o,e);)n.push(o),o+=i;else if(i<0)for(;l(o,e);)n.push(o),o+=i;return n}function d(t,e,i){var n=o(0),a=[],l=t;if(i.gt(n))for(;r(l,e);)a.push(l),l=l.plus(i);else if(i.lt(n))for(;s(l,e);)a.push(l),l=l.plus(i);return a}function f(t,e,i){var n=o(0),r=[],s=t;if(i.gt(n))for(;a(s,e);)r.push(s),s=s.plus(i);else if(i.lt(n))for(;l(s,e);)r.push(s),s=s.plus(i);return r}})),yn="equal",vn=(Dt(yn,["typed","equalScalar"],(function(t){var e=t.typed,i=t.equalScalar;return e(yn,{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:i(t,e)}})})),Dt("max",["typed","config","numeric","larger"],(function(t){var e=t.typed,i=t.config,n=t.numeric,o=t.larger;return e("max",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){return re(t,e.valueOf(),r)},"...":function(t){if(ie(t))throw new TypeError("Scalar values expected in function max");return a(t)}});function r(t,e){try{return o(t,e)?t:e}catch(i){throw hn(i,"max",e)}}function a(t){var e;if(ne(t,(function(t){try{isNaN(t)&&"number"===typeof t?e=NaN:(void 0===e||o(t,e))&&(e=t)}catch(i){throw hn(i,"max",t)}})),void 0===e)throw new Error("Cannot calculate max of an empty array");return"string"===typeof e&&(e=n(e,i.number)),e}}))),Cn="column",xn=Dt(Cn,["typed","Index","matrix","range"],(function(t){var e=t.typed,i=t.Index,n=t.matrix,o=t.range;return e(Cn,{"Matrix, number":r,"Array, number":function(t,e){return r(n(z(t)),e).valueOf()}});function r(t,e){if(2!==t.size().length)throw new Error("Only two dimensional matrix is supported");Pt(e,t.size()[1]);var n=o(0,t.size()[0]),r=new i(n,e);return t.subset(r)}}));i(23);var bn=Lt({}),wn=Ht({config:Q}),En=zt({}),Pn=Xt({}),Sn=qt({Matrix:En}),Tn=Jt({BigNumber:wn,Complex:bn,DenseMatrix:Sn,Fraction:Pn}),_n=fe({config:Q,typed:Tn}),Mn=ge({typed:Tn}),Rn=Ei({Fraction:Pn,typed:Tn}),On=Si({typed:Tn}),An=_i({typed:Tn}),Dn=Mi({Matrix:En,equalScalar:_n,typed:Tn}),kn=Oi({DenseMatrix:Sn,Matrix:En,SparseMatrix:Dn,typed:Tn}),Fn=zi({BigNumber:wn,config:Q,matrix:kn,typed:Tn}),In=Ui({DenseMatrix:Sn,config:Q,matrix:kn,typed:Tn}),Ln=Xi({DenseMatrix:Sn,config:Q,matrix:kn,typed:Tn}),Nn=Ki({DenseMatrix:Sn,smaller:In}),Vn=$i({matrix:kn,typed:Tn}),Bn=tn({DenseMatrix:Sn,config:Q,matrix:kn,typed:Tn}),Wn=en({ImmutableDenseMatrix:Nn}),Gn=an({BigNumber:wn,typed:Tn}),Hn=sn({bignumber:Gn,fraction:Rn,number:Mn}),zn=un({DenseMatrix:Sn,config:Q,matrix:kn,typed:Tn}),jn=pn({config:Q,numeric:Hn,smaller:In,typed:Tn}),Un=dn({DenseMatrix:Sn,addScalar:An,equalScalar:_n,matrix:kn,typed:Tn,unaryMinus:On}),Yn=mn({bignumber:Gn,matrix:kn,config:Q,larger:Ln,largerEq:Bn,smaller:In,smallerEq:zn,typed:Tn}),Xn=vn({config:Q,larger:Ln,numeric:Hn,typed:Tn}),qn=xn({Index:Wn,matrix:kn,range:Yn,typed:Tn})}]]);
//# sourceMappingURL=2.21829c22.chunk.js.map